function ProChart_InitPanels(ya){var L,K,R,U,V,W,X,S,Y,Z;function da(c){E(c,"panel_containe");L=E(c,"panel_price");K=E(c,"panel_study");R=E(c,"panel_splitter");U=E(c,"legend_price");V=E(c,"legend_study");W=E(c,"legend_compare");X=E(c,"legend_plugin");S=E(c,"signal");Y=E(c,"htmlcontainer");Z=E(c,"panels-toolbar");L=L.replace(/%=""/g,"%");K=K.replace(/%=""/g,"%")}function ea(){var c=w.length;D();for(var b=0;b<c;b++)switch(w[b].type){case "price":fa(w[b].id);break;case "study":ga(w[b].id);break;case "signal":aa(w[b].id)}}
function J(){var c=$(f.init.chartcontainer);if(2>d.length)A=[],$(c).find(".chart-pane-splitter").remove();else{for(var b=[],c=[],a=0;a<d.length-1;a++)b.push({pane_before_guiid:d[a].guiid,pane_after_guiid:d[a+1].guiid});for(a=A.length-1;0<=a;a--){for(var e=!1,p=0;p<b.length;p++)A[a].pane_before_guiid==b[p].pane_before_guiid&&A[a].pane_after_guiid==b[p].pane_after_guiid&&(e=!0);e||((p=$("#"+A[a].guiid))&&p.remove(),A.splice(a,1))}for(p=0;p<b.length;p++){e=!1;for(a=0;a<A.length;a++)A[a].pane_before_guiid==
b[p].pane_before_guiid&&A[a].pane_after_guiid==b[p].pane_after_guiid&&(e=!0);e||c.push({pane_before_guiid:b[p].pane_before_guiid,pane_after_guiid:b[p].pane_after_guiid})}for(p=0;p<c.length;p++)b=za(c[p].pane_before_guiid,c[p].pane_after_guiid),$("#"+b.guiid).prochart_splitterh({handle:"",cursor:"n-resize",min:50,start:function(){f.chart.EnableSplitMode(!0)},resizing:function(a,b){for(var c=0;c<a.length;c++){var e=a[c];if("undefined"!=typeof e)for(var g=0;g<d.length;g++)if(d[g].guiid==e.id)switch(d[g].type){case "price":ba(d[g],
e.width,e.height);if("undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g]);break;case "study":ha(d[g],e.width,e.height);if("undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g]);break;case "signal":if(ia(d[g],e.width,e.height),"undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g])}}b&&f.chart.AdjustSize(null,null)},completed:function(){f.chart.AdjustSize(null,
null);f.chart.EnableSplitMode(!1)}})}}function ja(c){for(var b=0;b<c.length;b++){for(var a=0;a<w.length;a++)w[a].id==c[b].id&&w.splice(a,1);for(a=0;a<d.length;a++)if(d[a].id==c[b].id){B.guiid==d[a].guiid&&(B.guiid=null);var e=d[a],p="#"+e.guiid;if(p=$(f.init.chartcontainer).find(p)){p.remove();try{var r="#"+e.legend.guiid;try{var n=Object.keys(x.mycache);G.debug("Keys of cache",Object.keys(x.mycache));for(e=0;e<n.length;e++)n[e].startsWith(r)&&delete x.mycache[n[e]];G.debug("Keys of cache",Object.keys(x.mycache))}catch(l){G.error(l)}}catch(m){}}d.splice(a,
1)}}D();M();J();ca();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c}function ka(c){30<=f.api.debug.level&&console.time("cache");for(var b=0;b<c.length;b++){var a=c[b],e=a.id,p="";try{var r;a:{for(var n=0;n<d.length;n++)if(d[n].id==e&&("price"==d[n].type||"study"==d[n].type||"plugin"==d[n].type||"signal"==d[n].type)){r=d[n];break a}r=null}p=r.type}catch(l){G.warn("Not found panel and panel type",e);continue}for(var n=[],m=0;m<a.fields.length;m++)switch(a.fields[m].type){case "price":try{if(!0==
f.currenlayout.chart_panels.price.legend.view){var g=a.fields[m],k=Q(e);if(null!=k){if(null==h("#"+k+"#"+g.uid)){var Aa=U.replace(/%id%/g,g.uid).replace(/%item_id%/g,g.editIdx).replace(/%visible%/g,g.visible?"":"legend-visible-off").replace(/%item_type%/g,g.type);null==h("#"+k)&&u("#"+k,$("#"+k));h("#"+k).append(Aa)}null==h("#"+k+"#"+g.uid)&&u("#"+k+"#"+g.uid,h("#"+k).find("#"+g.uid));f.api.debug.level=0;var s=h("#"+k+"#"+g.uid);null==h("#"+k+"#"+g.uid+".legend-price-description")&&(u("#"+k+"#"+g.uid+
".legend-price-description",s.find(".legend-price-description")),30<=f.api.debug.level&&console.log("legend-price-description"));h("#"+k+"#"+g.uid+".legend-price-description").html(g.name);null==h("#"+k+"#"+g.uid+".legend-price-open.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-open.legend-title",s.find(".legend-price-open.legend-title")),30<=f.api.debug.level&&console.log("legend-price-open.legend-title"));h("#"+k+"#"+g.uid+".legend-price-open.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+
g.captions[0],g.captions[0]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-low.legend-title")&&u("#"+k+"#"+g.uid+".legend-price-low.legend-title",s.find(".legend-price-low.legend-title"));h("#"+k+"#"+g.uid+".legend-price-low.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+g.captions[1],g.captions[1]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-high.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-high.legend-title",s.find(".legend-price-high.legend-title")),
30<=f.api.debug.level&&console.log("legend-price-high.legend-title"));h("#"+k+"#"+g.uid+".legend-price-high.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+g.captions[2],g.captions[2]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-close.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-close.legend-title",s.find(".legend-price-close.legend-title")),30<=f.api.debug.level&&console.log("legend-price-close.legend-title"));h("#"+k+"#"+g.uid+".legend-price-close.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+
g.captions[3],g.captions[3]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-open.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-open.legend-value",s.find(".legend-price-open.legend-value")),30<=f.api.debug.level&&console.log("legend-price-open.legend-value"));h("#"+k+"#"+g.uid+".legend-price-open.legend-value").css("color",g.colors[0]).html(g.values[0]);null==h("#"+k+"#"+g.uid+".legend-price-low.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-low.legend-value",s.find(".legend-price-low.legend-value")),
30<=f.api.debug.level&&console.log("legend-price-low.legend-value"));h("#"+k+"#"+g.uid+".legend-price-low.legend-value").css("color",g.colors[1]).html(g.values[1]);null==h("#"+k+"#"+g.uid+".legend-price-high.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-high.legend-value",s.find(".legend-price-high.legend-value")),30<=f.api.debug.level&&console.log("legend-price-high.legend-valu"));h("#"+k+"#"+g.uid+".legend-price-high.legend-value").css("color",g.colors[2]).html(g.values[2]);null==h("#"+k+"#"+
g.uid+".legend-price-close.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-close.legend-value",s.find(".legend-price-close.legend-value")),30<=f.api.debug.level&&console.log("legend-price-close.legend-value"));h("#"+k+"#"+g.uid+".legend-price-close.legend-value").css("color",g.colors[3]).html(g.values[3])}n.push(a.fields[m].uid)}}catch(v){}break;case "study":switch(p){case "price":try{!0==f.currenlayout.chart_panels.price.legend.view&&la(e)&&(ma(e,a.fields[m]),n.push(a.fields[m].uid))}catch(w){}break;
case "study":try{!0==f.currenlayout.chart_panels.study.legend.view&&la(e)&&(ma(e,a.fields[m]),n.push(a.fields[m].uid))}catch(B){}}break;case "compare":try{if(!0==f.currenlayout.chart_panels.price.legend.view){var t=e,q=a.fields[m],C=Q(t);if(null!=C){if(null==h("#"+C+"#"+q.uid)){var y=W.replace(/%item_id%/g,q.editIdx).replace(/%item_type%/g,q.type).replace(/%visible%/g,q.visible?"":"legend-visible-off").replace(/%css%/g,!1==N(t)||"false"==N(t)?" hide-legend":"").replace(/%id%/g,q.uid);$("#"+C).append(y)}null==
h("#"+C+"#"+q.uid)&&u("#"+C+"#"+q.uid,$("#"+C).find("#"+q.uid));var F=h("#"+C+"#"+q.uid);null==h("#"+C+"#"+q.uid+" .legend-compare-description")&&u("#"+C+"#"+q.uid+" .legend-compare-description",F.find(".legend-compare-description"));h("#"+C+"#"+q.uid+" .legend-compare-description").html(q.captions[0]);null==h("#"+C+"#"+q.uid+" .legend-compare-value")&&u("#"+C+"#"+q.uid+" .legend-compare-value",F.find(".legend-compare-value"));h("#"+C+"#"+q.uid+" .legend-compare-value").css("color",q.colors[0]).html(q.values[0])}n.push(a.fields[m].uid)}}catch(A){}break;
case "plugin":try{if(!0==f.currenlayout.chart_panels.plugin.legend.view){var t=e,z=a.fields[m],H=Q(t);if(null!=H){if(null==h("#"+H+"#"+z.uid)){var E="";"undefined"!=z.titlelocalize&&(E='data-localize="'+z.titlelocalize+'"');var I=X.replace(/%display-closebt%/g,z.closeBtn?"":"display:none").replace(/%item_id%/g,z.editIdx).replace(/%item_type%/g,z.type).replace(/%legend_title_localization%/g,E).replace(/%visible%/g,z.visible?"":"legend-visible-off").replace(/%css%/g,!1==N(t)||"false"==N(t)?" hide-legend":
"").replace(/%id%/g,z.uid);$("#"+H).append(I)}null==h("#"+H+"#"+z.uid)&&u("#"+H+"#"+z.uid,$("#"+H).find("#"+z.uid));var L=h("#"+H+"#"+z.uid);null==h("#"+H+"#"+z.uid+" .legend-plugin-description")&&u("#"+H+"#"+z.uid+" .legend-plugin-description",L.find(".legend-plugin-description"));h("#"+H+"#"+z.uid+" .legend-plugin-description").html(z.name)}n.push(a.fields[m].uid)}}catch(K){}}a=[];e=Q(e);a=x.mycache["#"+e+">legends:"];"undefined"==typeof a&&(a=[]);a=f.commonutils.func.intersection_difference(a,
n).res2;for(p=0;p<a.length;p++){$("#"+e).find("#"+a[p]).remove();G.debug("Not-used legend's id:"+e+"dif[k] :"+a[p]);m="#"+e+"#"+a[p];try{var D=Object.keys(x.mycache);G.debug("Keys of cache",Object.keys(x.mycache));for(t=0;t<D.length;t++)D[t].startsWith(m)&&delete x.mycache[D[t]];G.debug("Keys of cache",Object.keys(x.mycache))}catch(J){G.error(J)}}x.mycache["#"+e+">legends:"]=n}Ba();Ca();Da()}function ma(c,b){var a=Q(c);if(null!=a){if(null==h("#"+a+"#"+b.uid)){var e=V.replace(/%display-closebt%/g,
b.closeBtn?"":"display:none").replace(/%item_id%/g,b.editIdx).replace(/%item_type%/g,b.type).replace(/%visible%/g,b.visible?"":"legend-visible-off").replace(/%id%/g,b.uid).replace(/%css%/g,!1==N(c)||"false"==N(c)?" hide-legend":"");null==h("#"+a)&&u("#"+a,$("#"+a));h("#"+a).append(e);if(1<b.values.length){null==h("#"+a+"#"+b.uid+".legend-study-values")&&u("#"+a+"#"+b.uid+".legend-study-values",$("#"+b.uid).find(".legend-study-values"));e=h("#"+a+"#"+b.uid+".legend-study-values");null==h("#"+a+"#"+
b.uid+".legend-study-values .legend-study-value")&&u("#"+a+"#"+b.uid+".legend-study-values .legend-study-value",h("#"+a+"#"+b.uid+".legend-study-values").find(".legend-study-value"));for(var d=h("#"+a+"#"+b.uid+".legend-study-values .legend-study-value").clone(!0),r=0;r<b.values.length-1;r++)e.append(d.clone(!0))}}e="";for(d=0;d<b.sources.length;d++)d<b.sources.length&&0<e.length&&(e+=","),e+=f.localizationobj.gui.returnLocalizationString("dialogs.indicator.source."+b.sources[d],b.sources[d]).toLowerCase();
for(d=0;d<b.params.length;d++)d<b.params.length&&0<e.length&&(e+=","),e+=b.params[d];0<e.length&&(e="("+e+")");null==h("#"+a+"#"+b.uid)&&u("#"+a+"#"+b.uid,$("#"+a).find("#"+b.uid));d=h("#"+a+"#"+b.uid);null==h("#"+a+"#"+b.uid+" .legend-study-description")&&u("#"+a+"#"+b.uid+" .legend-study-description",d.find(".legend-study-description"));h("#"+a+"#"+b.uid+" .legend-study-description").html(b.name);null==h("#"+a+"#"+b.uid+" .legend-study-params")&&u("#"+a+"#"+b.uid+" .legend-study-params",d.find(".legend-study-params"));
h("#"+a+"#"+b.uid+" .legend-study-params").html(e);null==h("#"+a+"#"+b.uid+" .legend-study-value")&&u("#"+a+"#"+b.uid+" .legend-study-value",d.find(".legend-study-value"));a=h("#"+a+"#"+b.uid+" .legend-study-value");for(e=0;e<b.values.length;e++)a.eq(e).css("color",b.colors[e]).html(b.values[e]?b.values[e]:"NaN")}}function ca(){null!=B.guiid&&($("#"+B.guiid).find(".controlpanel-button-selected").removeClass("controlpanel-button-selected"),B.guiid=null)}function na(){$(f.init.chartcontainer).find(".controlpanel-down").off().on("click",
function(){var c=$(this).attr("itemid");oa(c,"down")})}function pa(){$(f.init.chartcontainer).find(".controlpanel-up").off().on("click",function(){var c=$(this).attr("itemid");oa(c,"up")})}function oa(c,b){var a,e,p,r,n,l,m,g,k;if(!(2>d.length)){var h=["price","study"];switch(b){case "up":k=g=m=l=n=r=p=e=null;for(a=0;a<d.length;a++)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[d.length-1].guiid,e=d[d.length-1].id,O(d,m,d.length-
1),$("#"+a).after($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"bottom")):(O(d,m,p),$("#"+e).before($("#"+l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J();break;case "down":k=g=m=l=n=r=p=e=null;for(a=d.length-1;-1<a;a--)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[0].guiid,e=d[0].id,O(d,m,0),$("#"+a).before($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"top")):(O(d,m,p),$("#"+e).after($("#"+
l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J();break;case "top":k=g=m=l=n=r=p=e=null;for(a=d.length-1;-1<a;a--)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[0].guiid,e=d[0].id,O(d,m,0),$("#"+a).before($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"top")):(O(d,m,p),$("#"+e).after($("#"+l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J()}}}function O(c,b,a){var e=
c[b];c.splice(b,1);c.splice(a,0,e)}function qa(){$(f.init.chartcontainer).find(".controlpanel-window").off().on("click",function(){var c=$(this).attr("itemid");$(this).toggleClass("controlpanel-button-selected");B.guiid=B.guiid==c?null:c;M();f.chart.AdjustSize(null,null)})}function ra(){$(f.init.chartcontainer).find(".controlpanel-close").off().on("click",function(){var c=$(this).attr("panelid");f.chart.DeletePanel(c)})}function Ba(){$(".legend-button-close").off().on("click",function(){var c=$(this).attr("itemid"),
b=$(this).attr("itemtype");switch(b){case "plugin":f.signals.gui.pluginDelete(c);break;default:f.chart.legend.Delete(c,b)}})}function Da(){$(".legend-button-visible").off().on("click",function(){var c=$(this).attr("itemid"),b=$(this).attr("itemtype"),a=$(this).hasClass("legend-visible-off");f.chart.legend.SetVisible(c,b,a);$(this).toggleClass("legend-visible-off")})}function Ca(){$(".legend-button-properties").off().on("click",function(){var c=$(this).attr("itemid"),b=$(this).attr("itemtype");switch(b){case "plugin":f.signals.gui.pluginOpenDialog(c);
break;default:f.chart.legend.Edit(c,b,!1)}})}function Q(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))return d[b].legend.guiid;return null}function la(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))switch(d[b].type){case "price":try{return f.currenlayout.chart_panels.price.collapselegend.collapseopen||f.currenlayout.chart_panels.price.collapselegend.view}catch(a){return!0}case "study":try{return f.currenlayout.chart_panels.study.collapselegend.collapseopen||
f.currenlayout.chart_panels.study.collapselegend.view}catch(e){return!0}case "plugin":return!0;case "signal":return!0}}function N(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type)){if("undefined"!=typeof d[b].legend.collapseopen)return d[b].legend.collapseopen;switch(d[b].type){case "price":try{return"undefined"!=typeof f.currenlayout.chart_panels.price.collapselegend.collapseopen?f.currenlayout.chart_panels.price.collapselegend.collapseopen:
!0}catch(a){return!0}case "study":try{return"undefined"!=typeof f.currenlayout.chart_panels.study.collapselegend.collapseopen?f.currenlayout.chart_panels.study.collapselegend.collapseopen:!0}catch(e){return!0}}}return!0}function M(){D();for(var c=0;c<d.length;c++)switch(d[c].type){case "price":ba(d[c],null,null);if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);y(d[c],"controlpanel");y(d[c],"zoom");y(d[c],"legend");y(d[c],"lastupdate");y(d[c],
"communic");y(d[c],"axisxalert");break;case "study":ha(d[c],null,null);y(d[c],"controlpanel");y(d[c],"legend");if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);break;case "splitter":sa(d[c]);break;case "signal":ia(d[c]);if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);y(d[c],"controlpanel");y(d[c],"legend")}}function y(c,b){try{var a=f.currenlayout.chart_panels[c.type][b];"undefined"!=
typeof a&&"undefined"!=typeof a.view&&!0==a.view?"controlpanel"==b&&1==d.length?$("#"+c[b].guiid).css("display","none"):$("#"+c[b].guiid).css("display","block"):$("#"+c[b].guiid).css("display","none")}catch(e){}}function ta(){for(var c=0;c<A.length;c++)switch(A[c].type){case "splitter":sa(A[c])}}function fa(c){var b=$(f.init.chartcontainer),a=f.currenlayout.chart_panels.unit;if(null!=L){var e=f.commonutils.func.returnShortUniqID(),p=f.commonutils.func.returnShortUniqID(),r=f.commonutils.func.returnShortUniqID(),
n=f.commonutils.func.returnShortUniqID(),l=f.commonutils.func.returnShortUniqID(),m=f.commonutils.func.returnShortUniqID(),g=f.commonutils.func.returnShortUniqID(),k=f.commonutils.func.returnShortUniqID(),h=f.commonutils.func.returnShortUniqID(),u=f.commonutils.func.returnShortUniqID(),w=f.commonutils.func.returnShortUniqID(),y=f.commonutils.func.returnShortUniqID(),B=f.commonutils.func.returnShortUniqID(),t=ua(),q=L.replace(T,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(t.panelsize,
a)),q=q.replace(/%main-id%/g,p).replace(/%main-style%/g,s(t.innermainsize,a)),q=q.replace(/%x-id%/g,m).replace(/%date-style%/g,s(t.dateaxissize,a)),q=q.replace(/%y-id%/g,r).replace(/%price-style%/g,s(t.priceaxissize,a)),q=q.replace(/%legend-id%/g,g).replace(/%legend-style%/g,s(t.legendsize,a)),q=q.replace(/%wm-id%/g,u).replace(/%watermark-style%/g,s(t.watermarksize,a)),q=q.replace(/%cp-id%/g,h).replace(/%cp-style%/g,s(t.controlpanelsize,a)).replace(/%item-id%/g,e),q=q.replace(/%zoom-id%/g,k).replace(/%zoom-style%/g,
s(t.zoomsize,a)),q=q.replace(/%lastupdate-id%/g,y).replace(/%lastupdate-style%/g,s(t.lastupdatesize,a,1)),q=q.replace(/%communic-id%/g,B).replace(/%communic-style%/g,s(t.communicsize,a,1)),q=q.replace(/%xalert-id%/g,n).replace(/%xalert-style%/g,s(t.axisxalertsize,a)),q=q.replace(/%xmsg-id%/g,l).replace(/%xmsg-style%/g,s(t.axisxmsgsize,a)),u="";try{if("undefined"!=typeof f.currenlayout.chart_panels.price.htmlcontainers){var C=f.currenlayout.chart_panels.price.htmlcontainers;if("undefined"!=typeof C.items)for(var E=
0;E<C.items.length;E++){var F=C.items[E],A="";"undefined"!=typeof F.css&&(A=F.css);var z="";"undefined"!=typeof F.content&&(z=F.content);var H="",D=f.commonutils.func.returnShortUniqID();"undefined"!=typeof F.id&&(H=F.id);var G=v({width:f.currenlayout.chart.width,height:I.price.height},F),u=u+Y.replace(/%id%/g,D).replace(/%css%/g,A+" price-html-container").replace(/%style%/g,s(G,a,1));0<H.length&&(x.htmlcustomcontainers[H]=D);if("undefined"!=typeof F.items)for(z="",A=0;A<F.items.length;A++){var J=
F.items[A];switch(J.type){case "toolbar":var K=Ea(J),z=z+K}}u=u.replace(/%html%/g,z)}}}catch(M){}q=q.replace(/%htmlcontainers%/g,u);if("undefined"!=typeof f.currenlayout.chart_panels.price.collapselegend){C=!1==f.currenlayout.chart_panels.price.collapselegend.collapseopen||"false"==f.currenlayout.chart_panels.price.collapselegend.collapseopen?!1:!0;F=G=D=D="";try{D=f.currenlayout.chart_panels.price.collapselegend.title_1,G=f.currenlayout.chart_panels.price.collapselegend.title_2}catch(N){}D=!1==C?
D:G;F=!1==C?" collapsebutton_close":" collapsebutton_open";q=q.replace(/%collapselegend-id%/g,w).replace(/%title1%/g,D).replace(/%collapseopen%/g,C).replace(/%caption%/g,"").replace(/ %collapsebuttoncss%/g,F).replace(/%collapselegend-style%/g,s(t.collapselegend,a,1).replace("pointer-events:none",""))}else q=q.replace(/%collapselegend-id%/g,"").replace(/%title1%/g,"").replace(/%collapseopen%/g,"").replace(/%caption%/g,"").replace(/%collapselegend-id%/g,w).replace(/%collapselegend-style%/g,'style=" display:none; "');
b.append(q);d.push({id:c,guiid:e,type:"price",width:t.panelsize.width+a,height:t.panelsize.height+a,y:{guiid:r,width:t.priceaxissize.width+a,height:t.priceaxissize.height+a},x:{guiid:m,width:t.dateaxissize.width+a,height:t.dateaxissize.height+a},axisxalert:{guiid:n,width:t.axisxalertsize.width+a,height:t.axisxalertsize.height+a},axisxmsg:{guiid:l,width:t.axisxmsgsize.width+a,height:t.axisxmsgsize.height+a},main:{guiid:p,width:t.innermainsize.width+a,height:t.innermainsize.height+a},legend:{guiid:g},
zoom:{guiid:k},controlpanel:{guiid:h},lastupdate:{guiid:y},communic:{guiid:B}})}$("#"+e).find("button.button-action").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof f.actions)switch(a){case "legend-collapse":var b=e,c=f.commonutils.func.toBool($(this).attr("collapseopen")),g="",k="";try{g=f.currenlayout.chart_panels.price.collapselegend.title_1,k=f.currenlayout.chart_panels.price.collapselegend.title_2}catch(p){}f.actions.action(a,b,c);$(this).attr("collapseopen",
!0==c?!1:!0);$(this).find("b").html(!1==c?k:g);a:for(a=e,c=!0==c?!1:!0,b=0;b<d.length;b++)if(d[b].guiid==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type)){d[b].legend.collapseopen=c;break a}}})}function Ea(c){var b=f.commonutils.func.returnShortUniqID();c.guiid=b;var a=Z.replace(T,"").replace(/%id%/g,b).replace(/%style%/g,Fa(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+b+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];for(var e=
"right left width height top bottom".split(" "),d=0;d<e.length;d++)c.possition.fns.push({prop:e[d],actions:["$('#"+b+"').css('"+e[d]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});return{header:a}}function Fa(c,b){var a="",a="undefined"==typeof c.position?a+"position :absolute;":a+"position :"+c.position+"; ",e="px";"undefined"!=typeof b&&null!=b&&(e=b);"undefined"!=typeof c.display&&(a=a+"display :"+c.display+";");"undefined"!=typeof c.left&&(a=a+"left :"+P(c.left,e)+"; ");"undefined"!=typeof c.right&&
(a=a+"right :"+P(c.right,e)+"; ");"undefined"!=typeof c.top&&(a=a+"top :"+P(c.top,e)+"; ");"undefined"!=typeof c.bottom&&(a=a+"bottom :"+P(c.bottom,e)+"; ");"undefined"!=typeof c.width&&(a=a+"width :"+P(c.width,e)+"; ");"undefined"!=typeof c.height&&(a=a+"height :"+P(c.height,e)+"; ");"undefined"!=typeof c.view&&!0!=c.view&&(a+="display : none; ");return 0<a.length?'style="'+a+'"':null}function ga(c,b){var a=$(f.init.chartcontainer),e=f.currenlayout.chart_panels.unit;if(null!=K){var p=f.commonutils.func.returnShortUniqID(),
r=f.commonutils.func.returnShortUniqID(),n=f.commonutils.func.returnShortUniqID(),l=f.commonutils.func.returnShortUniqID(),m=f.commonutils.func.returnShortUniqID(),g=f.commonutils.func.returnShortUniqID(),k=va(),h=K.replace(T,"").replace(/%id%/g,p).replace(/%guiid%/g,p).replace(/%pane-style%/g,s(k.panelsize,e)),h=h.replace(/%main-id%/g,r).replace(/%main-style%/g,s(k.innermainsize,e)),h=h.replace(/%x-id%/g,l).replace(/%date-style%/g,s(k.dateaxissize,e)),h=h.replace(/%y-id%/g,n).replace(/%price-style%/g,
s(k.priceaxissize,e)),h=h.replace(/%legend-id%/g,m).replace(/%legend-style%/g,s(k.legendsize,e)),h=h.replace(/%cp-id%/g,g).replace(/%panel-id%/g,c).replace(/%cp-style%/g,s(k.controlpanelsize,e)).replace(/%item-id%/g,p);"top"==b.position?a.prepend(h):a.append(h);a={id:c,guiid:p,type:"study",width:k.panelsize.width+e,height:k.panelsize.height+e,y:{guiid:n,width:k.priceaxissize.width+e,height:k.priceaxissize.height+e},x:{guiid:l,width:k.dateaxissize.width+e,height:k.dateaxissize.height+e},main:{guiid:r,
width:k.innermainsize.width+e,height:k.innermainsize.height+e},legend:{guiid:m},controlpanel:{guiid:g}};"top"==b.position?d.unshift(a):d.push(a)}}function za(c,b){$(f.init.chartcontainer);var a=f.currenlayout.chart_panels.unit;if(null!=R){var e=f.commonutils.func.returnShortUniqID(),d=f.commonutils.func.returnShortUniqID(),h=wa(),n=R.replace(T,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(h.panelsize,a)),n=n.replace(/%main-id%/g,d).replace(/%main-style%/g,s(h.innermainsize,
a));$("#"+c).after(n);a={id:null,guiid:e,type:"splitter",width:h.panelsize.width+a,height:h.panelsize.height+a,pane_before_guiid:c,pane_after_guiid:b,main:{guiid:d,width:h.innermainsize.width+a,height:h.innermainsize.height+a}};A.push(a);return a}}function aa(c){var b=$(f.init.chartcontainer),a=f.currenlayout.chart_panels.unit;if(null!=S){var e=f.commonutils.func.returnShortUniqID(),p=f.commonutils.func.returnShortUniqID(),h=f.commonutils.func.returnShortUniqID(),n=f.commonutils.func.returnShortUniqID(),
l=f.commonutils.func.returnShortUniqID(),m=xa(),g=S.replace(/=""/g,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(m.panelsize,a)),g=g.replace(/%main-id%/g,p).replace(/%main-style%/g,s(m.innermainsize,a)),g=g.replace(/%legend-id%/g,h).replace(/%legend-style%/g,s(m.legendsize,a)),g=g.replace(/%cp-id%/g,n).replace(/%cp-style%/g,s(m.controlpanelsize,a)).replace(/%item-id%/g,e),g=g.replace(/%alert-id%/g,l).replace(/%alert-style%/g,s(m.alertsize,a)).replace(/%item-id%/g,e);b.append(g);
c={id:c,guiid:e,type:"signal",width:m.panelsize.width+a,height:m.panelsize.height+a,main:{guiid:p,width:m.innermainsize.width+a,height:m.innermainsize.height+a},legend:{guiid:h},controlpanel:{guiid:n},alert:{guiid:l}};d.push(c);return c}return null}function ua(c,b){var a=f.currenlayout.chart_panels.price,e={width:f.currenlayout.chart.width,height:null!=b?b:I.price.height},d=v(e,a.main,a),h=v(e,a.axisx,a),n=v(e,a.axisy,a),l=v(e,a.legend,a),m=v(e,a.zoom,a),g=v(e,a.controlpanel,a),k=v(e,a.lastupdate,
a),s=v(e,a.communic,a),u=v(e,a.watermark,a),w=v(e,a.collapselegend,a),x=v(e,a.axisxalert,a),y=v(e,a.volume,a),a=v(e,a.axisxmsg,a);return{panelsize:e,innermainsize:d,dateaxissize:h,priceaxissize:n,legendsize:l,zoomsize:m,controlpanelsize:g,lastupdatesize:k,communicsize:s,watermarksize:u,collapselegend:w,axisxalertsize:x,volumesize:y,axisxmsgsize:a}}function va(c,b){var a=f.currenlayout.chart_panels.study,e={width:f.currenlayout.chart.width,height:null!=b?b:I.study.height},d=v(e,a.main),h=v(e,a.axisx),
n=v(e,a.axisy),l=v(e,a.legend),a=v(e,a.controlpanel);return{panelsize:e,innermainsize:d,dateaxissize:h,priceaxissize:n,legendsize:l,controlpanelsize:a}}function wa(){var c={width:f.currenlayout.chart.width,height:0},b=v(c,f.currenlayout.chart_panels.splitterx.main);return{panelsize:c,innermainsize:b}}function xa(c,b){var a={width:f.currenlayout.chart.width,height:null!=b?b:I.signal.height},e=f.currenlayout.chart_panels.signal,d=v(a,e.main),h=v(a,e.legend),n=v(a,e.controlpanel),e=v(a,e.alert);return{panelsize:a,
innermainsize:d,legendsize:h,controlpanelsize:n,alertsize:e}}function v(c,b,a){var e={};if("undefined"==typeof b)return e;var d="",d="undefined"==typeof b.width?"auto":b.width;"undefined"!=typeof b.left&&(e.left="center"==b.left?c.width/2-d/2:b.left);"undefined"!=typeof b.right&&(e.right="center"==b.right?c.width/2+d/2:b.right);switch(d){case "auto":"undefined"==typeof e.left&&(e.left=0);"undefined"==typeof e.right&&(e.right=0);var d=isNaN(e.right)?0:parseInt(e.right),f=isNaN(e.left)?0:parseInt(e.left);
e.width=c.width-f-d;break;case "inherit":break;default:e.width=b.width}"undefined"!=typeof b.top&&(e.top=b.top);d="";if("undefined"!=typeof b.bottom)switch(d=b.bottom,d){case "relative":d=0;if("undefined"!=typeof b.bottomrelative)for(var f=b.bottomrelative.split(","),h=0;h<f.length;h++)if(!1==isNaN(f[h]))d+=parseInt(f[h]);else if("undefined"!=typeof a[f[h]]&&"undefined"!=typeof a[f[h]].height){var l=a[f[h]].height,m=!1;try{m=Ga(f[h],a),G.debug(f[h],"view_rel_block_view:",m)}catch(g){}!1==isNaN(l)&&
!0==m&&(d+=parseInt(l))}e.bottom=d;break;default:e.bottom=d}a="";a="undefined"==typeof b.height?"auto":b.height;switch(a){case "auto":"undefined"==typeof e.top&&(e.top=0);"undefined"==typeof e.bottom&&(e.bottom=0);a=isNaN(e.top)?0:parseInt(e.top);d=isNaN(e.bottom)?0:parseInt(e.bottom);e.height=c.height-a-d;break;case "inherit":break;default:e.height=b.height}"undefined"!=typeof b.paddingtop&&(e.paddingtop=b.paddingtop);"undefined"!=typeof b.paddingright&&(e.paddingright=b.paddingright);"undefined"!=
typeof b.paddingbottom&&(e.paddingbottom=b.paddingbottom);"undefined"!=typeof b.paddingtleft&&(e.paddingtleft=b.paddingtleft);"undefined"!=typeof b.view&&(e.view=b.view);return e}function Ga(c,b){switch(c){case "axisxalert":var a=!1;try{a=b.axisxalert.view}catch(d){}var h=!1;try{h=f.apiinit.guipart.enabled.alert}catch(r){}return a&&h;case "axisx":a=!1;try{a=b.axisx.view}catch(n){}return a;case "axisxmsg":a=!1;try{a=b.axisxmsg.view}catch(l){}return a}return!1}function s(c,b,a){var d="";"undefined"!=
typeof c.left&&(d=d+"left :"+c.left+(isNaN(c.left)?"":b)+"; ");"undefined"!=typeof c.right&&(d=d+"right :"+c.right+(isNaN(c.right)?"":b)+"; ");"undefined"!=typeof c.top&&(d=d+"top :"+c.top+(isNaN(c.top)?"":b)+"; ");"undefined"!=typeof c.bottom&&(d=d+"bottom :"+c.bottom+(isNaN(c.bottom)?"":b)+"; ");"undefined"!=typeof c.width&&(d=d+"width :"+c.width+(isNaN(c.width)?"":b)+"; ");"undefined"!=typeof c.height&&(d=d+"height :"+c.height+(isNaN(c.height)?"":b)+"; ");"undefined"!=typeof c.view&&!0!=c.view&&
(d+="display : none; ");return 0<d.length?("undefined"!=typeof a&&1==a&&(d+=" position:absolute; z-index:30; pointer-events:none "),'style="'+d+'"'):'style=" display:none; "'}function ba(c,b,a){b=ua(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.x.guiid),r=$(f.init.chartcontainer).find("#"+c.axisxalert.guiid),n=$(f.init.chartcontainer).find("#"+c.y.guiid),l=$(f.init.chartcontainer).find("#"+c.legend.guiid),
m=$(f.init.chartcontainer).find("#"+c.zoom.guiid),g="height width top right bottom left".split(" "),k=0;k<g.length;k++)"undefined"!=typeof b.panelsize[g[k]]&&(a.css(g[k],b.panelsize[g[k]]),c[g[k]]=b.panelsize[g[k]]);null!==B.guiid&&B.guiid!=c.guiid?a.css("display","none"):a.css("display","block");for(k=0;k<g.length;k++)"undefined"!=typeof b.innermainsize[g[k]]&&(d.css(g[k],b.innermainsize[g[k]]),c.main[g[k]]=b.innermainsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.dateaxissize[g[k]]&&(h.css(g[k],
b.dateaxissize[g[k]]),c.x[g[k]]=b.dateaxissize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.axisxalertsize[g[k]]&&(r.css(g[k],b.axisxalertsize[g[k]]),c.axisxalert[g[k]]=b.axisxalertsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.priceaxissize[g[k]]&&(n.css(g[k],b.priceaxissize[g[k]]),c.y[g[k]]=b.priceaxissize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.legendsize[g[k]]&&(l.css(g[k],b.legendsize[g[k]]),c.legend[g[k]]=b.legendsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.zoomsize[g[k]]&&
(m.css(g[k],b.zoomsize[g[k]]),c.zoom[g[k]]=b.zoomsize[g[k]])}function ha(c,b,a){b=va(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.x.guiid),r=$(f.init.chartcontainer).find("#"+c.y.guiid),n=$(f.init.chartcontainer).find("#"+c.legend.guiid),l="height width top right bottom left".split(" "),m=0;m<l.length;m++)"undefined"!=typeof b.panelsize[l[m]]&&(a.css(l[m],b.panelsize[l[m]]),c[l[m]]=b.panelsize[l[m]]);
null!==B.guiid&&B.guiid!=c.guiid?a.css("display","none"):a.css("display","block");for(m=0;m<l.length;m++)"undefined"!=typeof b.innermainsize[l[m]]&&(d.css(l[m],b.innermainsize[l[m]]),c.main[l[m]]=b.innermainsize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=typeof b.dateaxissize[l[m]]&&(h.css(l[m],b.dateaxissize[l[m]]),c.x[l[m]]=b.dateaxissize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=typeof b.priceaxissize[l[m]]&&(r.css(l[m],b.priceaxissize[l[m]]),c.y[l[m]]=b.priceaxissize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=
typeof b.legendsize[l[m]]&&(n.css(l[m],b.legendsize[l[m]]),c.legend[l[m]]=b.legendsize[l[m]])}function sa(c){for(var b=wa(),a=$(f.init.chartcontainer).find("#"+c.guiid),d=$(f.init.chartcontainer).find("#"+c.main.guiid),h="height width top right bottom left".split(" "),r=0;r<h.length;r++)"undefined"!=typeof b.panelsize[h[r]]&&(a.css(h[r],b.panelsize[h[r]]),c[h[r]]=b.panelsize[h[r]]);null!==B.guiid?a.css("display","none"):a.css("display","block");for(r=0;r<h.length;r++)"undefined"!=typeof b.innermainsize[h[r]]&&
(d.css(h[r],b.innermainsize[h[r]]),c.main[h[r]]=b.innermainsize[h[r]])}function ia(c,b,a){b=xa(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.legend.guiid),r=$(f.init.chartcontainer).find("#"+c.alert.guiid),n="height width top right bottom left".split(" "),l=0;l<n.length;l++)"undefined"!=typeof b.panelsize[n[l]]&&(a.css(n[l],b.panelsize[n[l]]),c[n[l]]=b.panelsize[n[l]]);null!==B.guiid&&B.guiid!=c.guiid?
a.css("display","none"):a.css("display","block");for(l=0;l<n.length;l++)"undefined"!=typeof b.innermainsize[n[l]]&&(d.css(n[l],b.innermainsize[n[l]]),c.main[n[l]]=b.innermainsize[n[l]]);for(l=0;l<n.length;l++)"undefined"!=typeof b.legendsize[n[l]]&&(h.css(n[l],b.legendsize[n[l]]),c.legend[n[l]]=b.legendsize[n[l]]);for(l=0;l<n.length;l++)"undefined"!=typeof b.alertsize[n[l]]&&(r.css(n[l],b.alertsize[n[l]]),c.alert[n[l]]=b.alertsize[n[l]])}function D(){var c=0,b=f.currenlayout.chart.height;if(2>w.length||
null!=B.guiid)I.price.height=b,I.study.height=b,I.signal.height=b;else{for(var a=0;a<w.length;a++)switch(w[a].type){case "price":c+=f.currenlayout.chart_panels.price.grow;break;case "study":c+=f.currenlayout.chart_panels.study.grow;break;case "signal":c+=f.currenlayout.chart_panels.signal.grow;break;case "splitter":break;default:c+=1}c=b/c;for(b=0;b<w.length;b++)switch(w[b].type){case "price":I.price.height=parseInt(f.currenlayout.chart_panels.price.grow*c);break;case "study":I.study.height=parseInt(f.currenlayout.chart_panels.study.grow*
c);break;case "signal":I.signal.height=parseInt(f.currenlayout.chart_panels.signal.grow*c)}}return 0}function E(c,b){var a="",d=c.indexOf("<"+b+">"),f=("<"+b+">").length,h=c.indexOf("</"+b+">");-1!=d&&-1!=h&&h>d+f&&(a=c.substring(d+f,h));return a}function P(c,b,a){return"auto"==c.toString().toLowerCase()||"inherit"==c.toString().toLowerCase()?c:"undefined"!=typeof a?c+a+b:c+b}function h(c){try{return"undefined"!=typeof x.mycache[c]&&null!=x.mycache[c]?x.mycache[c]:null}catch(b){return null}}function u(c,
b){try{x.mycache[c]=b}catch(a){}}var f=ya,x={};f.panels=x;var T=/=""/g;Z=Y=S=X=W=V=U=R=K=L=null;var G=f.api.debug.getLogger("prochart.gui.panels"),B={guiid:null};x.temp={legend:[]};x.mycache={};x.htmlcustomcontainers={};x.gui={initPattern:function(){var c=$.Deferred(),b=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,a=f.guiinit.rootpath+"/ChartUI/gui/panels/panel.patterns.htm"+b;null!=f.guiinit.customPanelPatternFile&&0!==f.guiinit.customPanelPatternFile.length&&
(a=f.guiinit.customPanelPatternFile+b);if(f.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",a);d.onload=function(){var a=d.responseText;da(a);c.resolve(a)};d.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:a}).done(function(a){da(a);c.resolve(a)});return c.promise()},createPanels:function(){ea()},resizePanels:function(){M();ta()},resizeFullpagePanels:function(){M();ta()},disablePanelEvents:function(c,b){var a=$(f.init.chartcontainer);b?(a.find(".legend-buttons a").css("pointer-events",
"none"),a.find(".controlpanel-buttons a").css("pointer-events","none"),a.find(".chart-button").css("pointer-events","none")):(a.find(".legend-buttons a").css("pointer-events","all"),a.find(".controlpanel-buttons a").css("pointer-events","all"),a.find(".chart-button").css("pointer-events","all"))},addSignalPanel:function(c){"undefined"==typeof c&&(c="signalid");var b=[];b.push({type:"signal",id:c});for(var a=0;a<b.length;a++)w.push(b[a]);null!=B.guiid&&ca();D();c=aa(c);M();J();qa();ra();na();pa();
f.chart.AdjustSize(null,null);return c},deletePanelById:function(c){ja([{id:c}]);f.chart.AdjustSize(null,null)},updateLegends:function(c){ka(c)},activateonResizePanel:function(c,b){for(var a=0;a<d.length;a++)if(d[a].id==c){d[a].onResizePanel=b;break}},changeLocalization:function(c,b){"rtl"==b?$(f.init.chartcontainer).hasClass("dir-rtl")||$(f.init.chartcontainer).addClass("dir-rtl"):$(f.init.chartcontainer).removeClass("dir-rtl")},onLastUpdateChange:function(c,b){try{for(var a=0;a<d.length;a++)if("price"==
d[a].type){if("undefined"!=typeof d[a].lastupdate.guiid)try{null==h("#"+d[a].lastupdate.guiid)&&u("#"+d[a].lastupdate.guiid,$("#"+d[a].lastupdate.guiid)),h("#"+d[a].lastupdate.guiid).html(b)}catch(e){}break}}catch(f){}},onCommunication:function(c,b){try{for(var a=0;a<d.length;a++)if("price"==d[a].type){if("undefined"!=typeof d[a].communic.guiid){null==h("#"+d[a].communic.guiid+"> .panel-communic")&&u("#"+d[a].communic.guiid+"> .panel-communic",$("#"+d[a].communic.guiid+"> .panel-communic"));try{h("#"+
d[a].communic.guiid+"> .panel-communic").addClass(b?"ComOn":"ComOff").removeClass(b?"ComOff":"ComOn")}catch(e){}}break}}catch(f){}},collapselegend:function(c,b){$("#"+c).find(".legend-study, .legend-compare").each(function(){switch(b){case !0:case "true":$(this).addClass("hide-legend");break;case !1:case "false":$(this).hasClass("hide-legend")&&$(this).removeClass("hide-legend")}})},getAlertZone:function(){for(var c=0;c<d.length;c++)if("price"==d[c].type)try{return d[c].axisxalert.guiid}catch(b){break}return null},
getMsgZone:function(){for(var c=0;c<d.length;c++)if("price"==d[c].type)try{return d[c].axisxmsg.guiid}catch(b){break}return null},refreshPriceWithInfoBars:function(){D();for(var c=0;c<d.length;c++)switch(d[c].type){case "price":ba(d[c],d[c].width,d[c].height),y(d[c],"controlpanel"),y(d[c],"zoom"),y(d[c],"legend"),y(d[c],"lastupdate"),y(d[c],"communic"),y(d[c],"axisxalert"),y(d[c],"axisxmsg"),f.chart.AdjustSize(null,null)}}};x.core={requestPanels:function(c){w=[];for(var b=0;b<c.length;b++)w.push(c[b]),
0<b&&b<c.length&&w.push({id:"",type:"splitter"});ea();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},returnPanels:function(){for(var c=[],b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},addPanels:function(c){for(var b=0;b<c.length;b++)w.push(c[b]);null!=B.guiid&&ca();D();for(b=0;b<c.length;b++)switch(c[b].type){case "price":fa(c[b].id);break;case "study":ga(c[b].id,c[b]);break;case "signal":aa(c[b].id)}M();J();qa();ra();
na();pa();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},deletePanels:ja,updateLegends:ka};var d=[],I={price:{height:null},study:{height:null},signal:{height:null}},w=[],A=[];return x};
