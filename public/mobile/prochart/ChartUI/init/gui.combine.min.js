function ProChart_InitApi(n){function p(c,e){try{a.gui.localstorage_condition.pricestyle&&(localStorage[b.localstorage.key+c]=JSON.stringify(e))}catch(f){}}function q(c){try{if(a.gui.localstorage_condition.pricestyle&&"undefined"!=typeof localStorage[b.localstorage.key+c])return JSON.parse(localStorage[b.localstorage.key+c])}catch(e){return null}}function h(){var c=null;l(a.currenlayout)&&l(a.currenlayout.chart_panels)&&(c=a.currenlayout.chart_panels,r(c,arguments))}function k(){if(l(a.currenlayout)&&
l(a.currenlayout.chart_panels))return s(a.currenlayout.chart_panels,arguments)}function r(c,a){for(var b=0;b<a.length-2;b++)c=t(a[b])?u(c,a[b]):c[a[b]];if(l(c)){var d=b=a[a.length-2];typeof b!=typeof String&&(d=b.toString());b=d.split("||");if(b instanceof Array){var g=d=a[a.length-1];typeof d!=typeof String&&(g=d.toString());d=g.split("||");if(d instanceof Array&&b.length==d.length)for(g=0;g<b.length;g++)c[b[g]]=d[g],v(c,b[g],d[g])}else c[a[a.length-2]]=a[a.length-1],v(c,a[a.length-2],a[a.length-
1])}}function s(c,a){for(var b=0;b<a.length;b++)if(t(a[b])){if(c=u(c,a[b]),null==c)return}else try{c=c[a[b]]}catch(d){return}if(l(c))return c}function v(c,b,f){if("undefined"==typeof c.fns)return null;this.objparent=c;this.objChartMain=a;for(var d=0;d<c.fns.length;d++){var g=c.fns[d];if(g.prop==b)for(var m=0;m<g.actions.length;m++){var h=g.actions[m].replace(/%property%/g,b).replace(/%value%/g,f);try{eval(h)}catch(k){console.log(k)}}}}function l(c){return"undefined"!=typeof c&&null!=c}function t(c){var a=
c.indexOf("[");c=c.indexOf("]");return-1!=a&&-1!=c&&a<c?!0:!1}function u(c,a){var b=a.indexOf("["),d=a.indexOf("]"),b=a.substring(b+1,d),d=a.replace(b,"").replace("[","").replace("]",""),g=b.split("="),b=g[0],g=g[1],d=c[d];if("undefined"!=typeof d&&null!=d&&d instanceof Array)for(var m=0;m<d.length;m++)if(d[m][b]==g)return d[m];return null}var a=n,b={};a.api=b;b.debug={console:!1,mainlevel:0,getLogger:function(a){for(var e=0;e<b.debug.data.length;e++)if(b.debug.data[e].name==a)return b.debug.data[e];
e=jQuery.extend(!0,{},w);e.name=a;b.debug.data.push(e);return e},setLevel:function(a){this.mainlevel=a},data:[],logging:{WARNING:1,ERROR:2,DEBUG:16,TIME:5,NONE:0,iNFO:3}};var w={name:"",setLevel:function(a){this.level=a},level:0,debug:function(){if(b.debug.mainlevel>=b.debug.logging.DEBUG&&this.level>=b.debug.logging.DEBUG){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"DEBUG:/"+this.name+"/>");a.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.log.apply(console,
a)}},warn:function(a){if(b.debug.mainlevel>=b.debug.logging.WARNING&&this.level>=b.debug.logging.WARNING){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"WARNING:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.warn.apply(console,e)}},error:function(a){if(b.debug.mainlevel>=b.debug.logging.ERROR&&this.level>=b.debug.logging.ERROR){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"ERROR:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+
" "+(new Date).toLocaleTimeString());console.error.apply(console,e)}},info:function(a){if(b.debug.mainlevel>=b.debug.logging.INFO&&this.level>=b.debug.logging.INFO){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"INFO:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.info.apply(console,e)}},timebegin:function(a){b.debug.mainlevel>=b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.time(this.name+"_",a)},timeend:function(a){b.debug.mainlevel>=
b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.timeEnd(this.name+"_",a)}};b.layout=ProChart_InitApitLayout(n);b.header=ProChart_InitAPIHeader(n);b.zoom=ProChart_InitAPIZoom(n);b.menu=ProChart_InitAPIMenu(n);b.toolbar=ProChart_InitAPIToolbar(n);b.panels=ProChart_InitAPIPanels(n);a.api.debug.setLevel(a.api.debug.logging.DEBUG);a.api.debug.getLogger("prochart.gui.header").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.panels").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.layout").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.zoom").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.draw").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.toolbar").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.menu").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.props").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.actions").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.community").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.messages").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.systems").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.compare").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.trade").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.plugs").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.localization").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.indicators").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.alert").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.msg").setLevel(a.api.debug.logging.NONE);b.indicators={getIndicatorObjectParams:function(c){return a.indicators.gui.getIndicatorObjectParam(c)},add:function(c,b){a.chart.AddStudyWithParams(c,b)}};b.timeframes={getTimeframeView:function(){var c="icon";null==a.apiinit.timeframeview?"undefined"!=typeof a.currenlayout.timeframeview&&
null!=a.currenlayout.timeframeview&&(c=a.currenlayout.timeframeview):c=a.apiinit.timeframeview;return c},getCaptionbyID:function(c){if("undefined"!=typeof a.gui.init.timeframe&&null!=a.gui.init.timeframe)try{for(var b=0;b<a.gui.init.timeframe.length;b++)if(a.gui.init.timeframe[b].id==c)return a.gui.init.timeframe[b].n}catch(f){return""}else if("undefined"!=typeof a.init.timeframe&&null!=a.init.timeframe)try{for(b=0;b<a.init.timeframe.length;b++)if(a.init.timeframe[b].id==c)return a.init.timeframe[b].n}catch(d){return""}}};
b.chart={set:h,get:k};b.chart.panels={price:new function(){Object.defineProperty(this,"grow",{get:function(){return k("price","grow")},set:function(a){h("price","grow",a)}});for(var a="axisy axisx main legend controlpanel zoom".split(" "),b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};Object.defineProperty(this,a[f],{writable:!1,enumerable:!0});for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("price",a,b)},
set:function(c){h("price",a,b,c)}})})(a[f],b[d],this)}},study:new function(){Object.defineProperty(this,"grow",{get:function(){return k("study","grow")},set:function(a){h("study","grow",a)}});for(var a=["axisy","axisx","main","legend","controlpanel"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("study",a,b)},set:function(c){h("study",a,b,c)}})})(a[f],b[d],this)}},
splitterx:new function(){for(var a=["main"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("splitterx",a,b)},set:function(c){h("splitterx",a,b,c)}})})(a[f],b[d],this)}},plugin:new function(){Object.defineProperty(this,"grow",{get:function(){return k("signal","grow")},set:function(a){h("signal","grow",a)}});for(var a=["main","legend","controlpanel","alert"],b=
"view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("signal",a,b)},set:function(c){h("signal",a,b,c)}})})(a[f],b[d],this)}},set:h,get:k};b.zoom={set:function(){var b=null;l(a.currenlayout.zooms)&&(b=a.currenlayout,r(b,arguments))},get:function(){if(l(a.currenlayout.zooms))return s(a.currenlayout,arguments)}};b.localization={changeLang:function(b){try{return"undefined"!=
typeof a.localizationobj?a.localizationobj.gui.changeLocalization(b):null}catch(e){return null}},getCurrentLanguageObj:function(){try{return"undefined"!=typeof a.localizationobj?a.localizationobj.gui.returnCurrentLanguage():null}catch(b){return null}}};b.plugin={};b.localstorage={getPriceType:function(){try{if(a.gui.localstorage_condition.pricetype&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetype"])return localStorage[b.localstorage.key+"pricetype"]}catch(c){}return null},setPriceType:function(c){try{a.gui.localstorage_condition.pricetype&&
(localStorage[b.localstorage.key+"pricetype"]=c)}catch(e){}return null},getPriceStyle:q,setPriceStyle:p,getPriceLine:function(){try{if(a.gui.localstorage_condition.priceline&&"undefined"!=typeof localStorage[b.localstorage.key+"priceline"])return localStorage[b.localstorage.key+"priceline"]}catch(c){}return null},setPriceLine:function(c){try{a.gui.localstorage_condition.priceline&&(localStorage[b.localstorage.key+"priceline"]=c)}catch(e){}return null},getVolumeStyle:q,setVolumeStyle:p,getMajorsFavorites:function(){try{if(a.gui.localstorage_condition.majorsfavorites&&
"undefined"!=typeof localStorage[b.localstorage.key+"majorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+"majorsfavorites"])}catch(c){}return null},setMajorsFavorites:function(c){try{a.gui.localstorage_condition.majorsfavorites&&(localStorage[b.localstorage.key+"majorsfavorites"]=JSON.stringify(c))}catch(e){}},getCompareFavorites:function(){try{if(a.gui.localstorage_condition.comparefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"comparefavorites"])return JSON.parse(localStorage[b.localstorage.key+
"comparefavorites"])}catch(c){}return null},setCompareFavorites:function(c){try{a.gui.localstorage_condition.comparefavorites&&(localStorage[b.localstorage.key+"comparefavorites"]=JSON.stringify(c))}catch(e){}},getIndicatorsFavorites:function(){try{if(a.gui.localstorage_condition.indicatorsfavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"indicatorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+"indicatorsfavorites"])}catch(c){}return null},setIndicatorsFavorites:function(c){try{a.gui.localstorage_condition.indicatorsfavorites&&
(localStorage[b.localstorage.key+"indicatorsfavorites"]=JSON.stringify(c))}catch(e){}},getTimeFrameFavorites:function(){try{if(a.gui.localstorage_condition.timeframefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"timeframefavorites"])return JSON.parse(localStorage[b.localstorage.key+"timeframefavorites"])}catch(c){}return null},setTimeFrameFavorites:function(c){try{a.gui.localstorage_condition.timeframefavorites&&(localStorage[b.localstorage.key+"timeframefavorites"]=JSON.stringify(c))}catch(e){}},
getPriceTypeFavorites:function(){try{if(a.gui.localstorage_condition.pricetypefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetypefavorites"])return JSON.parse(localStorage[b.localstorage.key+"pricetypefavorites"])}catch(c){}return null},setPriceTypeFavorites:function(c){try{a.gui.localstorage_condition.pricetypefavorites&&(localStorage[b.localstorage.key+"pricetypefavorites"]=JSON.stringify(c))}catch(e){}},getDrawStyle:function(){},setDrawStyle:function(a){},clear:function(){for(var a=
b.localstorage.key,e=0;e<b.localstorage_condition.save_list_name.length;e++)try{localStorage.removeItem(a+b.localstorage_condition.save_list_name[e])}catch(f){}},clearAll:function(){try{localStorage.clear()}catch(a){}}};b.localstorage_condition={save_list_name:"pricestyle indicatorsfavorites drawstyle timeframefavorites pricetypefavorites volumestyle pricetype majorsfavorites comparefavorites".split(" ")};Object.defineProperty(b.localstorage_condition,"pricestyle",{get:function(){return a.gui.localstorage_condition.pricestyle},
set:function(b){a.gui.localstorage_condition.pricestyle=b}});Object.defineProperty(b.localstorage_condition,"volumestyle",{get:function(){return a.gui.localstorage_condition.volumestyle},set:function(b){a.gui.localstorage_condition.volumestyle=b}});Object.defineProperty(b.localstorage_condition,"pricetype",{get:function(){return a.gui.localstorage_condition.pricetype},set:function(b){a.gui.localstorage_condition.pricetype=b}});Object.defineProperty(b.localstorage_condition,"majorsfavorites",{get:function(){return a.gui.localstorage_condition.majorsfavorites},
set:function(b){a.gui.localstorage_condition.majorsfavorites=b}});Object.defineProperty(b.localstorage_condition,"comparefavorites",{get:function(){return a.gui.localstorage_condition.comparefavorites},set:function(b){a.gui.localstorage_condition.comparefavorites=b}});Object.defineProperty(b.localstorage_condition,"indicatorsfavorites",{get:function(){return a.gui.localstorage_condition.indicatorsfavorites},set:function(b){a.gui.localstorage_condition.indicatorsfavorites=b}});Object.defineProperty(b.localstorage_condition,
"drawstyle",{get:function(){return a.gui.localstorage_condition.drawstyle},set:function(b){a.gui.localstorage_condition.drawstyle=b}});Object.defineProperty(b.localstorage_condition,"timeframefavorites",{get:function(){return a.gui.localstorage_condition.timeframefavorites},set:function(b){a.gui.localstorage_condition.timeframefavorites=b}});Object.defineProperty(b.localstorage_condition,"pricetypefavorites",{get:function(){return a.gui.localstorage_condition.pricetypefavorites},set:function(b){a.gui.localstorage_condition.pricetypefavorites=
b}});Object.defineProperty(b.localstorage_condition,"priceline",{get:function(){return a.gui.localstorage_condition.priceline},set:function(b){a.gui.localstorage_condition.priceline=b}});Object.defineProperty(b.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},set:function(b){a.gui.localstorage_condition.storage_key=b}});return b};
function ProChart_InitApiInit(a){var c={};a.apiinit=c;c.fn={set:function(){if(0!=arguments.length){for(var b=c,a=0;a<arguments.length-2;a++)b=b[arguments[a]];"undefined"!=typeof b&&null!=b&&(b[arguments[arguments.length-2]]=arguments[arguments.length-1])}},get:function(){if(0!=arguments.length){for(var a=c,d=0;d<arguments.length;d++)a=a[arguments[d]];return a}}};a.gui.size={mainWidth:900,mainHeight:900,mainPaddingTop:null,mainPaddingBottom:null,mainPaddingLeft:null,mainPaddingRight:null,width:820,
height:null,subheight:null,paddingTop:null,paddingBottom:null,paddingPriceBottom:null,paddingLeft:null,paddingRight:null,zoomWidth:810,zoomWidthRangebutton:10,autoInnerWidth:!0,autoInnerHeight:!0,fixedSize:!0,fullpage:!1,fullscreen:!0,fullPaddingTop:null,fullPaddingBottom:null,fullPaddingLeft:null,fullPaddingRight:null};a.gui.size.panels={unit:null,padding:null,spiltmargin:null,margin:null,price:{grow:null,axisy:{view:null,width:null,right:null,padding:null},axisx:{view:null,height:null,right:null,
bottom:null,padding:null},main:{top:null,left:null,right:null,bottom:null,padding:null},legend:{height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,height:null,width:null,right:null,top:null},zoom:{height:null,bottom:null,width:null,left:null,right:null,padding:null}},study:{grow:null,axisy:{top:null,bottom:null,view:null,width:null,right:null,padding:null},axisx:{view:null,height:null,right:null,bottom:null,padding:null},main:{top:null,left:null,right:null,bottom:null,
padding:null},legend:{height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,height:null,width:null,right:null,top:null}},splitterx:{view:null,grow:null,height:null,main:{top:null,left:null,right:null,bottom:null,height:null,padding:null}},signal:{grow:null,main:{top:null,left:null,right:null,bottom:null,padding:null},legend:{view:null,height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,height:null,width:null,right:null,top:null},alert:{view:!0,
top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};a.gui.localstorage_condition={pricetype:!1,pricestyle:!1,volumestyle:!1,majorsfavorites:!1,comparefavorites:!1,indicatorsfavorites:!1,drawstyle:!1,pricetypefavorites:!1,timeframefavorites:!1,priceline:!1,storage_key:""};a.gui.localstorage={price:[],volume:null};a.gui.guiblock={header:{visible:null},menu:{visible:1,majors:{visible:null},template:{visible:null},charttype:{visible:null},timeframe:{visible:null},studies:{visible:null},compares:{visible:null},
localization:{visible:null},help:{visible:null,functionhelp:null},about:{visible:null}},toolbar:{visible:null,charttype:{visible:null},timeframe:{visible:null},systems:{visible:null},other:{visible:null}},zoom:{visible:null,zoomtoolbar:{visible:null}}};a.guiinit={rootpath:"",onlyliteload:!1,trade:!0,menu:!0,toolbaradv:!0,zoom:!0,system:!0,draw:!0,color:!0,header:!0,alert:!1,msg:!1,community:!0,compare:!0,messages:!0,signals:!0,indicators:!0,props:!0,minifier:!1,cache:!0,plugs:!0,customLayoutFile:"",
customPanelPatternFile:"",customHeaderPatternFile:"",customMenuPatternFile:"",customToolbarPatternFile:"",customZoomPatternFile:"",customTemplateFile:"",customJsonCssFile:"",parentRelativeObjectID:null,timeupdateVersiongui:"",layout:{timeframeview:null}};a.gui.fullscreensize={fullscreenstatus:!1,mainWidth:null,mainHeight:null,width:null,height:null,autoInnerWidth:!0,autoInnerHeight:!0,zoomWidth:null,fixedSize:!0};a.gui.fullpagesize={fullpagestatus:!1,mainWidth:null,mainHeight:null,width:null,height:null,
autoInnerWidth:!0,autoInnerHeight:!0,zoomWidth:null,fixedSize:!0,parentObject:null,fullpageHideScroll:!0};a.gui.init={majors:null,majors2:null,compares:null,timeframe:null,autotimescale:null,localization:null,localizationlang:null,charttype:null,indicators:null,signals:null,comparecharttype:null};c.main={set guirootpath(b){a.guiinit.rootpath=b},get guirootpath(){return a.guiinit.rootpath},set customLayoutFile(b){a.guiinit.customLayoutFile=b},get customLayoutFile(){return a.guiinit.customLayoutFile},
set timeframe(b){a.gui.init.timeframe=b},get timeframe(){return a.gui.init.timeframe},set majors(b){a.gui.init.majors=b},get majors(){return a.gui.init.majors},set majors2(b){a.gui.init.majors2=b},get majors2(){return a.gui.init.majors2}};c.layout={};c.menu={};c.header={searchDelayMs:750};Object.defineProperty(c,"searchDelay",{get:function(){return"undefined"!=typeof c.header.searchDelayMs?c.header.searchDelayMs:750},set:function(a){c.header.searchDelayMs=a}});c.toolbar={iconSizeWidth:32,iconSizeHeigh:32,
iconMoreSizeWidth:32,iconMoreSizeHeight:32};c.chart={};c.guipart={enabled:{}};Object.defineProperty(c.chart,"ShowBarData",{get:function(){return a.chart.ShowBarData},set:function(b){a.chart.ShowBarData=b}});Object.defineProperty(c,"timeframeview",{get:function(){return a.guiinit.layout.timeframeview},set:function(b){a.guiinit.layout.timeframeview=b}});Object.defineProperty(c,"customJsonCssFile",{get:function(){return a.guiinit.customJsonCssFile},set:function(b){a.guiinit.customJsonCssFile=b}});Object.defineProperty(c.guipart.enabled,
"menu",{get:function(){return a.guiinit.menu},set:function(b){a.guiinit.menu=b}});Object.defineProperty(c.guipart.enabled,"header",{get:function(){return a.guiinit.header},set:function(b){a.guiinit.header=b}});Object.defineProperty(c.guipart.enabled,"alert",{get:function(){return a.guiinit.alert},set:function(b){a.guiinit.alert=b}});Object.defineProperty(c.guipart.enabled,"msg",{get:function(){return a.guiinit.msg},set:function(b){a.guiinit.msg=b}});Object.defineProperty(c.guipart.enabled,"toolbar",
{get:function(){return a.guiinit.toolbaradv},set:function(b){a.guiinit.toolbaradv=b}});Object.defineProperty(c.guipart.enabled,"zoom",{get:function(){return a.guiinit.zoom},set:function(b){a.guiinit.zoom=b}});Object.defineProperty(c.guipart.enabled,"signals",{get:function(){return a.guiinit.signals},set:function(b){a.guiinit.signals=b}});Object.defineProperty(c.guipart.enabled,"plugs",{get:function(){return a.guiinit.plugs},set:function(b){a.guiinit.plugs=b}});Object.defineProperty(c.guipart,"litemode",
{set:function(b){a.guiinit.plugs=!b;a.guiinit.signals=!b;a.guiinit.zoom=!b;a.guiinit.toolbaradv=!b;a.guiinit.header=!b;a.guiinit.menu=!b;a.guiinit.msg=!b;a.guiinit.alert=!b}});Object.defineProperty(c.chart,"PriceChartType",{get:function(){return a.chart.PriceChartType},set:function(b){a.chart.PriceChartType=b}});Object.defineProperty(c.chart,"Symbol",{get:function(){return a.chart.Symbol},set:function(b){a.chart.Symbol=b}});Object.defineProperty(c.chart,"TimeScale",{get:function(){return a.chart.TimeScale},
set:function(b){a.chart.TimeScale=b}});Object.defineProperty(c,"ShowBarData",{get:function(){return a.chart.ShowBarData},set:function(b){a.chart.ShowBarData=b}});Object.defineProperty(c,"PriceChartType",{get:function(){return a.chart.PriceChartType},set:function(b){a.chart.PriceChartType=b}});Object.defineProperty(c,"TimeScale",{get:function(){return a.chart.TimeScale},set:function(b){a.chart.TimeScale=b}});Object.defineProperty(c,"Symbol",{get:function(){return a.chart.Symbol},set:function(b){a.chart.Symbol=
b}});Object.defineProperty(c,"ShowCandleCloseCounter",{get:function(){return a.chart.ShowCandleCloseCounter},set:function(b){a.chart.ShowCandleCloseCounter=b}});c.zoom={};c.localization={};Object.defineProperty(c.localization,"lang",{get:function(){return a.gui.init.localizationlang},set:function(b){a.gui.init.localizationlang=b}});Object.defineProperty(c.localization,"languages",{get:function(){return a.gui.init.localization},set:function(b){a.gui.init.localization=b}});Object.defineProperty(c.localization,
"current",{get:function(){return a.gui.init.localizationlang},set:function(b){a.gui.init.localizationlang=b}});c.plugin={};Object.defineProperty(c,"indicators",{get:function(){return a.gui.init.indicators},set:function(b){a.gui.init.indicators=b}});Object.defineProperty(c,"cache",{get:function(){return a.guiinit.cache},set:function(b){a.guiinit.cache=b}});Object.defineProperty(c,"timeupdateVersiongui",{get:function(){return a.guiinit.timeupdateVersiongui},set:function(b){a.guiinit.timeupdateVersiongui=
b}});Object.defineProperty(c,"panels",{get:function(){return a.gui.size.panels},set:function(b){a.gui.size.panels=b}});Object.defineProperty(c,"rootpathLayout",{get:function(){return a.guiinit.rootpath},set:function(b){a.guiinit.rootpath=b}});Object.defineProperty(c,"rootpath",{get:function(){return a.guiinit.rootpath},set:function(b){a.guiinit.rootpath=b}});Object.defineProperty(c,"customLayoutFile",{get:function(){return a.guiinit.customLayoutFile},set:function(b){a.guiinit.customLayoutFile=b}});
Object.defineProperty(c,"customTemplateFile",{get:function(){return a.guiinit.customTemplateFile},set:function(b){a.guiinit.customTemplateFile=b}});Object.defineProperty(c,"fullpageHideScroll",{get:function(){return a.gui.fullpagesize.fullpageHideScroll},set:function(b){a.gui.fullpagesize.fullpageHideScroll=b}});Object.defineProperty(c,"customPanelPatternFile",{get:function(){return a.guiinit.customPanelPatternFile},set:function(b){a.guiinit.customPanelPatternFile=b}});Object.defineProperty(c,"parentRelativeObjectID",
{get:function(){return a.guiinit.parentRelativeObjectID},set:function(b){a.guiinit.parentRelativeObjectID=b}});Object.defineProperty(c,"timeframes",{get:function(){return a.gui.init.timeframe},set:function(b){a.gui.init.timeframe=b}});Object.defineProperty(c,"autotimescale",{get:function(){return a.gui.init.autotimescale},set:function(b){a.gui.init.autotimescale=b}});Object.defineProperty(c,"majors",{get:function(){return a.gui.init.majors},set:function(b){a.gui.init.majors=b}});Object.defineProperty(c,
"majors2",{get:function(){return a.gui.init.majors2},set:function(b){a.gui.init.majors2=b}});Object.defineProperty(c,"compares",{get:function(){return a.gui.init.compares},set:function(b){a.gui.init.compares=b}});return c};
function ProChart_InitApiEvents(b){var a={};b.events=a;a.layout={initComplete:null,readyComplete:null,onResizing:null,onResized:null,onFullPage:null,onPreloadStart:null,onPreloadFinished:null,onResizeParentRelative:null};a.chart={createComplete:null,onChangeSymbol:null,onChangeTimeframe:null,onLastUpdateChange:null,onShapeSelectChange:null,onStartDrawing:null,onStopDrawing:null,onCommunication:null,onChartSweepStart:null,onChartSweepEnd:null,onWait:null,onSystemLogin:null,onTemplatesList:null,onTemplatesLoaded:null,
onTemplatesSaved:null,onTemplatesDeleted:null,onTemplatesError:null,onPriceEdit:null,onTimeChange:null,onPriceTypeChange:null,onTimeZoneChanged:null,onCompareEdit:null,onVolumeEdit:null,onSignalMouseIn:null,onSignalMouseOut:null,onSignalMouseClick:null,onNewSignal:null,onSignalRemoved:null,onSignalFullRefresh:null,onWaitForSignals:null,onGotSignals:null,onShapeDelete:null,onShapeChanged:null,onShapeEndDrag:null,onShapeEndSize:null,onStudyUpdated:null,onStudyAdded:null,onStudyDeleted:null,onCanSaveTA:null,
onCanLoadTA:null,onChangeMajorsFavorites:null,onChangeComparesFavorites:null,onChangeIndicatorsFavorites:null,onChangeTimeFrameFavorites:null,onChangeChartTypeFavorites:null};a.shape={onDeleted:null,onChanged:null,onStartDrawing:null,onStopDrawing:null,onSelectChange:null,onEndDrag:null,onEndSize:null};a.study={onDeleted:null,onUpdated:null,onAdded:null};a.globprop={onOpenDialog:null,onCloseDialog:null,onPriceTypeChange:null,onPriceStyleChange:null,onVolumeStyleChange:null,onTimeZoneChange:null,onPriceLineChange:null};
a.actions={onActionRun:null};a.menu={onCustomIndicatorClick:null};a.header={};a.toolbar={onCustomButtonClick:null};a.zoom={};a.localization={onChange:null};a.plugin={onContentUpdate:null,onEnableChanged:null};a.bi={onGetBI:null};return a};
function ProChart_InitApiActions(h){function g(){for(var b=0;b<a.init.charttype.length;b++){var c=a.init.charttype[b].id,e=a.api.localstorage.getPriceStyle(c);"undefined"!=typeof e&&null!=e&&a.chart.SetPriceTypeStyle(c,e)}c=a.api.localstorage.getPriceType();"undefined"!=typeof c&&null!=c&&a.chart.GetPriceProperties().SetDrawType(c);b=a.api.localstorage.getMajorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.majorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites());
b=a.api.localstorage.getCompareFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites());b=a.api.localstorage.getIndicatorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.indicatorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateIndicatorFavorites());e=a.api.localstorage.getPriceTypeFavorites();if("undefined"!=typeof e&&null!=e){for(var d=
a.init.charttype,f=[],b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeTypeChartFavoritesStar(f);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTypeChartButtons(f)}e=a.api.localstorage.getTimeFrameFavorites();if("undefined"!=typeof e&&null!=e){d=a.init.timeframe;f=[];for(b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,
f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTimeFrameButtons(f);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale()}b=a.api.localstorage.getPriceLine();if("undefined"!=typeof b&&null!=b)try{a.chart.SetRTLineVisible("false"==b||!1==b?!1:!0)}catch(g){}a.chart.Redraw()}var a=h,d={};a.apiactions=d;d.fn={set:function(){if(0!=arguments.length){for(var b=d,a=0;a<arguments.length-2;a++)b=b[arguments[a]];"undefined"!=typeof b&&null!=b&&(b[arguments[arguments.length-
2]]=arguments[arguments.length-1])}},get:function(){if(0!=arguments.length){for(var a=d,c=0;c<arguments.length;c++)a=a[arguments[c]];return a}}};d.layout={layoutFile:null,changeTemplate:function(b){a.gui.changeTemplate(b)}};d.menu={};d.header={};d.toolbar={};d.chart={GetSymbolsByGroup:function(){a.chart.symbols.GetSymbolsByGroup.apply(this,arguments)},GetCountries:function(){a.chart.symbols.GetCountries.apply(this,arguments)},GetMarkets:function(){a.chart.symbols.GetMarkets.apply(this,arguments)},
GetExchanges:function(){a.chart.symbols.GetExchanges.apply(this,arguments)}};Object.defineProperty(d.chart,"TimeScale",{get:function(){return a.chart.TimeScale},set:function(b){a.chart.TimeScale=b}});d.zoom={};d.localization={};d.plugin={};d.localstorage={getAllfromStorage:g,GetAllfromStorage:g,clear:function(){a.api.localstorage.clear()},clearAll:function(){}};Object.defineProperty(d.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},set:function(b){a.gui.localstorage_condition.storage_key=
b}});return d};
function ProChart_InitApiCommonDataInit(a){var b={};a.apicommondata=b;a.apicommondata.customindicators=[];return b};
function ProChart_InitApiBI(f){var a={};f.bi=a;var d=[],b=!1,c=0,e=0;a.getBI=function(){return d};a.returnBIStatus=function(){return b};a.start=function(a){"undefined"!=typeof a&&(c=a);b=!0};a.stop=function(){b=!1};a.addt2BI=function(a,b){"undefined"==typeof a&&(a="");"undefined"==typeof b&&(b="");d.push({date:(new Date).getTime(),title:a,description:b});e+=1;0<c&&c<=e&&typeof f.events.bi.onGetBI==typeof Function&&(f.events.bi.onGetBI(d),e=0,d=[])};Object.defineProperty(a,"capacity",{get:function(){return c},
set:function(a){c=a}});a.clear=function(){c=0;d=[]};Object.defineProperty(a,"status",{get:function(){return b}});return a};
function ProChart_InitAPIHeader(n){function d(){var b=null;if(h(g.currenlayout.headers)){for(var b=g.currenlayout.headers,a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);c=a[0];for(a=0;a<c.length-2;a++)b=k(c[a])?l(b,c[a]):b[c[a]];if(h(b)){var d=a=c[c.length-2];typeof a!=typeof String&&(d=a.toString());a=d.split("||");if(a instanceof Array){if(d=c=c[c.length-1],typeof c!=typeof String&&(d=c.toString()),c=d.split("||"),c instanceof Array&&a.length==c.length)for(d=0;d<a.length;d++)b[a[d]]=c[d],
m(b,a[d],c[d])}else b[c[c.length-2]]=c[c.length-1],m(b,c[c.length-2],c[c.length-1])}}}function e(){if(h(g.currenlayout.layout)){var b;a:{b=g.currenlayout.layout;for(var a=arguments,c=0;c<a.length;c++)if(k(a[c]))b=l(b,a[c]);else try{b=b[a[c]]}catch(d){b=void 0;break a}b=h(b)?b:void 0}return b}}function m(b,a,c){if(!1!=g.eventStatus.chartCreateComplete&&"undefined"!=typeof b.fns){this.objparent=b;this.objChartMain=g;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var h=
e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(h)}catch(k){0<g.api.debug.level&&console.log(k)}}}}}function h(b){return"undefined"!=typeof b&&null!=b}function k(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function l(b,a){var c=a.indexOf("["),d=a.indexOf("]"),d=a.substring(c+1,d),c=a.replace(d,"").replace("[","").replace("]",""),e=d.split("="),d=e[0],e=e[1],f=null,f=0==c.length?b:b[c];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(c=0;c<f.length;c++)if(f[c][d]==
e)return f[c];return null}var g=n,c={tempactions:{changeview:"$('#%guiid%').css('display','%value%')"},id:"header1",set:d,get:e,searchbutton:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchbutton]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchbutton]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");
a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},symboltitle:{set:function(){var b=
[];b.push("[id="+c.id+"]");b.push("items[type=symboltitle]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=symboltitle]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");
a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},
top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},searchsymbol:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchsymbol]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+
c.id+"]");a.push("items[type=searchsymbol]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchsymbol]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");
a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},
bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},timeframe:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=timeframe]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=timeframe]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("right");
a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},communic:{set:function(){var b=[];b.push("[id="+
c.id+"]");b.push("items[type=communic]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=communic]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");
a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=
[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},lastupdate:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=lastupdate]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");
a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=lastupdate]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("width");a.push(b);
d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+
"]");a.push("items[type=lastupdate]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},htmlcontainer:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=htmlcontainer]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("view");a.push(b);d(a)},get:e},content:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("content");
a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=htmlcontainer]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},
right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");
a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},toolbar:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=toolbar]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=toolbar]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);
d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");
a.push("items[type=toolbar]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}}};Object.defineProperty(c,"searchDelay",{get:function(){return"undefined"!=typeof g.init.header.searchDelayMs?g.init.header.searchDelayMs:
750},set:function(b){g.init.header.searchDelayMs=b}});return c};
function ProChart_InitApitLayout(A){function n(a,e,c){if("type"in a&&a.type==c)switch(a.type){case "top":return a;case "left":return a;case "right":return a;case "bottom":return a;case "main":return a;default:if(a.name==e)return a}if("items"in a)for(var b=0;b<a.items.length;b++){var d=null;try{d=n(a.items[b],e,c)}catch(g){}if(null!=d)return d}return null}function B(a,e,c){var b=c;Object.keys(a).forEach(function(c){c==e?b.push(a[c]):"object"==typeof a[c]&&(b=B(a[c],e,b))});return b}function u(a,e){if(g(a)&&
("type"in a&&"row"==a.type&&a.name==e&&(a.origsize.view=!1,a.view=!1),"items"in a))for(var c=0;c<a.items.length;c++)u(a.items[c],e)}function v(a,e){if(g(a)&&("type"in a&&"row"==a.type&&a.name==e&&(a.origsize.view=!0,a.view=!0),"items"in a))for(var c=0;c<a.items.length;c++)v(a.items[c],e)}function w(a,e,c,b,d){if(g(a)&&("type"in a&&"row"==a.type&&a.name==e&&"items"in a&&a.items.splice(d,0,{type:c,id:b}),"items"in a))for(var t=0;t<a.items.length;t++)w(a.items[t],e,c,b,d)}function x(a,e,c){if(g(a)){if("type"in
a&&"row"==a.type&&a.name==e&&"items"in a)for(var b=0;b<a.items.length;b++)if("id"in a.items[b]&&a.items.id==c){a.items.slice(b,1);return}if("items"in a)for(b=0;b<a.items.length;b++)x(a.items[b],e,c)}}function l(){var a=null;if(g(b.currenlayout.layout)){for(var a=b.currenlayout.layout,e=[],c=0;c<arguments.length;c++)e.push(arguments[c]);c=e[0];for(e=0;e<c.length-2;e++)a=q(c[e])?r(a,c[e]):a[c[e]];if(g(a))if(e=y(c[c.length-2]),e instanceof Array){if(c=z(c[c.length-1]),c instanceof Array&&e.length==c.length)for(var f=
0;f<e.length;f++)a[e[f]]=c[f],p(a,e[f],c[f])}else a[c[c.length-2]]=c[c.length-1],p(a,c[c.length-2],c[c.length-1])}}function C(){b.gui.resizeLayout()}function k(a,b){for(var c=0;c<b.length-2;c++)a=q(b[c])?r(a,b[c]):a[b[c]];if(g(a))if(c=y(b[b.length-2]),c instanceof Array){var f=z(b[b.length-1]);if(f instanceof Array&&c.length==f.length)for(var d=0;d<c.length;d++)a[c[d]]=f[d],p(a,c[d],f[d])}else a[b[b.length-2]]=b[b.length-1],p(a,b[b.length-2],b[b.length-1])}function m(a,b){for(var c=0;c<b.length;c++)if(q(b[c])){if(a=
r(a,b[c]),null==a)return}else try{a=a[b[c]]}catch(f){return}if(g(a))return a}function p(a,e,c){if(!1!=b.eventStatus.chartCreateComplete&&"undefined"!=typeof a.fns){this.objparent=a;this.objChartMain=b;for(var f=0;f<a.fns.length;f++){var d=a.fns[f];if(d.prop==e)for(var g=0;g<d.actions.length;g++){var h=d.actions[g].replace(/%property%/g,e).replace(/%value%/g,c);try{eval(h)}catch(k){console.log(k)}}}}}function g(a){return"undefined"!=typeof a&&null!=a}function q(a){var b=a.indexOf("[");a=a.indexOf("]");
return-1!=b&&-1!=a&&b<a?!0:!1}function r(a,b){var c=b.indexOf("["),f=b.indexOf("]"),c=b.substring(c+1,f),f=b.replace(c,"").replace("[","").replace("]",""),d=c.split("="),c=d[0],d=d[1],f=a[f];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(var g=0;g<f.length;g++)if(f[g][c]==d)return f[g];return null}function y(a){var b=a;typeof a!=typeof String&&(b=a.toString());return b.split("||")}function z(a){var b=a;typeof a!=typeof String&&(b=a.toString());return b.split("||")}var b=A;return{changeMode:function(a){if("undefined"!=
typeof a){var e;a:{if(g(b.currenlayout.mode))try{for(var c=0;c<b.currenlayout.mode.items.length;c++)if(b.currenlayout.mode.items[c].id==a){e=b.currenlayout.mode.items[c];break a}}catch(f){e=null;break a}e=null}if(null!=e){for(a=0;a<e.tasks.length;a++)switch(c=e.tasks[a],c.type){case "row":a:{var d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(k){15<=b.api.debug.level&&console.log("Error in panel.api taskRow");break a}if(null!=d)for(var h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=
!1,d.view=!1}catch(l){15<=b.api.debug.level&&console.log("Error in panel.api taskRow")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(m){15<=b.api.debug.level&&console.log("Error in panel.api taskRow")}}}break;case "bottom":a:{d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(p){15<=b.api.debug.level&&15<=b.api.debug.level&&console.log("Error in panel.api taskBottom");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,
d.view=!1}catch(q){15<=b.api.debug.level&&console.log("Error in panel.api taskBottom")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(r){15<=b.api.debug.level&&console.log("Error in panel.api taskBottom")}}}break;case "col":a:{d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(u){15<=b.api.debug.level&&console.log("Error in panel.api taskCol");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,d.view=!1}catch(v){15<=b.api.debug.level&&
console.log("Error in panel.api taskCol")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(w){15<=b.api.debug.level&&console.log("Error in panel.api taskCol")}}}break;case "top":case "left":case "right":a:{d=null;try{d=n(b.currenlayout.layout,"",c.type)}catch(x){15<=b.api.debug.level&&console.log("Error in panel.api taskMainblock");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,d.view=!1}catch(y){15<=b.api.debug.level&&console.log("Error in panel.api taskMainblock")}break;
case "show":try{d.origsize.view=!0,d.view=!0}catch(z){console.log("Error in panel.api taskMainblock")}}}break;case "panel":a:{d=null;try{d=B(b.currenlayout.chart_panels,c.name,[])}catch(A){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel");break a}if("undefined"!=typeof d&&null!=d&&0!=d.length)for(h=0;h<c.actions.length;h++)for(var D=c.actions[h],s=0;s<d.length;s++)switch(D.action){case "hide":try{d[s].view=!1}catch(E){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel")}break;
case "show":try{d[s].view=!0}catch(F){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel")}}}}C()}}},changeSize:function(a,e,c){try{g(b.currenlayout)&&g(b.gui)&&("undefined"==typeof a||null==a||isNaN(a)||(b.currenlayout.layout.width=a,b.currenlayout.layout.origsize.width=a),"undefined"==typeof e||null==e||isNaN(e)||(b.currenlayout.layout.height=e,b.currenlayout.layout.origsize.height=e),b.api.layout.resize())}catch(f){}},set:function(){var a=null;g(b.currenlayout.layout)&&(a=b.currenlayout.layout,
k(a,arguments))},get:function(){if(g(b.currenlayout.layout))return m(b.currenlayout.layout,arguments)},resize:C,set width(a){var b=[];b.push("width");b.push(a);l(b)},set height(a){var b=[];b.push("height");b.push(a);l(b)},top:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("top"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("top"==
b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},addRow:function(a){},removeRow:function(){},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("top"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}},addItem:function(){},removeItem:function(){}},set view(a){var b=
[];b.push("items[type=top]");b.push("view");b.push(a);l(b)}},left:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("left"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("left"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},row:{view:function(a,
e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("left"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=left]");b.push("view");b.push(a);l(b)}},right:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("right"==b.currenlayout.layout.items[a].type){a=
b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("right"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("right"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,
["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=right]");b.push("view");b.push(a);l(b)}},bottom:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("bottom"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("bottom"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],
m(a,arguments)},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("top"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=bottom]");b.push("view");b.push(a);l(b)}},main:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("main"==
b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("Main"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)}},rows:{hide:function(a){u(b.currenlayout.layout,a);b.api.layout.resize()},show:function(a){v(b.currenlayout.layout,a);b.api.layout.resize()},addItem:function(a,e,c,f){w(b.currenlayout.layout,a,e,c,f);b.api.layout.resize()},
delItem:function(a,e){x(b.currenlayout.layout,a,e);b.api.layout.resize()}}}};
function ProChart_InitAPIMenu(a){return{}};
function ProChart_InitAPIZoom(a){return{}};
function ProChart_InitAPIToolbar(n){function k(b,a,c){if("undefined"==typeof b.fns)return null;this.objparent=b;this.objChartMain=g;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var h=e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(h)}catch(k){console.log(k)}}}}function h(b){return"undefined"!=typeof b&&null!=b}function l(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function m(b,a){var c=a.indexOf("["),
d=a.indexOf("]"),c=a.substring(c+1,d),d=a.replace(c,"").replace("[","").replace("]",""),e=c.split("="),c=e[0],e=e[1],d=b[d];if("undefined"!=typeof d&&null!=d&&d instanceof Array)for(var f=0;f<d.length;f++)if(d[f][c]==e)return d[f];return null}var g=n;return{changeIcon:function(b,a){"undefined"!=typeof g.toolbaradvobj&&g.toolbaradvobj.gui.changeIcon(b,a)},set:function(){var b=null;if(h(g.currenlayout.toolbars)){for(var b=g.currenlayout,a=arguments,c=0;c<a.length-2;c++)b=l(a[c])?m(b,a[c]):b[a[c]];if(h(b)){var d=
c=a[a.length-2];typeof c!=typeof String&&(d=c.toString());c=d.split("||");if(c instanceof Array){if(d=a=a[a.length-1],typeof a!=typeof String&&(d=a.toString()),a=d.split("||"),a instanceof Array&&c.length==a.length)for(d=0;d<c.length;d++)b[c[d]]=a[d],k(b,c[d],a[d])}else b[a[a.length-2]]=a[a.length-1],k(b,a[a.length-2],a[a.length-1])}}},get:function(){if(h(g.currenlayout.toolbars)){var b;a:{b=g.currenlayout;for(var a=arguments,c=0;c<a.length;c++)if(l(a[c])){if(b=m(b,a[c]),null==b){b=void 0;break a}}else try{b=
b[a[c]]}catch(d){b=void 0;break a}b=h(b)?b:void 0}return b}}}};
function ProChart_InitAPIChart(n){function c(){var b=null;if(g(h.currenlayout.headers)){for(var b=h.currenlayout.headers,a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);c=a[0];for(a=0;a<c.length-2;a++)b=k(c[a])?l(b,c[a]):b[c[a]];if(g(b)){var d=a=c[c.length-2];typeof a!=typeof String&&(d=a.toString());a=d.split("||");if(a instanceof Array){if(d=c=c[c.length-1],typeof c!=typeof String&&(d=c.toString()),c=d.split("||"),c instanceof Array&&a.length==c.length)for(d=0;d<a.length;d++)b[a[d]]=c[d],m(b,
a[d],c[d])}else b[c[c.length-2]]=c[c.length-1],m(b,c[c.length-2],c[c.length-1])}}}function e(){if(g(h.currenlayout.layout)){var b;a:{b=h.currenlayout.layout;for(var a=arguments,c=0;c<a.length;c++)if(k(a[c]))b=l(b,a[c]);else try{b=b[a[c]]}catch(d){b=void 0;break a}b=g(b)?b:void 0}return b}}function m(b,a,c){if(!1!=h.eventStatus.chartCreateComplete&&"undefined"!=typeof b.fns){this.objparent=b;this.objChartMain=h;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var g=
e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(g)}catch(k){console.log(k)}}}}}function g(b){return"undefined"!=typeof b&&null!=b}function k(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function l(b,a){var c=a.indexOf("["),d=a.indexOf("]"),d=a.substring(c+1,d),c=a.replace(d,"").replace("[","").replace("]",""),e=d.split("="),d=e[0],e=e[1],f=null,f=0==c.length?b:b[c];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(c=0;c<f.length;c++)if(f[c][d]==
e)return f[c];return null}var h=n;return{tempactions:{changeview:"$('#%guiid%').css('display','%value%')"},id:"header1",set:c,get:e,searchbutton:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchbutton]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchbutton]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("right");
a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},symboltitle:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+
"]");b.push("items[type=symboltitle]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=symboltitle]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");
a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+
objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},searchsymbol:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchsymbol]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");
a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchsymbol]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("width");a.push(b);
c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");
a.push("possition");a.push("bottom");a.push(b);c(a)}}},timeframe:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=timeframe]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=timeframe]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);
c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");
a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},communic:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=communic]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,
set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=communic]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+
"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);c(a)},
set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},lastupdate:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=lastupdate]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+
"]");b.push("items[type=lastupdate]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");
a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},htmlcontainer:{set:function(){var b=
[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=htmlcontainer]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("view");a.push(b);c(a)},set content(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("content");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=htmlcontainer]");b.push("possition");
for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=
[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("bottom");a.push(b);c(a)}}}}};
function ProChart_InitAPIPanels(a){return{}};
function ProChart_InitAPIAlert(a){return{}};
function ProChart_InitAlert(w){var r,q,m,s;function v(a){r=h(a,"alert-pattern");q=h(a,"alert-group-pattern");h(a,"alert-news-article");h(a,"alert-candlesticks-patterns");h(a,"alert-dividends");m=h(a,"alert-economic");h(a,"lert-splitstock");s=!0}function t(){e.guuid=g.panels.gui.getAlertZone();if(null==e.guuid)return null;$.when(x()).done(function(){for(var a="",d=0;d<e.demodata.itemsinfo.length;d++)for(var c=e.demodata.itemsinfo[d],b=0,k=c.items.length,f="",h=0;h<c.items.length;h++){var n=c.items[h],
l={left:1<k?b:c.possition[0]+b,zindex:30,pointerevents:1<k?"none":"all"},b=b+5,p="";switch(n.type.toLowerCase()){case "e":p=m.replace(/%title%/g,"test test test").replace(/%text%/g,"heheheh").replace(/%link-title%/g,"http://www.prochartview.com");break;case "n":p=m.replace(/%title%/g,"test test test").replace(/%text%/g,"heheheh").replace(/%link-title%/g,"http://www.prochartview.com");break;case "d":p=m.replace(/%title%/g,"test test test").replace(/%text%/g,"heheheh").replace(/%link-title%/g,"http://www.prochartview.com");
break;default:p=""}f+=r.replace(/%style%/g,u(l,"px",1)).replace(/%type%/g,n.type.toLowerCase()).replace(/%group%/g,c.possition[0]).replace(/%title%/g,n.type.toUpperCase()).replace(/%point%/g,l.left).replace(/%alertdata%/g,p).replace(/%pointnode%/g,c.possition[0]).replace(/%grouptotal%/g,c.items.length).replace(/%showdata%/g,1<c.items.length?"0":"1").replace(/%id%/,g.commonutils.func.returnShortUniqID());1<k?h==k-1&&(n={left:parseInt(c.possition[0]),width:5*parseInt(k)+18,height:20,zindex:31,pointerevents:"all",
cursor:"pointer"},f=q.replace(/%style%/g,u(n,"px",1)).replace(/%html%/g,f).replace(/%pointnode%/g,c.possition[0]).replace(/%grouptotal%/g,k).replace(/%id%/g,"group-"+c.possition[0]),a+=f,f=""):(a+=f,f="")}$("#"+e.guuid).html(a);y()});return null}function y(){$(e.parent).find(".alert-container").off("click1").on("click1",function(a){l.debug("Groupid:",this.getAttribute("groupid"));a=this.getAttribute("groupid");var d=this.getAttribute("pointnode"),c=this.getAttribute("grouptotal"),b=0;if(!(2>parseInt(c))){c=
{left:parseInt(d)-20*parseInt(c)/2+(9+5*(parseInt(c)-1)),width:22*parseInt(c),height:20,zindex:31};c=q.replace(/%style%/g,u(c,"px",1)).replace(/%html%/g,"").replace(/%id%/g,"group-"+a);$("#"+e.guuid).prepend(c);var k=$("#"+e.guuid).find("#group-"+a),f=$(e.parent).find("[groupid='"+a+"']");f.each(function(){$(this).css("left",3+18*b+"px").attr("showdata","1");k.append($(this));b+=1});k.on("mouseleave",function(){b=0;f.each(function(){$(this).css("left",parseInt(d)+5*b+"px").attr("showdata","0");b+=
1;$("#"+e.guuid).append($(this));$(this).find("> div").css("display","none")});k.off("mouseleave");l.debug("mouseleave");k.remove()})}});$(e.parent).find(".alert-container").prochart_hoverIntent(function(){$(this).css("top","-5px");$(this).find("> div").css("display","block");$(this).find("> .aler-message").css("z-index","100");$(this).find("> .alert-container-clone").css("z-index","101");$(this).css("z-index","31");$("#"+e.guuid).css("z-index","120")},function(){$(this).css("top","0px");$(this).find("> div").css("display",
"none");$(this).css("z-index","30");$("#"+e.guuid).css("z-index","6")});$(e.parent).find(".alert-group").prochart_hoverIntent(function(){var a=parseInt(this.getAttribute("grouptotal")),d=parseInt(this.getAttribute("pointnode")),d=parseInt(d)-20*parseInt(a)/2+(9+5*(parseInt(a)-1)),a=20*parseInt(a)+6;$(this).css({width:a+"px",left:d+"px","z-index":32});var c=0;$(this).find(".alert-container").each(function(){$(this).css({left:3+20*c+"px","pointer-events":"all"});c+=1})},function(){var a=parseInt(this.getAttribute("grouptotal")),
d=parseInt(this.getAttribute("pointnode")),a=5*parseInt(a)+20,d=parseInt(d);$(this).css({width:a+"px",left:d+"px","z-index":6});var c=0;$(this).find(".alert-container").each(function(){$(this).css({left:5*c+"px","pointer-events":"none"});c+=1})})}function x(){var a=$.Deferred(),d=!1==g.guiinit.cache?"?"+(new Date).getTime():"",d=g.guiinit.rootpath+"/ChartUI/gui/alert/demo.json.js"+d;if(g.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",d);c.onload=function(){var b=c.responseText;
eval(b);e.demodata=eval("ProChart_InitDemoAlert")(g);a.resolve(b)};c.send()}else $.ajax({url:d,type:"get",contentType:"application/javascript",dataType:"script",data:{},async:!0,error:function(a,c){l.error(c)}}).done(function(b){eval(b);e.demodata=eval("ProChart_InitDemoAlert")(g);a.resolve(b)});return a.promise()}function h(a,d){var c="",b=a.indexOf("<"+d+">"),e=("<"+d+">").length,f=a.indexOf("</"+d+">");-1!=b&&-1!=f&&f>b+e&&(c=a.substring(b+e,f));return c}function u(a,d,c){var b="";"undefined"!=
typeof a.left&&(b=b+"left :"+a.left+(isNaN(a.left)?"":d)+"; ");"undefined"!=typeof a.zindex&&(b=b+"z-index :"+a.zindex+"; ");"undefined"!=typeof a.pointerevents&&(b=b+"pointer-events :"+a.pointerevents+"; ");"undefined"!=typeof a.cursor&&(b=b+"cursor :"+a.cursor+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+a.right+(isNaN(a.right)?"":d)+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+a.top+(isNaN(a.top)?"":d)+"; ");"undefined"!=typeof a.bottom&&(b=b+"bottom :"+a.bottom+(isNaN(a.bottom)?"":d)+"; ");
"undefined"!=typeof a.width&&(b=b+"width :"+a.width+(isNaN(a.width)?"":d)+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+a.height+(isNaN(a.height)?"":d)+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return 0<b.length?("undefined"!=typeof c&&1==c&&(b+=" position:absolute;  "),'style="'+b+'"'):'style=" display:none; "'}var g=w,e={};g.alertobj=e;var l=g.api.debug.getLogger("prochart.gui.alert");e.gui={initPattern:function(){},viewAlert:function(a){e.parent=a;1==s&&t();a=
!1==g.guiinit.cache?"?"+g.version.gui.name+(new Date).getTime():"?"+g.version.gui.name;a=g.guiinit.rootpath+"/ChartUI/gui/alert/alert.patterns.htm"+a;var d=$.Deferred();if(g.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",a);c.onload=function(){var a=c.responseText;v(a);t();d.resolve(a)};c.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:a}).done(function(a){v(a);l.debug("read alert Pattern");t();d.resolve(a)});return d.promise()}};e.demodata=null;m=q=r=e.guuid=null;s=
!1;return e};
function ProChart_InitMsg(l){function k(a){var c=f,b="",h=a.indexOf("<msg-pattern>"),d=a.indexOf("</msg-pattern>");-1!=h&&-1!=d&&d>h+13&&(b=a.substring(h+13,d));c.alert=b;f.alreadyread=!0}function d(){b.guuid=c.panels.gui.getMsgZone();return null}var c=l,b={};c.msgobj=b;var m=c.api.debug.getLogger("prochart.gui.msg");b.gui={initPattern:function(){},viewMsg:function(a){b.parent=a;1==f.alreadyread&&d();a=!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():"?"+c.version.gui.name;a=c.guiinit.rootpath+
"/ChartUI/gui/alert/msg.patterns.htm"+a;var g=$.Deferred();if(c.navigator.XMLHttpRequest()){var e=new XMLHttpRequest;e.open("get",a);e.onload=function(){var a=e.responseText;k(a);d();g.resolve(a)};e.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:a}).done(function(a){k(a);m.debug("read alert Pattern");d();g.resolve(a)});return g.promise()}};b.demodata=null;b.guuid=null;var f={alreadyread:!1};return b};
function ProChart_InitActions(a){var f={},g=a.api.debug.getLogger("prochart.gui.actions");return f={action:function(e,b,h,d){!0==a.bi.status&&a.bi.addt2BI(e);switch(e){case "pointer":a.chart.StopDrawing();break;case "delete_selected":a.chart.DeleteSelected();break;case "delete_allshapes":a.chart.DeleteAllShapes();break;case "delete_allstudies":a.chart.DeleteAllStudies();break;case "draw_tradebuy":a.chart.StartDrawing("tradebuy");break;case "draw_tradesell":a.chart.StartDrawing("tradesell");break;
case "duplicate_delected":a.chart.DuplicateSelected();break;case "draw_rayline":a.chart.StartDrawing("line",{ExtendLeft:!0});break;case "draw_raylineright":a.chart.StartDrawing("line",{ExtendRight:!0});break;case "draw_hline":a.chart.StartDrawing("hline");break;case "draw_vline":a.chart.StartDrawing("vline");break;case "draw_extendedline":a.chart.StartDrawing("line",{ExtendLeft:!0,ExtendRight:!0});break;case "draw_arrow":a.chart.StartDrawing("arrow");break;case "draw_line":a.chart.StartDrawing("line");
break;case "draw_measure":a.chart.StartDrawing("measure");break;case "draw_parallel":a.chart.StartDrawing("parallel");break;case "draw_rect":a.chart.StartDrawing("rect");break;case "draw_arc":a.chart.StartDrawing("arc");break;case "draw_ellipse":a.chart.StartDrawing("ellipse");break;case "draw_circle":a.chart.StartDrawing("circle");break;case "draw_triangle":a.chart.StartDrawing("triangle");break;case "draw_polygon":a.chart.StartDrawing("polygon");break;case "draw_text":a.chart.StartDrawing("text",
{LabelText:"Type text.."});break;case "draw_fork":a.chart.StartDrawing("fork");break;case "draw_fibretrace":a.chart.StartDrawing("fibretrace");break;case "draw_fibtimezones":a.chart.StartDrawing("fibtimezones");break;case "draw_fibfan":a.chart.StartDrawing("fibfan");break;case "draw_fibarc":a.chart.StartDrawing("fibarc");break;case "draw_ganfan":a.chart.StartDrawing("ganfan");break;case "draw_fibextension":a.chart.StartDrawing("fibextension");break;case "draw_fibtimeextension":a.chart.StartDrawing("fibtimeextension");
break;case "draw_gansquare":a.chart.StartDrawing("gansquare");break;case "draw_linearreg":a.chart.StartDrawing("linearreg");break;case "draw_cycleline":a.chart.StartDrawing("cycleline");break;case "zoom_in":case "zoom-in":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomIn();break;case "zoom_out":case "zoom-out":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomOut();break;case "zoom_left":case "zoom-left":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomLeft();break;case "zoom_right":case "zoom-right":if("undefined"!=
typeof a.zoomobj)a.zoomobj.gui.onZoomRight();break;case "zoom-all":case "zoom_all":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomAll();break;case "zoom_default":case "zoom-default":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomRestore();break;case "about":"undefined"!=typeof a.menuobj&&a.menuobj.gui.about();break;case "signal_config":"undefined"!=typeof a.signals&&a.signals.gui.viewSignalProviders();break;case "signal_test":"undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal("tradingcentral_bo");
break;case "help":"undefined"!=typeof a.menu&&a.menuobj.gui.help();break;case "system-get":"undefined"!=typeof a.systems&&a.systems.gui.viewSystems();break;case "system-set":"undefined"!=typeof a.systems&&a.systems.gui.saveSystems();break;case "full-screen":a.gui.fullScreen();break;case "global-props":"undefined"!=typeof a.props&&a.props.gui.viewProps();break;case "screen-shot":"undefined"!=typeof a.community&&a.community.gui.viewScreenShot();break;case "signals":"undefined"!=typeof a.signals&&a.signals.gui.viewSignals();
break;case "menu-majorform":"undefined"!=typeof a.compares&&a.compares.gui.viewMajors();break;case "menu-indicatorform":"undefined"!=typeof a.indicators&&a.indicators.gui.viewIndicators();break;case "menu-compareform":"undefined"!=typeof a.compares&&a.compares.gui.viewCompares();break;case "menu-headersymbolsearch":"undefined"!=typeof a.header&&a.header.gui.openSearch();break;case "autotimescale":if("undefined"!=typeof a.chart&&"undefined"!=typeof b&&"undefined"!=typeof a.init.autotimescale&&null!=
a.init.autotimescale)for(d=0;d<a.init.autotimescale.length;d++)try{var c=a.init.autotimescale[d];if(c.id==b){a.chart.SetDateRange(c);return}}catch(f){}break;case "add-indicator":if("undefined"!=typeof a.chart&&"undefined"!=typeof b){"undefined"!=typeof a.chart.AddStudy&&a.chart.AddStudy(b);break}break;case "legend-collapse":"undefined"!=typeof a.panels&&a.panels.gui.collapselegend(b,h);break;case "viewalertbar":g.debug("viewalertbar");try{c=!0,"undefined"!=typeof a.apiinit.guipart.enabled.alert&&
(a.apiinit.guipart.enabled.alert=!a.apiinit.guipart.enabled.alert,c=a.apiinit.guipart.enabled.alert),"undefined"!=typeof a.currenlayout.chart_panels.price.axisxalert&&(a.currenlayout.chart_panels.price.axisxalert.view=c),"undefined"!=typeof a.panels&&a.panels.gui.refreshPriceWithInfoBars()}catch(k){}break;case "viewmsgbar":g.debug("viewmsgbar");try{"undefined"!=typeof a.currenlayout.chart_panels.price.axisxmsg&&(a.currenlayout.chart_panels.price.axisxmsg.view=!a.currenlayout.chart_panels.price.axisxmsg.view),
"undefined"!=typeof a.panels&&a.panels.gui.refreshPriceWithInfoBars()}catch(l){}}try{if(typeof a.events.actions.onActionRun==typeof Function)a.events.actions.onActionRun(e,b,h)}catch(m){}}}};
function ProChart_InitCommunity(c){function e(b){var d=a.chart.TakeSnapshot();$("#chart-dialog").html(b);b=$("#chart-dialog").find("#snap-shot-image");b.attr("src",d);b.bind("load",function(){$("#chart-dialog").dialog("option","position",{my:"center",at:"center",of:window})});k();$("#chart-dialog").dialog("open")}function l(b,d){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function m(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",
function(){var a=$(".chart-ui-dialog.community-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.community-dialog").css("opacity",a);$(this).css("opacity",b)})}var e="Close",f=d,g="";"undefined"!=typeof a.localizationobj&&(e=a.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),f=a.localizationobj.gui.returnLocalizationString("dialogs.community.title",d));"undefined"!=typeof a.init.TemplateName&&(g=a.init.TemplateName);var h="";"rtl"==a.localizationobj.gui.returnCurrentLanguage().direction&&
(h="dir-rtl");$('<div id="chart-dialog" title="'+f+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog community-dialog "+g+" "+h,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(b,d){m($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});"undefined"!=typeof a.preloadobj&&a.preloadobj.endPreload()},close:function(a,b){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.systems-dialog  adv-buttons.eye-orange").off().remove();
$("div.chart-ui-dialog.systems-dialog").off().remove();$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:e,click:function(){$(this).dialog("close")}}]})}function k(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).index();$(".main-properties").each(function(){$(this).css("display","none")});$(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(".main-properties").eq(a).css("display","block");$(this).addClass("active")})}var a=c;a.api.debug.getLogger("prochart.gui.community");
c={};a.community=c;var f="";c.gui={viewScreenShot:function(){"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload();f="Chart snapshot";l("test",f);var b=!1==a.guiinit.cache?"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,b=a.guiinit.rootpath+"/ChartUI/gui/community/screenshot.htm"+b;if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,c=$.Deferred();d.open("get",b);d.onload=function(){var a=d.responseText;e($(a).find("#dlg-community"));c.resolve(a)};d.send();return c}return $.ajax({type:"GET",
async:!0,dataType:"html",url:b,success:function(a){e($(a).find("#dlg-community"))}})}};c.init={};return c};
(function(y,e,ra){function fa(k,d,e){for(var r=[],u=0;u<k.length;u++){var s=tinycolor(k[u]),p=.5>s.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",p=p+(tinycolor.equals(d,k[u])?" sp-thumb-active":""),l=sa?"background-color:"+s.toRgbString():"filter:"+s.toFilter();r.push('<span title="'+s.toRgbString()+'" data-color="'+s.toRgbString()+'" class="'+p+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}return"<div class='sp-cf "+e+"'>"+r.join("")+"</div>"}function Fa(k,d){var q=
e.extend({},Z,k);q.callbacks={move:A(q.move,d),change:A(q.change,d),show:A(q.show,d),hide:A(q.hide,d),beforeShow:A(q.beforeShow,d)};return q}function ga(k,d){function q(){n.toggleClass("sp-flat",c);n.toggleClass("sp-input-disabled",!a.showInput);n.toggleClass("sp-alpha-enabled",a.showAlpha);n.toggleClass("sp-buttons-disabled",!a.showButtons);n.toggleClass("sp-palette-disabled",!a.showPalette);n.toggleClass("sp-palette-only",a.showPaletteOnly);n.toggleClass("sp-initial-disabled",!a.showInitial);n.addClass(a.className);
G()}function r(a){if(b){a=tinycolor(a).toRgbString();if(-1===e.inArray(a,H))for(H.push(a);H.length>Z;)H.shift();if(m&&y.localStorage)try{y.localStorage[m]=H.join(";")}catch(c){}}}function u(){var b=[],c=H,m={},d;if(a.showPalette){for(var f=0;f<$.length;f++)for(var h=0;h<$[f].length;h++)d=tinycolor($[f][h]).toRgbString(),m[d]=!0;for(f=0;f<c.length;f++)d=tinycolor(c[f]).toRgbString(),m.hasOwnProperty(d)||(b.push(c[f]),m[d]=!0)}return b.reverse().slice(0,a.maxSelectionSize)}function s(){var a=g(),b=
e.map($,function(b,c){return fa(b,a,"sp-palette-row sp-palette-row-"+c)});H&&b.push(fa(u(),a,"sp-palette-row sp-palette-row-selection"));ta.html(b.join(""))}function p(){if(a.showInitial){var b=I,c=g();ua.html(fa([b,c],c,"sp-palette-row-initial"))}}function l(){(0>=F||0>=O||0>=aa)&&G();n.addClass(va);J=null}function z(){n.removeClass(va)}function B(){var a=tinycolor(K.val());a.ok?t(a):K.addClass("sp-validation-error")}function wa(){R?C():ha()}function ha(){var b=e.Event("beforeShow.spectrum");if(R)G();
else if(v.trigger(b,[g()]),!1!==h.beforeShow(g())&&!b.isDefaultPrevented()){for(b=0;b<P.length;b++)P[b]&&P[b].hide();R=!0;e(ia).bind("click.spectrum",C);e(y).bind("resize.spectrum",f);Q.addClass("sp-active");n.removeClass("sp-hidden");a.showPalette&&s();G();w();I=g();p();h.show(I);v.trigger("show.spectrum",[I])}}function C(a){a&&"click"==a.type&&2==a.button||!R||c||(R=!1,e(ia).unbind("click.spectrum",C),e(y).unbind("resize.spectrum",f),Q.removeClass("sp-active"),n.addClass("sp-hidden"),tinycolor.equals(g(),
I)||(ga&&"cancel"!==a?L(!0):t(I,!0)),h.hide(g()),v.trigger("hide.spectrum",[g()]))}function t(a,b){if(!tinycolor.equals(a,g())){var c=tinycolor(a),d=c.toHsv();S=d.h%360/360;T=d.s;U=d.v;M=d.a;w();c.ok&&!b&&(V=ja||c.format)}}function g(a){a=a||{};return tinycolor.fromRatio({h:S,s:T,v:U,a:Math.round(100*M)/100},{format:a.format||V})}function x(){w();h.move(g());v.trigger("move.spectrum",[g()])}function w(){K.removeClass("sp-validation-error");xa();var b=tinycolor.fromRatio({h:S,s:1,v:1});ba.css("background-color",
b.toHexString());b=V;1>M&&("hex"===b||"hex3"===b||"hex6"===b||"name"===b)&&(b="rgb");var c=g({format:b}),d=c.toHexString(),m=c.toRgbString();sa||1===c.alpha?ka.css("background-color",m):(ka.css("background-color","transparent"),ka.css("filter",c.toFilter()));if(a.showAlpha){m=c.toRgb();m.a=0;var m=tinycolor(m).toRgbString(),f="linear-gradient(left, "+m+", "+d+")";W?X.css("filter",tinycolor(m).toFilter({gradientType:1},d)):(X.css("background","-webkit-"+f),X.css("background","-moz-"+f),X.css("background",
"-ms-"+f),X.css("background",f))}a.showInput&&K.val(c.toString(b));a.showPalette&&s();p()}function xa(){var a=T*O,b=F-U*F,a=Math.max(-N,Math.min(O-N,a-N)),b=Math.max(-N,Math.min(F-N,b-N));ya.css({top:b,left:a});za.css({left:M*la-A/2});Aa.css({top:S*aa-D})}function L(a){var b=g();ma&&v.val(b.toString(V)).change();var c=!tinycolor.equals(b,I);I=b;r(b);a&&c&&(h.change(b),v.trigger("change.spectrum",[b]))}function G(){O=ba.width();F=ba.height();N=ya.height();na.width();aa=na.height();D=Aa.height();la=
Ba.width();A=za.width();c||(n.css("position","absolute"),n.offset(Ga(n,Y)));xa()}function E(){C();oa=!0;v.attr("disabled",!0);Y.addClass("sp-disabled")}var a=Fa(d,k),c=a.flat,b=a.showSelectionPalette,m=a.localStorageKey,Ca=a.theme,h=a.callbacks,f=Ha(G,10),R=!1,O=0,F=0,N=0,aa=0,la=0,A=0,D=0,S=0,T=0,U=0,M=1,pa=a.palette.slice(0),$=e.isArray(pa[0])?pa:[pa],H=a.selectionPalette.slice(0),Z=a.maxSelectionSize,va="sp-dragging",J=null,ia=k.ownerDocument,v=e(k),oa=!1,n=e(Ia,ia).addClass(Ca),ba=n.find(".sp-color"),
ya=n.find(".sp-dragger"),na=n.find(".sp-hue"),Aa=n.find(".sp-slider"),X=n.find(".sp-alpha-inner"),Ba=n.find(".sp-alpha"),za=n.find(".sp-alpha-handle"),K=n.find(".sp-input"),ta=n.find(".sp-palette"),ua=n.find(".sp-initial"),Da=n.find(".sp-cancel"),Ea=n.find(".sp-choose"),ma=v.is("input"),qa=ma&&!c,Q=qa?e(Ja).addClass(Ca).addClass(a.className):e([]),Y=qa?Q:v,ka=Q.find(".sp-preview-inner"),ca=a.color||ma&&v.val(),I=!1,ja=a.preferredFormat,V=ja,ga=!a.showButtons||a.clickoutFiresChange;(function(){function b(a){a.data&&
a.data.ignore?(t(e(this).data("color")),x()):(t(e(this).data("color")),L(!0),x(),C());return!1}W&&n.find("*:not(input)").attr("unselectable","on");q();qa&&v.after(Q).hide();if(c)v.after(n).hide();else{var d="parent"===a.appendTo?v.parent():e(a.appendTo);1!==d.length&&(d=e("body"));d.append(n)}if(m&&y.localStorage){try{var f=y.localStorage[m].split(",#");1<f.length&&(delete y.localStorage[m],e.each(f,function(a,b){r(b)}))}catch(h){}try{H=y.localStorage[m].split(";")}catch(g){}}Y.bind("click.spectrum touchstart.spectrum",
function(a){oa||wa();a.stopPropagation();e(a.target).is("input")||a.preventDefault()});(v.is(":disabled")||!0===a.disabled)&&E();n.click(Ka);K.change(B);K.bind("paste",function(){setTimeout(B,1)});K.keydown(function(a){13==a.keyCode&&B()});Da.text(a.cancelText);Da.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();C("cancel")});Ea.text(a.chooseText);Ea.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();K.hasClass("sp-validation-error")||(L(!0),C())});da(Ba,
function(a,b,c){M=a/la;c.shiftKey&&(M=Math.round(10*M)/10);x()});da(na,function(a,b){S=parseFloat(b/aa);x()},l,z);da(ba,function(a,b,c){c.shiftKey?J||(c=F-U*F,J=Math.abs(a-T*O)>Math.abs(b-c)?"x":"y"):J=null;c=!J||"y"===J;J&&"x"!==J||(T=parseFloat(a/O));c&&(U=parseFloat((F-b)/F));x()},l,z);ca?(t(ca),w(),V=ja||tinycolor(ca).format,r(ca)):w();c&&ha();d=W?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ta.delegate(".sp-thumb-el",d,b);ua.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)})();
var ea={show:ha,hide:C,toggle:wa,reflow:G,option:function(b,c){if(b===ra)return e.extend({},a);if(c===ra)return a[b];a[b]=c;q()},enable:function(){oa=!1;v.attr("disabled",!1);Y.removeClass("sp-disabled")},disable:E,set:function(a){t(a);L()},get:g,destroy:function(){v.show();Y.unbind("click.spectrum touchstart.spectrum");n.remove();Q.remove();P[ea.id]=null},container:n};ea.id=P.push(ea)-1;return ea}function Ga(k,d){var q=k.outerWidth(),r=k.outerHeight(),u=d.outerHeight(),s=k[0].ownerDocument,p=s.documentElement,
l=p.clientWidth+e(s).scrollLeft(),s=p.clientHeight+e(s).scrollTop(),p=d.offset();p.top+=u;p.left-=Math.min(p.left,p.left+q>l&&l>q?Math.abs(p.left+q-l):0);p.top-=Math.min(p.top,p.top+r>s&&s>r?Math.abs(r+u-0):0);return p}function D(){}function Ka(k){k.stopPropagation()}function A(k,d){var e=Array.prototype.slice,r=e.call(arguments,2);return function(){return k.apply(d,r.concat(e.call(arguments)))}}function da(k,d,q,r){function u(d){d.stopPropagation&&d.stopPropagation();d.preventDefault&&d.preventDefault();
d.returnValue=!1}function s(g){if(z){if(W&&9>document.documentMode&&!g.button)return p();var e=g.originalEvent.touches,l=e?e[0].pageY:g.pageY,e=Math.max(0,Math.min((e?e[0].pageX:g.pageX)-B.left,D)),l=Math.max(0,Math.min(l-B.top,A));C&&u(g);d.apply(k,[e,l,g])}}function p(){z&&(e(l).unbind(t),e(l.body).removeClass("sp-dragging"),r.apply(k,arguments));z=!1}d=d||function(){};q=q||function(){};r=r||function(){};var l=k.ownerDocument||document,z=!1,B={},A=0,D=0,C="ontouchstart"in y,t={};t.selectstart=u;
t.dragstart=u;t["touchmove mousemove"]=s;t["touchend mouseup"]=p;e(k).bind("touchstart mousedown",function(d){(d.which?3==d.which:2==d.button)||z||!1===q.apply(k,arguments)||(z=!0,A=e(k).height(),D=e(k).width(),B=e(k).offset(),e(l).bind(t),e(l.body).addClass("sp-dragging"),C||s(d),u(d))})}function Ha(e,d,q){var r;return function(){var u=this,s=arguments,p=function(){r=null;e.apply(u,s)};q&&clearTimeout(r);if(q||!r)r=setTimeout(p,d)}}var Z={beforeShow:D,move:D,change:D,show:D,hide:D,color:!1,flat:!1,
showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},P=[],W=!!/msie/i.exec(y.navigator.userAgent),sa=function(){var e=document.createElement("div").style;e.cssText="background-color:rgba(0,0,0,.5)";return!!~(""+e.backgroundColor).indexOf("rgba")||
!!~(""+e.backgroundColor).indexOf("hsla")}(),Ja="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div><div class='sp-range-box'><div class='sp-range'></div></div></div></div>",Ia=function(){var e="";if(W)for(var d=1;6>=d;d++)e+="<div class='sp-"+d+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",
e,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("")}();e.fn.spectrum=function(k,d){if("string"==typeof k){var q=this,r=Array.prototype.slice.call(arguments,
1);this.each(function(){var d=P[e(this).data("spectrum.id")];if(d){var s=d[k];if(!s)throw Error("Spectrum: no such method: '"+k+"'");"get"==k?q=d.get():"container"==k?q=d.container:"option"==k?q=d.option.apply(d,r):"destroy"==k?(d.destroy(),e(this).removeData("spectrum.id")):s.apply(d,r)}});return q}return this.spectrum("destroy").each(function(){var d=ga(this,k);e(this).data("spectrum.id",d.id)})};e.fn.spectrum.load=!0;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=da;e.fn.spectrum.defaults=Z;
e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){var k=e("<input type='color' value='!' />")[0];"color"===k.type&&"!"!=k.value||e("input[type=color]").spectrum({preferredFormat:"hex6"})};(function(e){function d(a,c){a=a?a:"";c=c||{};if("object"==typeof a&&a.hasOwnProperty("_tc_id"))return a;var b=q(a),m=b.r,e=b.g,h=b.b,f=b.a,k=g(100*f)/100,t=c.format||b.format;1>m&&(m=g(m));1>e&&(e=g(e));1>h&&(h=g(h));return{ok:b.ok,format:t,_tc_id:C++,
alpha:f,toHsv:function(){var a=s(m,e,h);return{h:360*a.h,s:a.s,v:a.v,a:f}},toHsvString:function(){var a=s(m,e,h),b=g(360*a.h),c=g(100*a.s),a=g(100*a.v);return 1==f?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+k+")"},toHsl:function(){var a=r(m,e,h);return{h:360*a.h,s:a.s,l:a.l,a:f}},toHslString:function(){var a=r(m,e,h),b=g(360*a.h),c=g(100*a.s),a=g(100*a.l);return 1==f?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+k+")"},toHex:function(a){return p(m,e,h,a)},toHexString:function(a){return"#"+
p(m,e,h,a)},toRgb:function(){return{r:g(m),g:g(e),b:g(h),a:f}},toRgbString:function(){return 1==f?"rgb("+g(m)+", "+g(e)+", "+g(h)+")":"rgba("+g(m)+", "+g(e)+", "+g(h)+", "+k+")"},toPercentageRgb:function(){return{r:g(100*l(m,255))+"%",g:g(100*l(e,255))+"%",b:g(100*l(h,255))+"%",a:f}},toPercentageRgbString:function(){return 1==f?"rgb("+g(100*l(m,255))+"%, "+g(100*l(e,255))+"%, "+g(100*l(h,255))+"%)":"rgba("+g(100*l(m,255))+"%, "+g(100*l(e,255))+"%, "+g(100*l(h,255))+"%, "+k+")"},toName:function(){return G[p(m,
e,h,!0)]||!1},toFilter:function(a){var b=p(m,e,h),g=b,k=Math.round(255*parseFloat(f)).toString(16),l=k,q=c&&c.gradientType?"GradientType = 1, ":"";a&&(a=d(a),g=a.toHex(),l=Math.round(255*parseFloat(a.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr=#"+z(k)+b+",endColorstr=#"+z(l)+g+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());"prgb"===a&&(b=this.toPercentageRgbString());if("hex"===a||"hex6"===a)b=this.toHexString();
"hex3"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString()}}}function q(a){var c={r:0,g:0,b:0},b=1,d=!1,e=!1;if("string"==typeof a)a:{a=a.replace(A,"").replace(D,"").toLowerCase();var h=!1;if(L[a])a=L[a],h=!0;else if("transparent"==a){a={r:0,g:0,b:0,a:0};break a}var f;a=(f=E.rgb.exec(a))?{r:f[1],g:f[2],b:f[3]}:(f=E.rgba.exec(a))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=E.hsl.exec(a))?{h:f[1],s:f[2],l:f[3]}:
(f=E.hsla.exec(a))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=E.hsv.exec(a))?{h:f[1],s:f[2],v:f[3]}:(f=E.hex6.exec(a))?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),format:h?"name":"hex"}:(f=E.hex3.exec(a))?{r:parseInt(f[1]+""+f[1],16),g:parseInt(f[2]+""+f[2],16),b:parseInt(f[3]+""+f[3],16),format:h?"name":"hex"}:!1}if("object"==typeof a){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))c=a.g,d=a.b,c={r:255*l(a.r,255),g:255*l(c,255),b:255*l(d,255)},d=!0,e="%"===String(a.r).substr(-1)?
"prgb":"rgb";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=B(a.s);a.v=B(a.v);var e=a.h,h=a.s,c=a.v,e=6*l(e,360),h=l(h,100),c=l(c,100),d=t.floor(e),g=e-d,e=c*(1-h);f=c*(1-g*h);h=c*(1-(1-g)*h);d%=6;c={r:255*[c,f,e,e,h,c][d],g:255*[h,c,c,f,e,e][d],b:255*[e,e,h,c,c,f][d]};d=!0;e="hsv"}else a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=B(a.s),a.l=B(a.l),c=u(a.h,a.s,a.l),d=!0,e="hsl");a.hasOwnProperty("a")&&(b=a.a)}b=parseFloat(b);if(isNaN(b)||
0>b||1<b)b=1;return{ok:d,format:a.format||e,r:x(255,w(c.r,0)),g:x(255,w(c.g,0)),b:x(255,w(c.b,0)),a:b}}function r(a,c,b){a=l(a,255);c=l(c,255);b=l(b,255);var d=w(a,c,b),e=x(a,c,b),h,f=(d+e)/2;if(d==e)h=e=0;else{var g=d-e,e=.5<f?g/(2-d-e):g/(d+e);switch(d){case a:h=(c-b)/g+(c<b?6:0);break;case c:h=(b-a)/g+2;break;case b:h=(a-c)/g+4}h/=6}return{h:h,s:e,l:f}}function u(a,c,b){function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=l(a,360);c=l(c,100);b=l(b,
100);if(0===c)b=c=a=b;else{var e=.5>b?b*(1+c):b+c-b*c,h=2*b-e;b=d(h,e,a+1/3);c=d(h,e,a);a=d(h,e,a-1/3)}return{r:255*b,g:255*c,b:255*a}}function s(a,c,b){a=l(a,255);c=l(c,255);b=l(b,255);var d=w(a,c,b),e=x(a,c,b),h,f=d-e;if(d==e)h=0;else{switch(d){case a:h=(c-b)/f+(c<b?6:0);break;case c:h=(b-a)/f+2;break;case b:h=(a-c)/f+4}h/=6}return{h:h,s:0===d?0:f/d,v:d}}function p(a,c,b,d){a=[z(g(a).toString(16)),z(g(c).toString(16)),z(g(b).toString(16))];return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==
a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function l(a,c){var b=a;"string"==typeof b&&-1!=b.indexOf(".")&&1===parseFloat(b)&&(a="100%");b="string"===typeof a&&-1!=a.indexOf("%");a=x(c,w(0,parseFloat(a)));b&&(a=parseInt(a*c,10)/100);return 1E-6>t.abs(a-c)?1:a%c/parseFloat(c)}function z(a){return 1==a.length?"0"+a:""+a}function B(a){1>=a&&(a=100*a+"%");return a}var A=/^[\s,#]+/,D=/\s+$/,C=0,t=Math,g=t.round,x=t.min,w=t.max,y=t.random;d.fromRatio=
function(a,c){if("object"==typeof a){var b={},e;for(e in a)a.hasOwnProperty(e)&&(b[e]="a"===e?a[e]:B(a[e]));a=b}return d(a,c)};d.equals=function(a,c){return a&&c?d(a).toRgbString()==d(c).toRgbString():!1};d.random=function(){return d.fromRatio({r:y(),g:y(),b:y()})};d.desaturate=function(a,c){var b=d(a).toHsl();b.s-=(c||10)/100;b.s=x(1,w(0,b.s));return d(b)};d.saturate=function(a,c){var b=d(a).toHsl();b.s+=(c||10)/100;b.s=x(1,w(0,b.s));return d(b)};d.greyscale=function(a){return d.desaturate(a,100)};
d.lighten=function(a,c){var b=d(a).toHsl();b.l+=(c||10)/100;b.l=x(1,w(0,b.l));return d(b)};d.darken=function(a,c){var b=d(a).toHsl();b.l-=(c||10)/100;b.l=x(1,w(0,b.l));return d(b)};d.complement=function(a){a=d(a).toHsl();a.h=(a.h+180)%360;return d(a)};d.triad=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+120)%360,s:c.s,l:c.l}),d({h:(b+240)%360,s:c.s,l:c.l})]};d.tetrad=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+90)%360,s:c.s,l:c.l}),d({h:(b+180)%360,s:c.s,l:c.l}),d({h:(b+270)%
360,s:c.s,l:c.l})]};d.splitcomplement=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+72)%360,s:c.s,l:c.l}),d({h:(b+216)%360,s:c.s,l:c.l})]};d.analogous=function(a,c,b){c=c||6;b=b||30;var e=d(a).toHsl();b=360/b;a=[d(a)];for(e.h=(e.h-(b*c>>1)+720)%360;--c;)e.h=(e.h+b)%360,a.push(d(e));return a};d.monochromatic=function(a,c){c=c||6;for(var b=d(a).toHsv(),e=b.h,g=b.s,b=b.v,h=[],f=1/c;c--;)h.push(d({h:e,s:g,v:b})),b=(b+f)%1;return h};d.readability=function(a,c){var b=d(a).toRgb(),e=d(c).toRgb(),
g=(299*b.r+587*b.g+114*b.b)/1E3,h=(299*e.r+587*e.g+114*e.b)/1E3,b=Math.max(b.r,e.r)-Math.min(b.r,e.r)+Math.max(b.g,e.g)-Math.min(b.g,e.g)+Math.max(b.b,e.b)-Math.min(b.b,e.b);return{brightness:Math.abs(g-h),color:b}};d.readable=function(a,c){var b=d.readability(a,c);return 125<b.brightness&&500<b.color};d.mostReadable=function(a,c){for(var b=null,e=0,g=!1,h=0;h<c.length;h++){var f=d.readability(a,c[h]),k=125<f.brightness&&500<f.color,f=f.brightness/125*3+f.color/500;if(k&&!g||k&&g&&f>e||!k&&!g&&f>
e)g=k,e=f,b=d(c[h])}return b};var L=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",
darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",
gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",
olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",
slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=d.hexNames=function(a){var c={},b;for(b in a)a.hasOwnProperty(b)&&(c[a[b]]=b);return c}(L),E={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};e.tinycolor=d})(this);e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
function ProChart_InitDraw(Ea){var M,N,O,P,Q,R,S,T,U,V,W,X,v;function Z(a){M=x(a,"fan-pattern");N=x(a,"square-trendline-pattern");O=x(a,"square-levels-pattern");P=x(a,"fiboarc-trendline-pattern");Q=x(a,"fiboarc-levels-pattern");R=x(a,"fibo-trendline-pattern");S=x(a,"fibo-levels-pattern");T=x(a,"fork-trendline-pattern");U=x(a,"fork-levels-pattern");V=x(a,"linereg-trendline-pattern");W=x(a,"linereg-levels-pattern");X=x(a,"coordinates_pattern");v=x(a,"border-style-pattern")}function aa(a,b){u=Fa(b.ShapeType);
"undefined"!=typeof d.preloadobj&&d.preloadobj.startPreload();try{switch(b.ShapeType){case "polygon":case "rect":case "ellipse":case "triangle":case "shape":case "circle":case "sketch":case "arc":ba(b);break;case "fibfan":case "ganfan":Ga(b);break;case "fibtimezones":case "fibtimeextension":ca(b);break;case "cycleline":da(b);break;case "gansquare":ea(b);break;case "fibretrace":case "fibextension":fa(b);break;case "fibarc":ga(b);break;case "fork":ha(b);break;case "linearreg":ia(b);break;case "arrow":case "line":ja(b);
break;case "parallel":ka(b);break;case "text":la(b);break;case "hline":case "measure":case "vline":ma(b);break;default:w()}}catch(c){w()}}function Fa(a){function b(a,b){return"undefined"!=typeof d.localizationobj?d.localizationobj.gui.returnLocalizationString(a,b):b}var c="";switch(a){case "polygon":c=b("dialogs.titles."+a,"Polygon");break;case "rect":c=b("dialogs.titles."+a,"Rectangle");break;case "ellipse":c=b("dialogs.titles."+a,"Ellipse");break;case "triangle":c=b("dialogs.titles."+a,"Triangle");
break;case "circle":c=b("dialogs.titles."+a,"Circle");break;case "sketch":c=b("dialogs.titles."+a,"Sketch");break;case "arc":c=b("dialogs.titles."+a,"Acr");break;case "fibfan":c=b("dialogs.titles."+a,"Fan");break;case "ganfan":c=b("dialogs.titles."+a,"Gann Fan");break;case "fibtimeextension":c=b("dialogs.titles."+a,"Fibo Time Zone Extension ");break;case "fibtimezones":c=b("dialogs.titles."+a,"Fibo Time Zone");break;case "cycleline":c=b("dialogs.titles."+a,"Circle Line");break;case "gansquare":c=
b("dialogs.titles."+a,"Gan Square");break;case "fibretrace":c=b("dialogs.titles."+a,"Fib Retracement");break;case "fibextension":c=b("dialogs.titles."+a,"Fib Extension");break;case "fibarc":c=b("dialogs.titles."+a,"Fib Arcs");break;case "fork":c=b("dialogs.titles."+a,"Pitchfork");break;case "linearreg":c=b("dialogs.titles."+a,"Regression Trend");break;case "arrow":c=b("dialogs.titles."+a,"Arrow");break;case "line":c=b("dialogs.titles."+a,"Line");break;case "parallel":c=b("dialogs.titles."+a,"Parallel Channel");
break;case "text":c=b("dialogs.titles."+a,"Text Label");break;case "hline":c=b("dialogs.titles."+a,"Horizontal Line");break;case "measure":c=b("dialogs.titles."+a,"Measure Line");break;case "vline":c=b("dialogs.titles."+a,"Vertical Line")}return c}function ia(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("shape",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/linearreg.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",
a);b.onload=function(){var a=b.responseText;na($(a).find("#dlg-linearreg"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){na($(a).find("#dlg-linearreg"))}})}function na(a){var b=c;$("#chart-dialog").html(a);try{var e=$("#tbody-levels"),k=V.replace(/%border_style_pattern%/g,v);$(e).append(k);0==c.Levels.length&&(c.Levels.push(0),c.Levels.push(0),c.Levels.push(0));var g=b.MainLineStyle;B(g,"#trendline-width","#color-trendline","#line-select-trendline");
C(g,"#trendline-width","#color-trendline","#line-select-trendline");a=W;k=[];k.push({name:"topline",caption:"Top Line"});k.push({name:"middleline",caption:"Middle Line"});k.push({name:"bottomline",caption:"Bottom Line"});for(g=0;3>g;g++){var d=a.replace(/%order%/g,g).replace(/%levelindex%/g,g).replace(/%linename%/g,k[g].name).replace(/%border_style_pattern%/g,v).replace(/%linecaption%/g,k[g].caption);$(e).append(d);var l=b.LevelsStyle["level"+g],m=b.LevelFillsStyle["level"+g];E(l,"#slider-5-level-"+
g);F(l,m,"#color-background-level-"+g);G(l,"#line-select-level-"+g);!1==b.LevelsView[g]&&($("#control-background-level-"+g).prop("checked",!1),$("#slider-5-level-"+g).slider("disable"),$("#color-background-level-"+g).spectrum("disable"),$("#input-level-"+g).prop("disabled",!0),$("#line-select-level-"+g).prop("disabled",!0))}H(b.MainLineStyle,"#slider-100",b.LevelFillsStyle);I("#control-background","#slider-100");!0!=b.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));
z(b.Coordinations,b.TimeScale,b);A();$("#chart-dialog").dialog("open")}catch(p){w()}}function ba(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("shape",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/shape.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;oa($(a).find("#dlg-shape"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,
success:function(a){oa($(a).find("#dlg-shape"))}})}function oa(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle;B(b,"#border-width","#color-border","#linedesign-select");pa(b,"#control-background","#color-background","#slider-100");C(b,"#border-width","#color-border","#linedesign-select");qa(b,"#control-background","#color-background","#slider-100");z(c.Coordinations,c.TimeScale,c);A();$("#chart-dialog").dialog("open")}catch(e){w()}}function ja(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+
(new Date).getTime():"?"+d.version.gui.name;y("line",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/line.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;ra($(a).find("#dlg-line"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){ra($(a).find("#dlg-line"))}})}function ra(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle;B(b,"#line-width","#line-color",
"#linedesign-select");C(b,"#line-width","#line-color","#linedesign-select");sa(c,"#line-extendleft","#line-extendright");z(c.Coordinations,c.TimeScale,c);A();$("#chart-dialog").dialog("open")}catch(e){w()}}function da(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("line",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/circleline.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;
ta($(a).find("#dlg-circleline"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){ta($(a).find("#dlg-circleline"))}})}function ta(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle;B(b,"#line-width","#line-color","#linedesign-select");C(b,"#line-width","#line-color","#linedesign-select");z(c.Coordinations,c.TimeScale,c);A();$("#chart-dialog").dialog("open")}catch(e){w()}}function ca(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+
(new Date).getTime():"?"+d.version.gui.name;y("line",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/timezone.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;ua($(a).find("#dlg-timezone"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){ua($(a).find("#dlg-timezone"))}})}function ua(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle;B(b,"#line-width",
"#line-color","#linedesign-select");C(b,"#line-width","#line-color","#linedesign-select");z(c.Coordinations,c.TimeScale,c);D(c);A();$("#chart-dialog").dialog("open")}catch(e){w()}}function ka(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("line",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/parallel.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;va($(a).find("#dlg-parallel"));
e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){va($(a).find("#dlg-parallel"))}})}function va(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle,e=c.MainLineStyle;B(b,"#line-width","#line-color","#linedesign-select");pa(e,"#control-background","#color-background","#slider-100");C(b,"#line-width","#line-color","#linedesign-select");qa(e,"#control-background","#color-background","#slider-100");sa(c,"#line-extendleft","#line-extendright");
z(c.Coordinations,c.TimeScale,c);A();$("#chart-dialog").dialog("open")}catch(k){w()}}function ma(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("line",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/vhline.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;wa($(a).find("#dlg-line"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,
success:function(a){wa($(a).find("#dlg-line"))}})}function wa(a){$("#chart-dialog").html(a);try{var b=c.MainLineStyle;B(b,"#line-width","#line-color","#linedesign-select");C(b,"#line-width","#line-color","#linedesign-select");z(c.Coordinations,c.TimeScale,c);switch(c.ShapeType){case "hline":var e=$("#tbody-coordinates td");$(e[2]).css("display","none");$(e[3]).css("display","none");$(e[4]).css("display","none");break;case "vline":var k=$("#tbody-coordinates td");$(k[0]).css("display","none");$(k[1]).css("display",
"none")}D(c);A();$("#chart-dialog").dialog("open")}catch(g){w()}}function la(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("text",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/text.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;xa($(a).find("#dlg-text"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){xa($(a).find("#dlg-text"))}})}
function xa(a){$("#chart-dialog").html(a);try{$("#input-text").val(c.Label),$("#input-text").on("change",function(){c.Label=$(this).val();c.Refresh()}),D(c),z(c.Coordinations,c.TimeScale,c),A(),$("#chart-dialog").dialog("open")}catch(b){w()}}function Ga(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("gannfan",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/fibo.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",
a);b.onload=function(){var a=b.responseText;ya($(a).find("#dlg-fibo"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){ya($(a).find("#dlg-fibo"))}})}function ya(a){$("#chart-dialog").html(a);try{var b=M.replace(/%border_style_pattern%/g,v),e=c.Levels,k=$("#tbody-levels");if(null!=e)for(a=0;a<e.length;a++){var g=b.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%input-value%/g,e[a]).replace(/%border_style_pattern%/g,v);$(k).append(g);
var d=c.LevelsStyle["level"+a],l=c.LevelFillsStyle["level"+a];E(d,"#slider-5-level-"+a);F(d,l,"#color-background-level-"+a);G(d,"#line-select-level-"+a);!1==c.LevelsView[a]&&($("#control-background-level-"+a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}H(c.MainLineStyle,"#slider-100",c.LevelFillsStyle);!0!=c.MainLineStyle.viewFill&&($("#control-background").prop("checked",
!1),$("#slider-100").slider("disable"));!0!=c.LabelsStyle.view&&$("#control-labels").prop("checked",!1);J();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),c.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+
a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0),c.LevelsView[a]=!1);c.Refresh()});I("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),e[a]=$(this).val(),c.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=
$(this).val()&&$.isNumeric($(this).val())&&(e[a]=$(this).val(),c.Refresh()))});z(c.Coordinations,c.TimeScale,c);D(c);A();$("#chart-dialog").dialog("open")}catch(m){w()}}function ea(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("square",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/square.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;za($(a).find("#dlg-square"));
e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){za($(a).find("#dlg-square"))}})}function za(a){$("#chart-dialog").html(a);try{var b=$("#tbody-levels"),e=N.replace(/%border_style_pattern%/g,v);$(b).append(e);var k=c.MainLineStyle;B(k,"#trendline-width","#color-trendline","#line-select-trendline");C(k,"#trendline-width","#color-trendline","#line-select-trendline");a=O;var d=c.Levels;if(null!=d)for(e=0;e<d.length;e++){var h=a.replace(/%order%/g,
e).replace(/%levelindex%/g,e).replace(/%border_style_pattern%/g,v).replace(/%input-value%/g,d[e]);$(b).append(h);var l=c.LevelsStyle["level"+e],m=c.LevelsStyle["level"+e];E(l,"#slider-5-level-"+e);F(l,m,"#color-background-level-"+e);G(l,"#line-select-level-"+e)}z(c.Coordinations,c.TimeScale,c);D(c);A();$("#chart-dialog").dialog("open")}catch(p){w()}}function ga(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("fiboarc",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/fibo.htm"+
a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;Aa($(a).find("#dlg-fibo"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){Aa($(a).find("#dlg-fibo"))}})}function Aa(a){$("#chart-dialog").html(a);try{var b=$("#tbody-levels"),e=P.replace(/%border_style_pattern%/g,v);$(b).append(e);var k=c.MainLineStyle;B(k,"#trendline-width","#color-trendline","#line-select-trendline");
C(k,"#trendline-width","#color-trendline","#line-select-trendline");var d=Q.replace(/%border_style_pattern%/g,v),h=c.Levels;if(null!=h)for(a=0;a<h.length;a++){var l=d.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%border_style_pattern%/g,v).replace(/%input-value%/g,h[a]);$(b).append(l);var m=c.LevelsStyle["level"+a],p=c.LevelFillsStyle["level"+a];E(m,"#slider-5-level-"+a);F(m,p,"#color-background-level-"+a);G(m,"#line-select-level-"+a);!1==c.LevelsView[a]&&($("#control-background-level-"+
a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}H(c.MainLineStyle,"#slider-100",c.LevelFillsStyle);!0!=c.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));!0!=c.LabelsStyle.view&&$("#control-labels").prop("checked",!1);J();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);
$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),c.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0),c.LevelsView[a]=!1);c.Refresh()});I("#control-background","#slider-100");$(".class-input-level").on("change",
function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),h[a]=$(this).val(),c.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=$(this).val()&&$.isNumeric($(this).val())&&(h[a]=$(this).val(),c.Refresh()))});z(c.Coordinations,c.TimeScale,c);D(c);A();$("#chart-dialog").dialog("open")}catch(u){w()}}function fa(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+
(new Date).getTime():"?"+d.version.gui.name;y("gannfan",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/fibo.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;Ba($(a).find("#dlg-fibo"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){Ba($(a).find("#dlg-fibo"))}})}function Ba(a){$("#chart-dialog").html(a);try{var b=$("#tbody-levels"),e=R.replace(/%border_style_pattern%/g,
v);$(b).append(e);var k=c.MainLineStyle;B(k,"#trendline-width","#color-trendline","#line-select-trendline");C(k,"#trendline-width","#color-trendline","#line-select-trendline");var d=S.replace(/%border_style_pattern%/g,v),h=c.Levels;if(null!=h)for(a=0;a<h.length;a++){var l=d.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%border_style_pattern%/g,v).replace(/%input-value%/g,h[a]);$(b).append(l);var m=c.LevelsStyle["level"+a],p=c.LevelFillsStyle["level"+a];E(m,"#slider-5-level-"+a);F(m,p,
"#color-background-level-"+a);G(m,"#line-select-level-"+a);!1==c.LevelsView[a]&&($("#control-background-level-"+a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}H(c.MainLineStyle,"#slider-100",c.LevelFillsStyle);!0!=c.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));!0!=c.LabelsStyle.view&&
$("#control-labels").prop("checked",!1);J();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),c.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),
$("#line-select-level-"+a).prop("disabled",!0),c.LevelsView[a]=!1);c.Refresh()});I("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),h[a]=$(this).val(),c.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=$(this).val()&&$.isNumeric($(this).val())&&(h[a]=$(this).val(),
objshapeinfo.Refresh()))});z(c.Coordinations,c.TimeScale,c);D(c);A();$("#chart-dialog").dialog("open")}catch(u){w()}}function ha(a){c=a;a=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name;y("gannfan",u);a=d.guiinit.rootpath+"/ChartUI/gui/draw/fork.htm"+a;if(d.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,e=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;Ca($(a).find("#dlg-fork"));e.resolve(a)};b.send();return e}return $.ajax({type:"GET",
async:!0,dataType:"html",url:a,success:function(a){Ca($(a).find("#dlg-fork"))}})}function Ca(a){var b=c;$("#chart-dialog").html(a);try{var e=$("#tbody-levels"),d=T.replace(/%border_style_pattern%/g,v);$(e).append(d);var g=b.MainLineStyle;B(g,"#median-width","#color-median","#line-select-median");C(g,"#median-width","#color-median","#line-select-median");a=U;var h=b.Levels;if(null!=h)for(d=0;d<h.length;d++){var l=a.replace(/%order%/g,d).replace(/%levelindex%/g,d).replace(/%border_style_pattern%/g,
v).replace(/%input-value%/g,h[d]);$(e).append(l);var m=b.LevelsStyle["level"+d],p=b.LevelFillsStyle["level"+d];E(m,"#slider-5-level-"+d);F(m,p,"#color-background-level-"+d);G(m,"#line-select-level-"+d);!1==b.LevelsView[d]&&($("#control-background-level-"+d).prop("checked",!1),$("#slider-5-level-"+d).slider("disable"),$("#color-background-level-"+d).spectrum("disable"),$("#input-level-"+d).prop("disabled",!0),$("#line-select-level-"+d).prop("disabled",!0))}H(b.MainLineStyle,"#slider-100",b.LevelFillsStyle);
!0!=b.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));J();$(".control-background-level").on("click",function(a){a=$(this).is(":checked");var b=$(".control-background-level").index(this);a?($("#slider-5-level-"+b).slider("enable"),$("#color-background-level-"+b).spectrum("enable"),$("#input-level-"+b).prop("disabled",!1),$("#line-select-level-"+b).prop("disabled",!1),c.LevelsView[b]=!0):($("#slider-5-level-"+b).slider("disable"),$("#color-background-level-"+
b).spectrum("disable"),$("#input-level-"+b).prop("disabled",!0),$("#line-select-level-"+b).prop("disabled",!0),c.LevelsView[b]=!1);c.Refresh()});I("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),h[a]=$(this).val(),b.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=
$(this).val()&&$.isNumeric($(this).val())&&(h[a]=$(this).val(),b.Refresh()))});z(b.Coordinations,b.TimeScale,b);A();$("#chart-dialog").dialog("open")}catch(u){w()}}function D(a){a=a.LabelsStyle;var b=d.commonutils.func.parseColorString(a.backgroundColor),e="rgb(%r%, %g%, %b%)".replace("%r%",b[0]).replace("%g%",b[1]).replace("%b%",b[2]),b=b[3];K($("#background-labelcolor"),e);K($("#color-font"),a.fill);$("#label-bk-coloropacity").slider({min:0,max:100});$("#label-bk-coloropacity .gradient").css("background-image",
"linear-gradient(to left, #000 0%, transparent 100% )");b*=100;$("#label-bk-coloropacity").slider("option","value",b);!0!=a.viewBackground&&($("#label-background").prop("checked",!1),$("#label-bk-coloropacity").slider("disable"),$("#background-labelcolor").spectrum("disable"));switch("bold"==a.fontWeight){case !0:$("#button_fontbold").removeClass("active").addClass("active");break;case !1:$("#button_fontbold").removeClass("active")}switch("italic"==a.fontStyle){case !0:$("#button_fontitalic").removeClass("active").addClass("active");
break;case !1:$("#button_fontitalic").removeClass("active")}$("#dialog-fontsize-select").val(a.fontSize);$("#dialog-fontname-select").val(a.fontName);$("#button_fontbold").on("click",function(){$(this).toggleClass("active");$(this).hasClass("active")?c.LabelsStyle.fontWeight="bold":c.LabelsStyle.fontWeight="normal";c.Refresh()});$("#button_fontitalic").on("click",function(){$(this).toggleClass("active");$(this).hasClass("active")?c.LabelsStyle.fontStyle="italic":c.LabelsStyle.fontStyle="normal";c.Refresh()});
$("#dialog-fontsize-select").on("change",function(){c.LabelsStyle.fontSize=$(this).val();c.Refresh()});$("#dialog-fontname-select").on("change",function(){c.LabelsStyle.fontName=$(this).val();c.Refresh()});$("#label-background").on("click",function(a){$(this).is(":checked")?($("#label-bk-coloropacity").slider("enable"),$("#background-labelcolor").spectrum("enable"),c.LabelsStyle.viewBackground=!0):($("#label-bk-coloropacity").slider("disable"),$("#background-labelcolor").spectrum("disable"),c.LabelsStyle.viewBackground=
!1);c.Refresh()});$("#label-bk-coloropacity").on("slide slidechange",function(){var a=$(this).slider("option","value")/100,b=d.commonutils.func.parseColorString(c.LabelsStyle.backgroundColor),a="rgba(%r%, %g%, %b%, %o%)".replace("%r%",b[0]).replace("%g%",b[1]).replace("%b%",b[2]).replace("%o%",a);c.LabelsStyle.backgroundColor=a;c.Refresh()});$("#control-labels").on("click",function(a){$(this).is(":checked")?c.LabelsStyle.view=!0:c.LabelsStyle.view=!1;c.Refresh()});$("#color-font").on("change",function(){var a=
$(this).spectrum("get").toHexString(),a=d.commonutils.func.parseColorString(a),a="rgba(%r%, %g%, %b%, %o%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",a[2]).replace("%o%","1");c.LabelsStyle.fill=a;c.Refresh()});$("#background-labelcolor").on("change",function(){var a=$(this).spectrum("get").toHexString(),b=d.commonutils.func.parseColorString(c.LabelsStyle.backgroundColor)[3],a=d.commonutils.func.parseColorString(a),b="rgba(%r%, %g%, %b%, %o%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",
a[2]).replace("%o%",b);c.LabelsStyle.backgroundColor=b;c.Refresh()})}function z(a,b,c){var k=$("#tbody-coordinates"),g='<tr><td> <span data-localize="dialogs.draw.lb-price">Price</span> %id% </td><td><input type="text"  id="input-price-%id%"  prevvalue="%pricevalue%"  idx="%id%" class="dialog-text-input onlynumeric inputprice" autocomplete="off" autofocus=""  value ="%pricevalue%"  /></td><td><span data-localize="dialogs.draw.lb-date">Date</span> #</td><td><input class="dialog-text-input datespinner-input" idx="%id%" id="date-%id%" readonly value="%datevalue%"/><input class="dialog-text-input dialog-spinner datespinner " idx="%id%" id="date-spinner-%id%" value="0"/></td><tr/>',
g=X,h=/%id%/g,l=/%pricevalue%/g,m=/%datevalue%/g;L=[];if(null!=a)for(var p=0;p<a.length;p++){var u=g.replace(h,p).replace(l,a[p].yData).replace(m,d.chart.formatDate(a[p].xData));L.push(a[p].xData);$(k).append(u);$("#date-spinner-"+p).spinner({spin:function(g,k){var h=$(this).attr("id").toString().replace("-spinner",""),h=$("#"+h),l=$(this).attr("idx"),h=$("#date-"+l),n=L[l];$(this).spinner("value");var f=0;if($(this).val()>k.value)f=-1;else if($(this).val()<k.value)f=1;else return;var n=n.replace(/-/g,
"-").replace(/:/g,"-").replace(/ /g,"-").split("-"),m=parseInt(n[0]),p=parseInt(n[1])-1,q=parseInt(n[2]),r=parseInt(n[3]),s=parseInt(n[4]),t=parseInt(n[5]),n=new Date(m,p,q,r,s,t);switch(b){case "tick":case "Tick":case "TICK":case "1T":case "1t":f*=1;case "1m":case "1M":n=new Date(m,p,q,r,s+1*f,t);break;case "5m":case "5M":f*=5;n=new Date(m,p,q,r,s+f,t);break;case "10M":case "10m":f*=10;n=new Date(m,p,q,r,s+f,t);break;case "15M":case "15m":f*=15;n=new Date(m,p,q,r,s+f,t);break;case "30M":case "30m":f*=
30;n=new Date(m,p,q,r,s+f,t);break;case "60M":case "60m":f*=1;n=new Date(m,p,q,r+f,s,t);break;case "2H":case "2h":f*=2;n=new Date(m,p,q,r+f,s,t);break;case "4H":case "4h":f*=4;n=new Date(m,p,q,r+f,s,t);break;case "6H":case "6h":f*=6;n=new Date(m,p,q,r+f,s,t);break;case "8H":case "8h":f*=8;n=new Date(m,p,q,r+f,s,t);break;case "10H":case "10h":f*=10;n=new Date(m,p,q,r+f,s,t);break;case "12H":case "12h":f*=12;n=new Date(m,p,q,r+f,s,t);break;case "14H":case "14h":f*=14;n=new Date(m,p,q,r+f,s,t);break;
case "1D":case "1d":f*=1;n=new Date(m,p,q+f,r,s,t);break;case "1W":case "1w":f*=7;n=new Date(m,p,q+f,r,s,t);break;case "1MON":case "1mon":case "1N":case "1n":f*=1;n=new Date(m,p+f,q,r,s,t);break;case "1Q":case "1q":case "3N":case "3n":f*=3;n=new Date(m,p+f,q,r,s,t);break;case "6MON":case "6mon":case "6N":case "6n":f*=6;n=new Date(m,p+f,q,r,s,t);break;case "1Y":case "1y":f*=1,n=new Date(m+f,p,q,r,s,t)}f=n.getFullYear().toString();m=("0"+(n.getMonth()+1).toString()).slice(-2);p=("0"+n.getDate().toString()).slice(-2);
q=("0"+n.getHours().toString()).slice(-2);r=("0"+n.getMinutes().toString()).slice(-2);n=("0"+n.getSeconds().toString()).slice(-2);n=f+"-"+m+"-"+p+" "+q+":"+r+":"+n;h.val(d.chart.formatDate(n));L[l]=n;a[l].xData=n;c.Refresh()}})}$(".inputprice").on("change",function(){var b=$(".inputprice").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),a[b].yData=$(this).val(),c.Refresh())});$(".inputprice").on("keydown",function(b){13==b.keyCode&&(b=$(".inputprice").index(this),
""!=$(this).val()&&$.isNumeric($(this).val())&&(a[b].yData=$(this).val(),c.Refresh()))});J()}function y(a,b){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function k(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=$(".chart-ui-dialog.draw-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.draw-dialog").css("opacity",a);$(this).css("opacity",
b)})}$('<div id="chart-dialog" title="'+b+'"></div>').insertAfter("body");var g="Close",h="";"undefined"!=typeof d.localizationobj&&(g=d.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"));"undefined"!=typeof d.init.TemplateName&&(h=d.init.TemplateName);var l="";"rtl"==d.localizationobj.gui.returnCurrentLanguage().direction&&(l="dir-rtl");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog draw-dialog "+h+" "+l,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,
width:"auto",modal:!0,open:function(a,b){k($(this).parent());"undefined"!=typeof d.localizationobj&&d.localizationobj.gui.updateFromDataLang($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});w()},close:function(a,b){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.draw-dialog  adv-buttons.eye-orange").off().remove();$("div.chart-ui-dialog.draw-dialog").off().remove();$(this).off().empty().remove();return!1},buttons:[{id:"btn-dialogs-close",
text:g,click:function(){$(this).dialog("close")}}]})}function K(a,b,c){$(a).spectrum({color:b,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:["rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"),"rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"),
"rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"),"rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"),"rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"),
"rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"),"rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"),"rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{")]})}
function A(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).index();$(".main-properties").each(function(){$(this).css("display","none")});$(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(".main-properties").eq(a).css("display","block");$(this).addClass("active")})}function J(){$(".chart-ui-dialog .onlynumeric").prochart_numeric()}function B(a,b,c,k,g,h){"undefined"==typeof g&&(g=1);"undefined"==typeof h&&(h=6);var l=d.commonutils.func.parseColorString(a.stroke),
l="rgb(%r%, %g%, %b%)".replace("%r%",l[0]).replace("%g%",l[1]).replace("%b%",l[2]);K($(c),l);c=a.strokeWidth;$(b).slider({min:g,max:h});$(b).slider("option","value",c);a=a.dashArray;repx=/px/g;"undefined"!=typeof a&&$(k).val(a)}function pa(a,b,c,k){var g=d.commonutils.func.parseColorString(a.fill),g="rgb(%r%, %g%, %b%)".replace("%r%",g[0]).replace("%g%",g[1]).replace("%b%",g[2]);K($(c),g,k+" div.gradient");$(k+" div.gradient").css("background-image","linear-gradient(to left, "+g+" 0%, transparent 100% )");
$(k).slider({min:0,max:100});g=a.fillOpacity;g*=100;$(k).slider("option","value",g);!0!=a.viewFill?($(b).prop("checked",!1),$(c).spectrum("disable"),$(k).slider("disable")):($(b).prop("checked",!0),$(c).spectrum("enable"),$(k).slider("enable"))}function C(a,b,d,k){$(d).on("change",function(){$(this).spectrum("get").toHexString();var a=$(this).spectrum("get").toRgb(),a="rgba(%r%, %g%, %b%, %a%)".replace("%r%",a.r).replace("%g%",a.g).replace("%b%",a.b).replace("%a%",1);c.MainLineStyle.stroke=a;c.MainLineStyle.strokeOpacity=
0;c.Refresh()});$(b).on("slidechange",function(){var b=$(this).slider("option","value");a.strokeWidth=b;c.Refresh()});$(k).on("change",function(){var a=$(this).val();c.MainLineStyle.dashArray=a;c.Refresh()})}function qa(a,b,e,k){$(e).on("change",function(){var b=$(this).spectrum("get").toHexString(),d=$(this).spectrum("get").toRgb();$(k+" div.gradient").css("background-image","linear-gradient(to left, "+b+" 0%, transparent 100% )");b="rgba(%r%, %g%, %b%, %a%)".replace("%r%",d.r).replace("%g%",d.g).replace("%b%",
d.b).replace("%a%",a.fillOpacity);a.fill=b;c.Refresh()});$(k).on("slide slidechange",function(){var b=$(this).slider("option","value")/100;c.MainLineStyle.fillOpacity=b;b=d.commonutils.func.parseColorString(c.MainLineStyle.fill);b="rgba(%r%, %g%, %b%, %a%)".replace("%r%",b[0]).replace("%g%",b[1]).replace("%b%",b[2]).replace("%a%",a.fillOpacity);c.MainLineStyle.fill=b;c.Refresh()});$(b).on("click",function(a){$(this).is(":checked")?($(k).slider("enable"),$(e).spectrum("enable"),$(e).trigger("change"),
c.MainLineStyle.viewFill=!0):($(k).slider("disable"),$(e).spectrum("disable"),c.MainLineStyle.viewFill=!1);c.Refresh()})}function sa(a,b,d){null!=a.Settings&&(!0!=a.Settings.ExtendLeft&&$(b).prop("checked",!1),!0!=a.Settings.ExtendRight&&$(d).prop("checked",!1));$(d).on("click",function(b){b=$(this).is(":checked");null==a.Settings&&(a.Settings={});c.Settings.ExtendRight=b;c.Refresh()});$(b).on("click",function(a){a=$(this).is(":checked");c.Settings.ExtendLeft=a;c.Refresh()})}function E(a,b){var d=
a.strokeWidth;$(b).slider({min:1,max:6});$(b).slider("option","value",d);$(b).on("slidechange",function(){var b=$(this).slider("option","value");a.strokeWidth=b;c.Refresh()})}function F(a,b,e){b=a.stroke;a=d.commonutils.func.parseColorString(a.stroke);"rgb(%r%, %g%, %b%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",a[2]);K($(e),b);$(e).on("change",function(){var a=$(e).attr("levelindex"),b=$(this).spectrum("get").toHexString(),h=1;null!=c.LevelFillsStyle&&(h=d.commonutils.func.parseColorString(c.LevelFillsStyle["level"+
a].fill)[3]);var b=d.commonutils.func.parseColorString(b),l="rgba(%r%, %g%, %b% ,%o%)".replace("%r%",b[0]).replace("%g%",b[1]).replace("%b%",b[2]).replace("%o%",1);c.LevelsStyle["level"+a].stroke=l;h="rgba(%r%, %g%, %b%, %o%)".replace("%r%",b[0]).replace("%g%",b[1]).replace("%b%",b[2]).replace("%o%",h);null!=c.LevelFillsStyle&&(c.LevelFillsStyle["level"+a].fill=h);c.Refresh()})}function G(a,b){var d=a.dashArray;"undefined"!=typeof d&&$(b).val(d);$(b).on("change",function(){var a=$(b).attr("levelindex");
d=$(this).val();c.LevelsStyle["level"+a].dashArray=d;c.Refresh()})}function H(a,b,e){$(b).slider({min:0,max:100});$(b+" div.gradient").css("background-image","linear-gradient(to left, #000 0%, transparent 100% )");a=a.fillOpacity;"undefined"!=typeof a&&(a*=100,$(b).slider("option","value",a));$(b).on("slide slidechange",function(){var a=$(this).slider("option","value")/100;$(e).css("fill-opacity",a);for(var b=c.Levels.length,h=0;h<b;h++){var l=c.LevelFillsStyle["level"+h];"undefined"!=typeof l&&(l=
d.commonutils.func.parseColorString(l.fill),l="rgba(%r%, %g%, %b%, %o%)".replace("%r%",l[0]).replace("%g%",l[1]).replace("%b%",l[2]).replace("%o%",a),c.LevelFillsStyle["level"+h].fill=l)}c.MainLineStyle.fillOpacity=a;c.Refresh()})}function I(a,b){$(a).on("click",function(a){a=0;$(this).is(":checked")?($(b).slider("enable"),a=$(b).slider("option","value")/100,c.MainLineStyle.viewFill=!0):($(b).slider("disable"),a=0,c.MainLineStyle.viewFill=!1);for(var k=c.Levels.length,g=0;g<k;g++){var h=c.LevelFillsStyle["level"+
g];"undefined"!=typeof h&&(h=d.commonutils.func.parseColorString(h.fill),h="rgba(%r%, %g%, %b%, %o%)".replace("%r%",h[0]).replace("%g%",h[1]).replace("%b%",h[2]).replace("%o%",a),c.LevelFillsStyle["level"+g].fill=h)}c.Refresh()})}function w(){"undefined"!=typeof d.preloadobj&&d.preloadobj.endPreload()}function x(a,b){var c="",d=a.indexOf("<"+b+">"),g=("<"+b+">").length,h=a.indexOf("</"+b+">");-1!=d&&-1!=h&&h>d+g&&(c=a.substring(d+g,h));return c}var Y={},d=Ea,c=null,u="",L=[],Da=d.api.debug.getLogger("prochart.gui.draw");
d.drawobj=Y;Y.gui={initPattern:function(){var a=$.Deferred(),b=!1==d.guiinit.cache?"?"+d.version.gui.name+(new Date).getTime():"?"+d.version.gui.name,b=d.guiinit.rootpath+"/ChartUI/gui/draw/draw.patterns.htm"+b;if(d.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",b);c.onload=function(){var b=c.responseText;Z(b);Da.debug("readDraw Pattern");a.resolve(b)};c.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:b}).done(function(b){Z(b);Da.debug("readDraw Pattern");a.resolve(b)});
return a.promise()},openDialog:aa,drawShape:ba,drawTimezone:ca,drawCircleLine:da,drawSquare:ea,drawFibo:fa,drawFiboArc:ga,drawFork:ha,drawLinereg:ia,drawLine:ja,drawParallel:ka,drawText:la,drawVHLine:ma};v=W=V=X=U=T=S=R=Q=P=O=N=M=null;d.chart.UI.funcOnShapeDblClicked=aa;return Y};
function ProChart_InitHeader(ca){var F,G,H,I,J,K,L,M,y,N,O,P,Q,R;function S(a){F=t(a,"header-container");G=t(a,"header-searchbutton");H=t(a,"header-symboltitle");I=t(a,"header-symbolsearch");J=t(a,"template-search-output-list");K=t(a,"template-search-main-properties");L=t(a,"template-search-properties-tabs-label");M=t(a,"template-search-notfound");y=t(a,"template-search-properties-filter-values");N=t(a,"header-timeframe");O=t(a,"header-lastupdate");P=t(a,"header-communic");Q=t(a,"header-htmlcontainer");
R=t(a,"header-toolbar")}function da(){for(var a=e.currenlayout.headers,f=0;f<a.length;f++)for(var u=a[f],d=0;d<u.items.length;d++){var g=u.items[d];if("undefined"!=typeof g.relativeobject){var k=ea(g.relativeobject);null!=k&&(k=$("#"+k.guiid),k.attr("relobj",g.guiid),k.resize(function(a){var f={top:0,left:0,width:0,heigh:0},g={top:0,left:0};"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?(g=$(a.srcElement).position(),f.top=g.top,f.left=g.left,
f.width=$(a.srcElement).width(),f.height=$(a.srcElement).height()):(g=$(this).position(),f.top=g.top,f.left=g.left,f.width="undefined"!=typeof $(this).outerWidth()?$(this).outerWidth():$(this).width(),f.height="undefined"!=typeof $(this).outerHeight()?$(this).outerHeight():$(this).height());"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?T($(a.srcElement).attr("relobj"),f):T($(this).attr("relobj"),f)}))}}}function T(a,f){for(var u=e.currenlayout.headers,
d=0;d<u.length;d++)for(var g=u[d],k=0;k<g.items.length;k++){var c=g.items[k];if(c.guiid==a){var u=$(h.parent).find("#"+a),d=c,g=f,k={top:top,left:0,right:0,bottom:0},b=0,q=0;"undefined"!=typeof d.possition.left&&(k.left=v(d.possition.left,"px"),"undefined"!=typeof d.relativepossition&&"right"==d.relativepossition&&(b=g.width+g.left,k.left=v(d.possition.left,"px",b)));"undefined"!=typeof d.possition.right&&(k.right=v(d.possition.right,"px",b),"undefined"!=typeof d.relativepossition&&"left"==d.relativepossition&&
(b=g.left,k.right=v(d.possition.right,"px",b)));"undefined"!=typeof d.possition.top&&(k.top=v(d.possition.top,"px",q),"undefined"!=typeof d.relativepossition&&"bottom"==d.relativepossition&&(q=g.heigh+g.top,k.top=v(d.possition.top,"px",q)));"undefined"!=typeof d.possition.bottom&&(k.bottom=v(d.possition.bottom,"px",q),"undefined"!=typeof d.relativepossition&&"top"==d.relativepossition&&(q=g.bottom,k.bottom=v(d.possition.bottom,"px",q)));d=k;g=["top","right","bottom","left"];for(k=0;k<g.length;k++)"undefined"!=
typeof c.possition[g[k]]&&u.css(g[k],d[g[k]]);return}}}function ea(a){for(var f=e.currenlayout.headers,b=0;b<f.length;b++)for(var d=f[b],g=0;g<d.items.length;g++){var k=d.items[g];if(k.type==a||"undefined"!=typeof k.id&&k.id==a)return k}return null}function U(){if(null!=b.pfilter.markets&&"undefined"!=typeof e.init.markets){b.pfilter.markets.html("");var a=y.replace(/%id%/g,"").replace(/%name%/g,e.localizationobj.gui.returnLocalizationString("search.filter-markets-all","All")).replace(/%desc%/g,"All markets");
b.pfilter.markets.append(a);e.init.markets.forEach(function(a){a=y.replace(/%id%/g,a.id).replace(/%name%/g,a.name).replace(/%desc%/g,a.description);b.pfilter.markets.append(a)})}$(b.pfilterlabel.markets).off("click").on("click",function(a){a.stopPropagation();$(b.pfilter.markets).is(":visible")?z():(z(),$(b.pfilter.markets).css("display","block"),$(b.pfilter.markets).parent().children(".filter-up-range").css("display","block"),w("markets"))});$(b.pfilter.markets).find("li a").off("click").on("click",
function(a){p.market=$(this).attr("idx");a=$(this).html();$(b.pfilterlabel.markets).html(a);w("markets");C({guiparent:"header"},p.exchange,p.market,p.country,p.text,p.top,p.pageindex)})}function w(a){var f=$(b.pfilterlabel[a]).offset().left,e=$(b.pfilterlabel[a]).outerWidth(),d=$(b.pfilterlabel[a]).parent().offset().left;$(b.pfilter[a]).parent().children(".filter-up-range").css("left",parseInt(f-d)+"px");$(b.pfilter[a]).css("left",parseInt(f-d-30)+"px");$(b.pfilter[a]).parent().children(".filter-down-point").css("left",
parseInt(f-d+e+3)+"px")}function V(){if(null!=b.pfilter.exchanges&&"undefined"!=typeof e.init.exchanges){b.pfilter.exchanges.html("");var a=y.replace(/%id%/g,"").replace(/%name%/g,e.localizationobj.gui.returnLocalizationString("search.filter-exchanges-all","All")).replace(/%desc%/g,"All exchanges");b.pfilter.exchanges.append(a);e.init.exchanges.forEach(function(a){a=y.replace(/%id%/g,a.id).replace(/%name%/g,a.name).replace(/%desc%/g,a.description);b.pfilter.exchanges.append(a)})}$(b.pfilterlabel.exchanges).off("click").on("click",
function(a){a.stopPropagation();$(b.pfilter.exchanges).is(":visible")?z():(z(),$(b.pfilter.exchanges).css("display","block"),$(b.pfilter.exchanges).parent().children(".filter-up-range").css("display","block"),w("exchanges"))});$(b.pfilter.exchanges).find("li a").off("click").on("click",function(a){p.exchange=$(this).attr("idx");a=$(this).html();$(b.pfilterlabel.exchanges).html(a);w("exchanges");C({guiparent:"header"},p.exchange,p.market,p.country,p.text,p.top,p.pageindex)})}function W(){if(null!=
b.pfilter.countries&&"undefined"!=typeof e.init.countries){b.pfilter.countries.html("");var a=y.replace(/%id%/g,"").replace(/%name%/g,e.localizationobj.gui.returnLocalizationString("search.filter-countries-all","All")).replace(/%desc%/g,"All countries");b.pfilter.countries.append(a);e.init.countries.forEach(function(a){a=y.replace(/%id%/g,a.id).replace(/%name%/g,a.name).replace(/%desc%/g,a.description);b.pfilter.countries.append(a)})}$(b.pfilterlabel.countries).off("click").on("click",function(a){a.stopPropagation();
$(b.pfilter.countries).is(":visible")?z():(z(),$(b.pfilter.countries).css("display","block"),$(b.pfilter.countries).parent().children(".filter-up-range").css("display","block"),w("countries"))});$(b.pfilter.countries).find("li a").off("click").on("click",function(a){p.country=$(this).attr("idx");a=$(this).html();$(b.pfilterlabel.countries).html(a);w("countries");C({guiparent:"header"},p.exchange,p.market,p.country,p.text,p.top,p.pageindex)})}function D(){$(h.parent).find(".chart-header-search").css("display",
"none");$(h.parent).find(".chart-header-search-input-text").removeClass("search-open");$("body").off("click",D);$(h.parent).find(".chart-header-search-input-text").off("keyup");$(h.parent).find(".chart-header-search-output").css("display","none");z()}function z(a){null!=b.pfilter.markets&&($(b.pfilter.markets).css("display","none"),$(b.pfilter.markets).parent().children(".filter-up-range").css("display","none"));null!=b.pfilter.exchanges&&($(b.pfilter.exchanges).css("display","none"),$(b.pfilter.exchanges).parent().children(".filter-up-range").css("display",
"none"));null!=b.pfilter.countries&&($(b.pfilter.countries).css("display","none"),$(b.pfilter.countries).parent().children(".filter-up-range").css("display","none"))}function fa(a){$(h.parent).find(".chart-header-search").on("click",function(a){z();a.stopPropagation()})}function ga(){$(h.parent).find(".chart-header-search-input-text").on("keyup",function(a){if(27==a.which)D();else{var f=$(this).val();null!=E&&clearTimeout(E);E=setTimeout(function(){var a=f;5<=e.api.debug.level&&console.log("Run search");
"undefined"==typeof a&&(a="");null!=b.pmain&&b.pmain.html("");null!=b.ptab&&b.ptab.html("");$(h.parent).find(".chart-header-search-output").css("display","block");p.text=a;C({guiparent:"header"},p.exchange,p.market,p.country,p.text,p.top,p.pageindex);clearTimeout(E)},e.apiinit.searchDelay)}})}function ha(){$(h.parent).find(".symbol-title,.search-symbolics").bind("click",function(a){var f=$(h.parent).find(".chart-header-search");0<f.length&&("block"==f.css("display")?D():X(a))})}function X(a){$(h.parent).find(".symbol-title").html();
$(h.parent).find(".chart-header-search").css("display","block");$(h.parent).find(".chart-header-search-input-text").select().focus().addClass("search-open");"undefined"!=typeof a&&a.stopPropagation();fa();$("body").on("click",D);ga()}function C(a,f,b,d,g,k,c){if("undefined"!=typeof e.chart.symbols){if("undefined"!=typeof e.preloadobj){var l=$(h.parent).find(".chart-search-preload");e.preloadobj.startPreloadinobject(l,null,"small")}e.chart.symbols.FindSymbols(a,f,b,d,g,k,c)}}function ia(a){"undefined"!=
typeof e.preloadobj&&"undefined"!=typeof a.html()&&e.preloadobj.endPreloadinobject(a)}function Y(a){if("undefined"!=typeof B)for(var f=0;f<B.length;f++)if(B[f].id==a)return B[f];return null}function r(a,f){if("undefined"!=typeof e.localizationobj)return e.localizationobj.gui.returnLocalizationString(a,f)}function Z(a){switch(e.api.timeframes.getTimeframeView()){case "icon":var f=r("menu.timescale.1min","1 minute");switch(a){case "tick":case "Tick":case "TICK":case "1T":case "1t":f=r("menu.timescale.1T",
"tick");break;case "1M":case "1m":f=r("menu.timescale.1M","1 minute");break;case "5M":case "5m":f=r("menu.timescale.5M","5 minute");break;case "10M":case "10m":f=r("menu.timescale.10M","10 minutes");break;case "15M":case "15m":f=r("menu.timescale.15M","15 minutes");break;case "30M":case "30m":f=r("menu.timescale.30M","30 minutes");break;case "60M":case "60m":f=r("menu.timescale.60M","Hourly");break;case "2H":case "2h":f=r("menu.timescale.2H",'2 Hours"');break;case "4H":case "4h":f=r("menu.timescale.4H",
"4 Hours");break;case "6H":case "6h":f=r("menu.timescale.6H","6 Hours");break;case "8H":case "8h":f=r("menu.timescale.8H","8 Hours");break;case "10H":case "10h":f=r("menu.timescale.10H","10 Hours");break;case "12H":case "12h":f=r("menu.timescale.12H","12 Hours");break;case "14H":case "14h":f=r("menu.timescale.14H","14 Hours");break;case "1D":case "1d":f=r("menu.timescale.1D","Daily");break;case "1W":case "1w":f=r("menu.timescale.1W","Weekly");break;case "1MON":case "1mon":case "1N":case "1n":f=r("menu.timescale.1N",
"Monthly");break;case "1Q":case "1q":case "3N":case "3n":f=r("menu.timescale.3N","3 Months");break;case "6MON":case "6mon":case "6N":case "6n":f=r("menu.timescale.6N","6 Months");break;case "1Y":case "1y":f=r("menu.timescale.1Y","Year")}return f;case "text":return f=e.api.timeframes.getCaptionbyID(a),r("menu.timescale."+a,f)}return""}function aa(a){return"undefined"!=typeof a&&null!=a?"menu.timescale."+a.toUpperCase():"menu.timescale.5M"}function t(a,f){var b="",d=a.indexOf("<"+f+">"),g=("<"+f+">").length,
k=a.indexOf("</"+f+">");-1!=d&&-1!=k&&k>d+g&&(b=a.substring(d+g,k));return b}function A(a,f){var b="",b="undefined"==typeof a.position?b+"position :absolute;":b+"position :"+a.position+"; ",d="px";"undefined"!=typeof f&&null!=f&&(d=f);"undefined"!=typeof a.display&&(b=b+"display :"+a.display+";");"undefined"!=typeof a.left&&(b=b+"left :"+v(a.left,d)+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+v(a.right,d)+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+v(a.top,d)+"; ");"undefined"!=typeof a.bottom&&
(b=b+"bottom :"+v(a.bottom,d)+"; ");"undefined"!=typeof a.width&&(b=b+"width :"+v(a.width,d)+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+v(a.height,d)+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return 0<b.length?'style="'+b+'"':null}function v(a,b,e){return"auto"==a.toString().toLowerCase()||"inherit"==a.toString().toLowerCase()?a:"undefined"!=typeof e?a+e+b:a+b}function s(a){return"undefined"==typeof a||null==a}var e=ca,h={};e.header=h;var ba=0,B=[],x=/=""/g;Q=
P=O=N=y=M=L=K=J=I=H=G=F=null;R=void 0;var ja=e.api.debug.getLogger("prochart.gui.header"),E=null,b={pmain:null,ptab:null,p:null,parpreload:null,pfilter:[{markets:null},{exchanges:null},{countries:null}],pfilterlabel:[{markets:null},{exchanges:null},{countries:null}],templates:[]},p={text:"",market:"",exchange:"",country:"",pageindex:0,top:15};h.gui={initPattern:function(){var a=!1==e.guiinit.cache?"?"+e.version.gui.name+(new Date).getTime():"?"+e.version.gui.name,a=e.guiinit.rootpath+"/ChartUI/gui/header/header.patterns.htm"+
a,b=$.Deferred();if(e.navigator.XMLHttpRequest()){var h=new XMLHttpRequest;h.open("get",a);h.onload=function(){var a=h.responseText;S(a);b.resolve(a)};h.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:a}).done(function(a){S(a);ja.debug("readHeader Pattern");b.resolve(a)});return b.promise()},viewHeader:function(a){h.parent=a;for(var f=e.currenlayout.headers,u=0;u<f.length;u++){var d=f[u],g=e.commonutils.func.returnShortUniqID(),k="",c="";d.guiid=g;"undefined"!=typeof d.location&&(k=k+
" loc-"+d.location);c=g;"undefined"!=typeof d.id&&(c=d.id);g=F.replace(x,"").replace(/%css%/g,k).replace(/%tid%/g,c).replace(/%id%/g,g);c="";for(k=0;k<d.items.length;k++)switch(c=d.items[k],c.type){case "searchbutton":var l=e.commonutils.func.returnShortUniqID();c.guiid=l;var q=G.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];for(var n="right left width height top bottom".split(" "),
m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "symboltitle":l=e.commonutils.func.returnShortUniqID();c.guiid=l;q=H.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");
for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "searchsymbol":l=e.commonutils.func.returnShortUniqID();c.guiid=l;q=I.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");
for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "timeframe":l=e.commonutils.func.returnShortUniqID();c.guiid=l;q=N.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");
for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "communic":l=e.commonutils.func.returnShortUniqID();c.guiid=l;q=P.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");
for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "lastupdate":l=e.commonutils.func.returnShortUniqID();c.guiid=l;q=O.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");
for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "htmlcontainer":l=e.commonutils.func.returnShortUniqID();"undefined"!=typeof c.id&&""!=c.id&&(l=c.id);c.guiid=l;"undefined"==typeof c.content&&(c.content="");q="";"undefined"!=typeof c.css&&(q=c.css);q=Q.replace(x,"").replace(/%html%/g,c.content).replace(/%id%/g,l).replace(/%css%/g,q).replace(/%style%/g,
A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.fns.push({prop:"content",actions:["$('#"+l+"').html('%value%')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%");break;case "toolbar":l=e.commonutils.func.returnShortUniqID();
c.guiid=l;q=R.replace(x,"").replace(/%id%/g,l).replace(/%style%/g,A(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+l+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];n="right left width height top bottom".split(" ");for(m=0;m<n.length;m++)c.possition.fns.push({prop:n[m],actions:["$('#"+l+"').css('"+n[m]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});c={header:q};g=g.replace(/%html%/g,c.header+"%html%")}g=g.replace(/%html%/g,"");$(h.parent).find("#"+d.parent).append(g);
for(g=0;g<d.items.length;g++)switch(k=d.items[g],k.type){case "toolbar":if("undefined"!=typeof e.currenlayout.toolbars&&null!=e.currenlayout.toolbars)for(c=0;c<e.currenlayout.toolbars.length;c++)if(l=e.currenlayout.toolbars[c],l.id==k.id){l.parent=k.guiid;break}}}f=Z(e.chart.TimeFrame);u=aa(e.chart.TimeFrame);d=e.chart.Symbol;"undefined"!=e.chart.SymbolName&&null!=e.chart.SymbolName&&(d=e.chart.SymbolName);$(h.parent).find(".symbol-title").html(d);$(h.parent).find(".header-timeframe").attr("data-localize",
u).html(f);"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang(a);ha();b.pmain=$(h.parent).find(".search-main-properties-tabs");b.ptab=$(h.parent).find(".search-properties-tabs-labels");b.p=$(h.parent).find(".chart-header-search-output");b.parpreload=$(h.parent).find(".chart-search-preload");a=$(h.parent).find('.search-properties-filter[idx="markets"] ul');"undefined"!=0<a.length&&(b.pfilter.markets=a);a=$(h.parent).find('.search-properties-filter[idx="markets"] a.action-change-value');
0<a.length&&(b.pfilterlabel.markets=a);a=$(h.parent).find('.search-properties-filter[idx="exchanges"] ul');0<a.length&&(b.pfilter.exchanges=a);a=$(h.parent).find('.search-properties-filter[idx="exchanges"] a.action-change-value');0<a.length&&(b.pfilterlabel.exchanges=a);a=$(h.parent).find('.search-properties-filter[idx="countries"] ul');0<a.length&&(b.pfilter.countries=a);a=$(h.parent).find('.search-properties-filter[idx="countries"] a.action-change-value');0<a.length&&(b.pfilterlabel.countries=a);
a=$(h.parent).find("#template-search-output-list ");0<a.length?(b.templates.push(a.html()),a.remove()):b.templates.push(null);a=$(h.parent).find("#template-search-properties-tabs-label");0<a.length?(b.templates.push(a.html()),a.remove()):b.templates.push(null);a=$(h.parent).find("#template-search-main-properties");0<a.length?(b.templates.push(a.html()),a.remove()):b.templates.push(null);a=$(h.parent).find("#template-search-notfound");0<a.length?(b.templates.push(a.html()),a.remove()):b.templates.push(null);
a=$(h.parent).find("#template-search-properties-filter-values");0<a.length?(b.templates.push(a.html()),a.remove()):b.templates.push(null);U();V();W();da()},onChangeSymbol:function(a,b){"undefined"!=typeof b&&null!=b&&$(h.parent).find(".symbol-title").html(b.name)},onChangeTimeframe:function(a,b){if("undefined"!=typeof h.parent){var e=Z(b),d=aa(b);$(h.parent).find(".header-timeframe").attr("data-localize",d).html(e)}},onLastUpdateChange:function(a,b){$(h.parent).find(".header-lastupdate").html(b)},
onCommunication:function(a,b){switch(b){case !0:$(h.parent).find(".header-communic").addClass("ComOn").removeClass("ComOff");break;case !1:$(h.parent).find(".header-communic").addClass("ComOff").removeClass("ComOn")}},changeLocalization:function(){},findSymbols:C,callbackonFindSymbols:function(a,f,u){5<=e.api.debug.level&&console.log(u);null!=b.pmain&&b.pmain.html("");null!=b.ptab&&b.ptab.html("");w("markets");w("countries");w("exchanges");a=u.data;B=[];u.data.forEach(function(a){B=B.concat(a.symbols)});
var d=0;a.forEach(function(a){var f=a.categoryId,c=a.categoryLabel,l=a.categoryDescription,h=d==ba?"active":"";d+=1;c=L.replace(/%groupactive%/g,h).replace(/%groupid%/g,f).replace(/%groupname%/g,c).replace(/%groupnesc%/g,l);b.ptab.append(c);h=K.replace(/%groupid%/g,f).replace(/%groupactive%/g,h);b.pmain.append(h);f=$(b.pmain).find('[idx="'+f+'"] .search-output-list');0==a.symbols.length&&"undefined"!=typeof f.html()&&f.append(M);for(h=0;h<a.symbols.length;h++){var c=a.symbols[h],l=c.description,n=
c.name,l=J.replace(/%itemid%/g,c.id).replace(/%caption%/g,l).replace(/%name%/g,n);c="undefined"!=typeof e.init.majors&&null!=e.init.gui.majorsReturn(c.id)?!0:!1;l=c?l.replace(/%status-favorite%/g,"startenabled-icon"):l.replace(/%status-favorite%/g,"stardisabled-icon");"undefined"!=typeof f.html()&&f.append(l)}});$(b.ptab).find(".search-properties-tabs-label").off("click").on("click",function(a){a=$(this).parents(".chart-header-search-output");var b=$(a).find("a.search-properties-tabs-label").index(this);
ba=b;$(a).find(".search-main-properties").each(function(){$(this).removeClass("active")});$(a).find(".search-properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".search-main-properties").eq(b).addClass("active");$(this).addClass("active")});$(b.pmain).find("li > a").off("click").off("click").on("click",function(){var a=$(this).parent().attr("idx");"undefined"!=typeof e.chart.ChangeSymbol&&(D(),a=Y(a),5<=e.api.debug.level&&console.log(a),e.chart.ChangeSymbol(a))});$(b.pmain).find("li button.star-button").off("click").on("click",
function(a){a.stopPropagation();a=$(this).parent().attr("idx");$(this).hasClass("stardisabled-icon")?($(this).addClass("startenabled-icon").removeClass("stardisabled-icon"),a=Y(a),"undefined"!=typeof e.init.majors&&e.init.gui.majorsAddObj(a),"undefined"!=typeof e.menuobj&&e.menuobj.gui.updateMajorFavorites()):($(this).removeClass("startenabled-icon").addClass("stardisabled-icon"),"undefined"!=typeof e.init.majors&&(e.init.gui.majorsRemove(a),"undefined"!=typeof e.menuobj&&e.menuobj.gui.updateMajorFavorites()))});
$(b.pmain).find("li").off("click").on("click",function(){var a=$(this).attr("n");"undefined"!=typeof a&&$(h.parent).find(".chart-header-search-input-text").val(a)});ia(b.parpreload);return null},marketsUpdate:U,exchangesUpdate:V,countriesUpdate:W,openSearch:X};h.api={removeItem:function(a,b){a=s(a)?"header1":a;if("undefined"==typeof b)return!1;if("undefined"!=typeof e.currenlayout.headers)for(var h=e.currenlayout.headers,d=0;d<h.length;d++){var g=h[d];if(g.id==a)for(var k=0;k<g.items.length;k++)if(g.items[k].type==
b)return!0}return!1},addItem:function(a,b,h){a=s(a)?"header1":a;if("undefined"==typeof b.type)return!1;"undefined"!=typeof h&&(h=!1);if("undefined"!=typeof e.currenlayout.headers)for(var d=e.currenlayout.headers,g=0;g<d.length;g++){var k=d[g];if(k.id==a){for(a=0;a<k.items.length;a++)if(k.items[a].type==b.type){if(!1==h)return!1;k.items.slice(a,1);break}k.items.push(b);return!0}}return!1},updateItem:function(a,b){s(a);return!1},changeItemPossition:function(){},viewItem:function(){},addHtmlContainer:function(a,
b,h,d,g,k,c,l,q,n){a=s(a)?"header1":a;b=s(b)?e.commonutils.func.returnShortUniqID():b;h=s(h)?"":h;s(d);g=s(g)?"auto":g;k=s(k)?"auto":k;c=s(c)?"auto":c;l=s(l)?"auto":l;q=s(q)?"auto":q;n=s(n)?"auto":n;if("undefined"!=typeof e.currenlayout.headers){d=e.currenlayout.headers;for(var m=0;m<d.length;m++){var p=d[m];if(p.id==a){p.items.push({type:"htmlcontainer",id:b,view:!0,content:h,possition:{height:g,width:k,right:c,left:l,top:q,bottom:n}});break}}}},removeHtmlContainer:function(a,b){a=s(a)?"header1":
a;if(s(b))return!1;if("undefined"!=typeof e.currenlayout.headers)for(var h=e.currenlayout.headers,d=0;d<h.length;d++){var g=h[d];if(g.id==a)for(var k=0;k<g.items.length;k++)if(g.items[k].id==b)return g.items.splice(d,1),!0}return!1},updateHtmlContainer:function(a,b,h,d,g,k,c,l,q,n){a=s(a)?"header1":a;if(s(b))return!1;if("undefined"!=typeof e.currenlayout.headers)for(var m=e.currenlayout.headers,p=0;p<m.length;p++){var r=m[p];if(r.id==a)for(var t=0;t<r.items.length;t++)if(r.items[t].id==b)return a=
r.items[t],s(h)||(a.content=h),s(d)||(a.view=d),s(g)||(a.possition.height=g),s(k)||(a.possition.width=k),s(c)||(a.possition.right=c),s(l)||(a.possition.left=l),s(q)||(a.possition.top=q),s(n)||(a.possition.bottom=n),!0}return!1}};return h};
function ProChart_Initindicators(E){var x,r,g,C,F,G,y,z,J,Y,Z,aa,ba;function D(a){F=1;G=A(a,"panels-container");y=A(a,"panels-tr-container");z=A(a,"indicator-container");J=A(a,"indicator-style");Y=A(a,"indicator-level");Z=A(a,"indicator-source");aa=A(a,"indicator-style-default");ba=A(a,"indicator-style-columns")}function ua(){ka();var a=$.Deferred();K="Indicators form";va("gannfan",K);var d=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name;url=f.guiinit.rootpath+
"/ChartUI/gui/indicators/indicators.htm"+d;if("Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest){var b=new XMLHttpRequest;b.open("get",url);b.onload=function(){var c=b.responseText;la($(c).find("#dlg-indicators"));a.resolve(c)};b.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:url}).done(function(b){la($(b).find("#dlg-indicators"));a.resolve(b)});return a.promise()}function la(a){$("#chart-dialog").html(a);a=f.chart.Studies;for(var d=
0;d<a.length;d++){var b='<li id="indicator-%id%" class="li-indicator"><button class="favorite star-button stardisabled-icon" type="button"  ></button><a href="javascript:void(0)" class="openindicator" idx="indicator-%id%" title="%caption%" ><span>%caption%</span></a><button class="favorite property-favorite" type="button"></button><button class="favorite add-favorite" type="button"></button></li>'.replace(/%id%/g,a[d].id).replace(/%caption%/g,a[d].caption),c=a[d].category;wa(a[d].id)&&(b=b.replace("stardisabled-icon",
"startenabled-icon"));$("#indicatorsgroup-"+c+" > ul.indicators-list").append(b)}$(".indicators-list .openindicator").on("click",function(){var a=$(this).attr("idx"),b=$(this).find("span").html();L(a,b)});$(".indicators-list .li-indicator .property-favorite").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html();L(a,b)});$(".indicators-list .li-indicator .star-button").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html(),
c=$(this).parent().find("a").attr("title");$(this).hasClass("stardisabled-icon")?($(this).addClass("startenabled-icon").removeClass("stardisabled-icon"),a=a.replace("indicator-",""),"undefined"!=typeof f.init.indicators&&(f.init.gui.indicatorsAdd(a,b,c),ca())):($(this).removeClass("startenabled-icon").addClass("stardisabled-icon"),ma(a.replace("indicator-","")))});$(".indicators-list .li-indicator .add-favorite").on("click",function(){var a=$(this).parent().attr("id").replace("indicator-","");f.chart.AddStudy(a)});
M();ca();xa();$("#button-add-indicator").button();$("#button-add-indicator-to").button();ya();f.chart.IsVolumeEnabled()?$(".properties-tabs").find(".volume-category-tab").css("display",""):$(".properties-tabs").find(".volume-category-tab").css("display","none");$("#chart-dialog").dialog("open");"undefined"!=typeof f.localizationobj&&f.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function L(a,d){var b=$.Deferred();(function(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")});
$("#dialog-indicator-page #indicator-inner").empty()})($("#dialog-indicator-page #indicator-inner"));if(2==F)return da(z,d,a),b.promise();var c=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,c=f.guiinit.rootpath+"/ChartUI/gui/indicators/indicators.patterns.htm"+c;if("Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest){var e=new XMLHttpRequest;e.open("get",c);e.title=d;e.id=a;e.onload=function(){var a=e.responseText;
D(a);da(z,e.title,e.id);b.resolve(a)};e.send()}else return $.ajax({type:"GET",async:!0,dataType:"html",title:d,id:a,url:c}).done(function(a){D(a);da(z,this.title,this.id);b.resolve(a)}),b.promise()}function da(a,d,b){a=a.replace(/%panels%/g,"<tr><td>set panel data here</td></td>").replace(/%style-link-panels%/g,"display:none;");$("#dialog-indicator-page #indicator-inner").html(a);$("#indicators-page > .dialog_level").css("display","none");$("#dialog-indicator-page").css("display","block");M();ea(1,
d);x="";g=r=null;C=!1;a=b.replace("indicator-","");switch(a){case "rsi1":g=d=H(a);N();O();P();fa();na(d.lines);Q();break;case "macd1":g=d=H(a);N();O();P();b=null;b=d.param1;R("#in-fastema",b.min,b.max,1,b.values[0]);S("#in-fastema","param1",0);b=d.param2;R("#in-slowema",b.min,b.max,1,b.values[0]);S("#in-slowema","param2",0);b=d.param3;R("#in-macdsma",b.min,b.max,1,b.values[0]);S("#in-macdsma","param3",0);T("#histogram-line","renderitem3");T("#macd-line","renderitem1");T("#signal-line","renderitem2");
Q();break;case "gator1":g=H(a);N();O();P();oa();fa();Q();break;default:pa(H(a))}za(a);$("#li-browser-indicators").trigger("click");"undefined"!=typeof f.localizationobj&&f.localizationobj.gui.updateFromDataLang($("#dialog-indicator-page #indicator-inner"))}function za(a){x=a;$("#button-add-indicator").off();$("#button-add-indicator").button({disabled:!1});$("#button-add-indicator").on("click",function(){r=f.chart.AddStudyWithParams(x,g);null!=r&&(g=r,C=!0,$(this).button({disabled:!0}))});$("#button-add-indicator-to").off();
$("#button-add-indicator-to").button({disabled:!1});$("#button-add-indicator-to").on("click",function(){U.debug("Add to button click");Aa(a)})}function qa(a,d,b){ka();var c=$.Deferred();K=d.caption;x=d.id;g=r=d;C=!0;1==F&&ga(z,d,b);a=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name;a=f.guiinit.rootpath+"/ChartUI/gui/indicators/indicators.patterns.htm"+a;Ba("",K);if(f.navigator.XMLHttpRequest()){var e=new XMLHttpRequest;e.indicatoId=b;e.open("get",a);e.onload=
function(){var a=e.responseText;D(a);ga(z,d,e.indicatoId);c.resolve(a)};e.send()}else return $.ajax({type:"GET",async:!0,dataType:"html",indicatoId:b,url:a}).done(function(a){D(a);ga(z,d,this.indicatoId);c.resolve(a)});return c.promise()}function ra(a,d){for(var b=[],c=0;c<d.length;c++){var e=d[c];if(a==e.id){for(c=0;c<e.fields.length;c++)"study"==e.fields[c].type&&b.push(e.fields[c].name);break}}return b}function ga(a,d,b){a=a.replace(/%style-link-panels%/g,"");var c=ha(a,d,b);a=a.replace(/%panels%/g,
c);$("#chart-dlgindicator #indicator-inner").html(a);M();V(b);pa(d);"undefined"!=typeof f.localizationobj&&f.localizationobj.gui.updateFromDataLang($("#chart-dlgindicator #indicator-inner"));$("#chart-dlgindicator").dialog("open")}function ha(a,d,b){a="";if("undefined"!=typeof f.panels){var c=f.panels.core.returnPanels(),e="",p=f.chart.GetLegendInfo();a+=y.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%tid%/g,d.id).replace(/%tguiid%/g,d.UID).replace(/%legends%/g,
"").replace(/%button-title%/g,"Move here").replace(/%tpanelid%/g,"").replace(/%panel-action-style%/g,"").replace(/%button%/g,"move-button").replace(/%position%/g,"panel-top").replace(/%css%/g,"paneltype-new");for(var h=0;h<c.length;h++){switch(c[h].type){case "price":e="Price panel";break;case "study":e="Study panel"}for(var g="",l="",k=ra(c[h].id,p),n=0;n<k.length;n++)g+="<span>%legend-title%</span>; ".replace(/%legend-title%/g,k[n]);a:{for(n=0;n<p.length;n++)if(k=p[n],c[h].id==k.id){for(n=0;n<k.fields.length;n++)if(k.fields[n].uid==
b){k=!0;break a}k=!1;break a}k=!1}k&&(l="display:none;");a+=y.replace(/%panel-type-title%/g,e).replace(/%panel-type%/g,c[h].type).replace(/%legends%/g,g).replace(/%button-title%/g,"Move here").replace(/%button%/g,"move-button").replace(/%tid%/g,d.id).replace(/%tguiid%/g,d.UID).replace(/%position%/g,"").replace(/%tpanelid%/g,c[h].id).replace(/%panel-action-style%/g,l).replace(/%css%/g,"paneltype-"+c[h].type)}a+=y.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%legends%/g,
"").replace(/%tid%/g,d.id).replace(/%tguiid%/g,d.UID).replace(/%button-title%/g,"Move here").replace(/%tpanelid%/g,"").replace(/%panel-action-style%/g,"").replace(/%button%/g,"move-button").replace(/%position%/g,"panel-bottom").replace(/%css%/g,"paneltype-new")}return a}function Aa(a,d){var b=$.Deferred();"undefined"==typeof d&&(d="Panels");1==F&&ia(G,d);var c=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,c=f.guiinit.rootpath+"/ChartUI/gui/indicators/indicators.patterns.htm"+
c;if("Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest){var e=new XMLHttpRequest;e.open("get",c);e.title=d;e.id=a;e.onload=function(){var a=e.responseText;D(a);ia(G,e.title,e.id);b.resolve(a)};e.send()}else return $.ajax({type:"GET",async:!0,dataType:"html",id:a,title:d,url:c}).done(function(a){D(a);ia(G,this.title,this.id);b.resolve(a)}),b.promise()}function ia(a,d,b){a=a.replace(/%style-link-panels%/g,"");var c="";if("undefined"!=typeof f.panels){for(var e=
f.panels.core.returnPanels(),p="",h=f.chart.GetLegendInfo(),c=c+y.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%legends%/g,"").replace(/%button-title%/g,"Add here").replace(/%button%/g,"add-button").replace(/%panel-action-style%/g,"").replace(/%tid%/g,b).replace(/%tguiid%/g,"").replace(/%position%/g,"panel-top").replace(/%tpanelid%/g,"").replace(/%css%/g,"paneltype-new"),g=0;g<e.length;g++){switch(e[g].type){case "price":p="Price panel";break;case "study":p="Study panel"}for(var l=
"",k=ra(e[g].id,h),n=0;n<k.length;n++)l+="<span>%legend-title%</span>; ".replace(/%legend-title%/g,k[n]);c+=y.replace(/%panel-type-title%/g,p).replace(/%panel-type%/g,e[g].type).replace(/%legends%/g,l).replace(/%button-title%/g,"Add here").replace(/%button%/g,"add-button").replace(/%tid%/g,b).replace(/%tguiid%/g,"").replace(/%panel-action-style%/g,"").replace(/%position%/g,"").replace(/%tpanelid%/g,e[g].id).replace(/%css%/g,"paneltype-"+e[g].type)}c+=y.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,
"new").replace(/%legends%/g,"").replace(/%button-title%/g,"Add here").replace(/%button%/g,"add-button").replace(/%panel-action-style%/g,"").replace(/%tid%/g,b).replace(/%tguiid%/g,"").replace(/%tpanelid%/g,"").replace(/%position%/g,"panel-bottom").replace(/%css%/g,"paneltype-new");a=a.replace(/%panels%/g,c)}$("#dialog-panels-page #panels-inner").html(a);$("#indicators-page > .dialog_level").css("display","none");$("#dialog-panels-page").css("display","block");M();V();ea(1,d,2);$("#li-browser-indicators").trigger("click");
"undefined"!=typeof f.localizationobj&&f.localizationobj.gui.updateFromDataLang($("#dialog-indicator-page #indicator-inner"))}function H(a){for(var d=f.chart.Studies,b=0;b<d.length;b++)if(d[b].id==a)return jQuery.extend(!0,{},d[b]);return null}function P(){if(null!=g)for(var a=g.renderitems,d=g.id,b=0;b<a;b++){var c=g["renderitem"+(b+1)],e={};"undefined"==typeof c.style?(c.style=[],c.style.push(e)):e=c.style[0];if("undefined"!=typeof f.chart.StyleObject[d+"_item"+(b+1)]){var p=f.chart.StyleObject[d+
"_item"+(b+1)];switch(c.drawtype){case "columns":sa(p,e);for(var c={visible:!0},h=Object.keys(c),q=0;q<h.length;q++){var l=h[q];"undefined"==typeof e[l]&&(e[l]="undefined"!==typeof p[l]?p[l]:c[l])}break;default:for(c={stroke:"rgb(0,0,0)",strokeWidth:"1",strokeOpacity:"1",fill:"rgb(0,0,0)",fillOpacity:"1",visible:!0},h=Object.keys(c),q=0;q<h.length;q++)l=h[q],"undefined"==typeof e[l]&&(e[l]="undefined"!==typeof p[l]?p[l]:c[l])}}}}function oa(){if(null!=g&&"undefined"!=typeof g.levels&&null!=g.levels)for(var a=
g.levels,d=a.length,b=g.id,c=0;c<d;c++){var e=a[c];try{if("undefined"==typeof f.chart.StyleObject.indicators[b].levels[c])continue}catch(p){continue}var h=f.chart.StyleObject.indicators[b].levels[c];"undefined"!=typeof h.stroke&&(e.stroke=h.stroke);"undefined"!=typeof h.strokeOpacity&&(e.strokeOpacity=h.strokeOpacity);"undefined"!=typeof h.strokeWidth&&(e.strokeWidth=h.strokeWidth);"undefined"!=typeof h.strokeDasharray&&(e.strokeDasharray=h.strokeDasharray);"undefined"==typeof e.visible&&(e.visible=
!0)}}function pa(a){g=a;N();O();P();oa();fa();na();a=$("#indicator-inner .properties-tabs a");for(var d=$("#indicator-inner .main-properties"),b=0;b<a.length;b++)if("none"!=$(a[b]).css("display")){$(a[b]).addClass("active");$(d[b]).css("display","block");break}Q()}function N(){var a=$("#tbody-parameters"),d=[];d.push('<td data-localize="dialogs.indicator.parameters.%capid%">%caption%</td><td><input id="%inputid%" class="param-spinner onlynumeric"/></td>');d.push('<td data-localize="dialogs.indicator.parameters.%capid%">%caption2%</td><td><input id="%inputid2%" class="param-spinner onlynumeric"/></td>');
for(var b=/%caption%/g,c=/%inputid%/g,e=/%caption2%/g,p=/%inputid2%/g,h=/%capid%/g,f=g.parameters,l=[],k=0;k<f;k++){for(var n=g["param"+(k+1)],s="param"+(k+1),m=$("<tr></tr>"),t=n.values.length,u=0;u<t;u++){var B="param"+(k+1)+"_"+u,w="";switch(u){case 0:w=n.caption.toLowerCase().replace(/\s+/g,"");w=d[u].replace(b,n.caption).replace(c,B).replace(h,w);$(m).append(w);break;case 1:w=n.caption2.toLowerCase().replace(/\s+/g,""),w=d[u].replace(e,n.caption2).replace(p,B).replace(h,w),$(m).append(w)}}l.push(!1!=
n.editable);if(!1!=n.editable)for($(a).append(m),m=0;m<t;m++){var u="param"+(k+1)+"_"+m,B=1,w=0,ja=99999,r=0;try{r=n.values[m]}catch(v){r=0}try{B=n.steps[m]}catch(x){B=1}try{w=n.min[m]}catch(y){w=0}try{ja=n.max[m]}catch(z){ja=99999}R("#"+u,w,ja,B,r);S("#"+u,s,m)}}a=!1;for(k=0;k<l.length;k++)a=a||l[k];!1==a&&$("#tab-param").css("display","none")}function O(){var a=g.sourceEditable;if("undefined"!=typeof a&&!1!=a){a=$("#tbody-sources");$(a).append(Z);for(var a=g.parameters,d=0;d<a;d++)for(var b=g["param"+
(d+1)],c=b.source.length,e=0;e<c;e++)if("value"!=b.source[e]){$("#select-source").val(b.source[e]);break}$("#select-source").on("change",function(){for(var a=$(this).val(),b=g.parameters,c=0;c<b;c++)for(var d=g["param"+(c+1)],e=d.source.length,f=0;f<e;f++)"value"!=d.source[f]&&(d.source[f]=a);t(s.Value)})}}function fa(){for(var a=$("#tbody-styles"),d=g.renderitems,b=0;b<d;b++){var c=g["renderitem"+(b+1)],e="renderitem"+(b+1),f="";switch(c.drawtype){case "columns":f=J.replace(/%indicator_style_adv%/g,
ba);break;default:f=J.replace(/%indicator_style_adv%/g,aa)}c=f.replace(/%caption%/g,c.caption).replace(/%renderitem%/g,e);$(a).append(c);T("#"+e,e)}}function wa(a){if("undefined"!=typeof f.init.indicators)for(var d=f.init.indicators,b=0;b<d.length;b++)if(d[b].id==a)return!0;return!1}function ma(a){"undefined"!=typeof f.init.indicators&&(f.init.gui.indicatorsRemove(a),ca())}function Ca(){$("ul.favorite-indicators-list .openindicator").on("click",function(){var a=$(this).attr("idx"),d=$(this).find("span").html();
L(a,d)});$("ul.favorite-indicators-list .li-indicator .property-favorite").on("click",function(){var a=$(this).parent().attr("idx"),d=$(this).parent().find("span").html();L(a,d)});$("ul.favorite-indicators-list .li-indicator .star-button").on("click",function(){var a=$(this).parent().attr("idx");ma(a.replace("indicator-",""));a=$('ul.indicators-list .li-indicator[id="'+a+'"] .star-button');$(a).removeClass("startenabled-icon").addClass("stardisabled-icon")});$("ul.favorite-indicators-list .li-indicator .add-favorite").on("click",
function(){var a=$(this).parent().attr("idx").replace("indicator-","");f.chart.AddStudy(a)})}function ca(){var a=$("ul.favorite-indicators-list");$(a).html("");if("undefined"!=typeof f.init.indicators)for(var d=f.init.indicators,b=0;b<d.length;b++){var c='<li idx="indicator-%id%" class="li-indicator"><button class="favorite star-button startenabled-icon" type="button"  ></button><a href="javascript:void(0)" class="openindicator" idx="indicator-%id%" title="%title%" ><span>%caption%</span></a><button class="favorite property-favorite" type="button"></button><button class="favorite add-favorite" type="button"></button></li>'.replace(/%id%/g,
d[b].id).replace(/%caption%/g,d[b].n).replace(/%title%/g,d[b].d);$(a).append(c)}Ca();"undefined"!=typeof f.menuobj&&f.menuobj.gui.updateIndicatorFavorites()}function na(){var a=g.levels;if("undefined"==typeof a||null==a)$("#tab-level").css("display","none");else for(var d=a.length,b=$("#tbody-indicatorlevels"),c=0;c<d;c++){var e="level"+c,f=Y.replace(/%id%/g,c).replace(/%levelvalue%/g,a[c].value).replace(/%levelitem%/g,e).replace(/%capid%/g,"level"+(c+1)).replace(/%caption%/g,"Level "+(c+1));$(b).append(f);
Da("#"+e,c)}}function t(a){if(null!=r&&null!=g&&""!=x&&!0==C)switch(a){case s.All:f.chart.UpdateStudyAll(g);break;case s.Draw:f.chart.UpdateStudyDrawType(g);break;case s.Value:f.chart.UpdateStudyValues(g);break;case s.Style:f.chart.UpdateStudyStyle(g);break;default:f.chart.UpdateStudyAll(g)}}function T(a,d){var b="undefined"!=typeof g.base,c=g[d],e=c.style[0],p=$(a).find(".line-color"),h=e.stroke;W($(p),h);var q=$(a).find(".line-color-alt"),l=e.stroke;"undefined"!=typeof c.style[1]&&(l=c.style[1].stroke);
W($(q),l);var k=$(a).find(".line-width"),l=e.strokeWidth;$(k).slider({min:1,max:6});$(k).slider("option","value",l);var n=$(a).find(".line-opacity");$(n).slider({min:0,max:100});l=100*e.fillOpacity;$(n).slider("option","value",l);$(n).find("div.gradient").css("background-image","linear-gradient(to left, "+h+" 0%, transparent 100% )");c=c.drawtype;h="Line Histogram Ch-Histogram C-Histogram Area Dots".split(" ");l="line histogram changehistogram centeredhistogram area dots".split(" ");switch(c){case "channel":h=
["Channel"];l=["channel"];break;case "columns":h=["Columns"];l=["columns"];break;default:h="Line Histogram Ch-Histogram C-Histogram Area Dots".split(" "),l="line histogram changehistogram centeredhistogram area dots".split(" ")}for(var r=$(a).find(".linedesign-type"),x=/%val%/g,y=/%Val%/g,u=0;u<h.length;u++)if(!1!=b||"changehistogram"!=l[u]&&"centeredhistogram"!=l[u]){var B='<option data-localize="dialogs.indicator.linetype.%val%" value="%val%">%Val%</option>'.replace(x,l[u]).replace(y,h[u]);$(r).append(B)}"undefined"!=
typeof c&&($(r).val(c),$(n).css("display","area"==c||"channel"==c?"block":"none"),$(k).css("display","area"!=c&&"channel"!=c?"block":"none"),$(a).find(".color-alt").css("display","changehistogram"==c||"centeredhistogram"==c?"block":"none"));if("columns"==c){b=e.opacity;m=[];v=[];c=e.visible;b*=100;h=$("#color-opacity-columns");h.slider({min:0,max:100});h.slider("option","value",b);h.find("div.gradient").css("background-image","linear-gradient(to left, #000000 0%, transparent 100% )");h.slider(c?"enable":
"disable");h="true"==e.borderVisible||!0==e.borderVisible;m.push({ctr:"color-columns-up-column",json:"up.fill",opacity:b,status:c?"enable":"disable",borderprop:0},{ctr:"color-columns-down-column",json:"down.fill",opacity:b,status:c?"enable":"disable",borderprop:0},{ctr:"color-columns-up-border",json:"up.stroke",opacity:b,status:c&&h?"enable":"disable",borderprop:1},{ctr:"color-columns-down-border",json:"down.stroke",opacity:b,status:c&&h?"enable":"disable",borderprop:1},{ctr:"color-columns-flat-column",
json:"flat.fill",opacity:b,status:c?"enable":"disable",borderprop:0},{ctr:"color-columns-flat-border",json:"flat.stroke",opacity:b,status:c&&h?"enable":"disable",borderprop:1});v.push({ctr:"control-columns-border",json:"borderVisible",status:c?!0:!1});for(b=0;b<m.length;b++)c=f.commonutils.func.parseColorString(X(e,m[b].json)),c="rgb(%r%, %g%, %b%)".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]),W($("#"+m[b].ctr),c),$("#"+m[b].ctr).spectrum(m[b].status);for(b=0;b<v.length;b++){c=X(e,
v[b].json);if(null==c)break;$("#"+v[b].ctr).attr("disabled",!v[b].status);"true"==c.toLowerCase()?$("#"+v[b].ctr).attr("checked","true"==c.toLowerCase()):$("#"+v[b].ctr).removeAttr("checked")}Ea()}b=$(a).find(".line-visible");$(b).prop("checked",e.visible);$(n).slider(e.visible?"enable":"disable");$(p).spectrum(e.visible?"enable":"disable");$(k).slider(e.visible?"enable":"disable");$(r).prop("disabled",e.visible?!1:!0);$(q).spectrum(e.visible?"enable":"disable");$(p).attr("ritem",d);$(r).attr("ritem",
d);$(k).attr("ritem",d);$(n).attr("ritem",d);$(b).attr("ritem",d);$(q).attr("ritem",d);$(r).on("change",function(){var b=$(this).val();$(a).find(".linedesign-type").val(b);$(a).find(".line-opacity").css("display","area"==b?"block":"none");$(a).find(".line-width").css("display","area"!=b?"block":"none");$(a).find(".color-alt").css("display","changehistogram"==b||"centeredhistogram"==b?"block":"none");var c=$(this).attr("ritem");g[c].drawtype=b;t(s.Draw)});$(b).on("change",function(a){a=$(this).is(":checked");
$(n).slider(a?"enable":"disable");$(p).spectrum(a?"enable":"disable");$(k).slider(a?"enable":"disable");$(r).prop("disabled",a?!1:!0);$(q).spectrum(a?"enable":"disable");for(var b=$(this).attr("ritem"),c=0;c<g[b].style.length;c++)g[b].style[c].visible=a;try{var d="true"==g[b].style[0].borderVisible||!0==g[b].style[0].borderVisible;if("columns"==g[b].drawtype){for(b=0;b<v.length;b++)$("#"+v[b].ctr).attr("disabled",!a);for(b=0;b<m.length;b++)m[b].status=0==m[b].borderprop?a?"enable":"disable":a&&d?
"enable":"disable",$("#"+m[b].ctr).spectrum(m[b].status);$("#color-opacity-columns").slider(a?"enable":"disable")}}catch(e){}t(s.Style)});$(p).on("change",function(){var a=$(this).spectrum("get").toHexString();$(n).find("div.gradient").css("background-image","linear-gradient(to left, "+a+" 0%, transparent 100% )");var b=$(this).attr("ritem");g[b].style[0].stroke=a;g[b].style[0].fill=a;t(s.Style)});$(q).on("change",function(){var a=$(this).spectrum("get").toHexString(),b=$(this).attr("ritem");g[b].style[1].stroke=
a;t(s.Style)});$(k).on("slidechange",function(){for(var a=$(this).slider("option","value"),b=$(this).attr("ritem"),c=0;c<g[b].style.length;c++)g[b].style[c].strokeWidth=a;t(s.Style)});$(n).on("slidechange",function(){var a=$(this).slider("option","value")/100,b=$(this).attr("ritem");g[b].style[0].fillOpacity=a;t(s.Style)})}function Ea(){Fa("#control-columns-border","#color-columns-up-border","#color-columns-down-border","#color-columns-flat-border",null,null);$(".class-columns-study-color").on("change",
function(){var a=$(this).spectrum("get").toRgbString();$(this).spectrum("get").toHexString();for(var d=$(this).attr("id"),b=$(this).attr("ritem"),c=0;c<m.length;c++)if(m[c].ctr==d){var e=m[c].opacity,p=f.commonutils.func.parseColorString(a),e="rgba(%r%, %g%, %b%, %a%)".replace("%r%",p[0]).replace("%g%",p[1]).replace("%b%",p[2]).replace("%a%",e);I(g[b].style[0],m[c].json,e);t(s.Style);U.debug("style",g[b].style)}});$("#color-opacity-columns").on("slidechange",function(){var a=$(this).slider("option",
"value"),d=$(this).attr("ritem");I(g[d].style[0],"opacity",a/100);for(var b=0;b<m.length;b++){m[b].opacity=a/100;var c=f.commonutils.func.parseColorString(X(g[d].style[0],m[b].json)),c="rgba(%r%, %g%, %b%, %a% )".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]).replace("%a%",a/100);I(g[d].style[0],m[b].json,c)}t(s.Style)})}function Fa(a,d,b,c,e,f){$(a).on("click",function(a){var q=$(this);a=$(this).attr("id");q.is(":checked")?(null!=f&&$(f).slider("enable"),null!=e&&$(e).slider("enable"),
null!=d&&$(d).spectrum("enable"),null!=b&&$(b).spectrum("enable"),null!=c&&$(c).spectrum("enable")):(null!=f&&$(f).slider("disable"),null!=e&&$(e).slider("disable"),null!=d&&$(d).spectrum("disable"),null!=b&&$(b).spectrum("disable"),null!=c&&$(c).spectrum("disable"));for(var q=q.is(":checked"),l=$(this).attr("ritem"),k=0;k<v.length;k++)v[k].ctr==a&&(I(g[l].style[0],v[k].json,q?"true":"false"),t(s.Style))})}function Da(a,d){var b=g.levels[d],c=$(a).find(".line-color"),e=b.stroke;W($(c),e);var f=$(a).find(".line-width"),
h=b.strokeWidth;$(f).slider({min:1,max:6});$(f).slider("option","value",h);var q=$(a).find(".line-opacity");$(q).slider({min:0,max:100});h=100*b.fillOpacity;$(q).slider("option","value",h);$(q).find("div.gradient").css("background-image","linear-gradient(to left, "+e+" 0%, transparent 100% )");for(var e=b.strokeDasharray,h=["Solid","Doted","Dashed"],l=["solid","doted","dashed"],k=$(a).find(".linedesign-type"),n=/%val%/g,m=/%Val%/g,r=0;r<h.length;r++){var v='<option <option data-localize="dialogs.common.linetype.%val%" value="%val%">%Val%</option>'.replace(n,
l[r]).replace(m,h[r]);$(k).append(v)}"undefined"!=typeof e&&$(k).val(e);e=$(a).find(".levelinput");h=$(a).find(".line-visible");$(h).prop("checked",b.visible);$(q).slider(b.visible?"enable":"disable");$(c).spectrum(b.visible?"enable":"disable");$(f).slider(b.visible?"enable":"disable");$(k).prop("disabled",b.visible?!1:!0);$(e).prop("disabled",b.visible?!1:!0);$(c).attr("rlevel",d);$(k).attr("rlevel",d);$(f).attr("rlevel",d);$(q).attr("rlevel",d);$(h).attr("rlevel",d);$(e).attr("rlevel",d);$(k).on("change",
function(){var b=$(this).val();$(a).find(".linedesign-type").val(b);$(a).find(".line-opacity").css("display","area"==b?"block":"none");$(a).find(".line-width").css("display","area"!=b?"block":"none");var c=$(this).attr("rlevel");g.levels[c].strokeDasharray=b;t(s.Draw)});$(h).on("change",function(a){a=$(this).is(":checked");$(q).slider(a?"enable":"disable");$(c).spectrum(a?"enable":"disable");$(f).slider(a?"enable":"disable");$(k).prop("disabled",a?!1:!0);var b=$(this).attr("rlevel");g.levels[b].visible=
a;t(s.Style)});$(c).on("change",function(){var a=$(this).spectrum("get").toHexString();$(q).find("div.gradient").css("background-image","linear-gradient(to left, "+a+" 0%, transparent 100% )");var b=$(this).attr("rlevel");g.levels[b].stroke=a;t(s.Style)});$(f).on("slidechange",function(){var a=$(this).slider("option","value"),b=$(this).attr("rlevel");g.levels[b].strokeWidth=a;t(s.Style)});$(q).on("slidechange",function(){var a=$(this).slider("option","value")/100,b=$(this).attr("rlevel");g.levels[b].fillOpacity=
a;t(s.Style)});$(e).on("change",function(){if(""!=$(this).val()&&$.isNumeric($(this).val())){$(this).attr("prevvalue",$(this).val());var a=$(this).attr("rlevel");g.levels[a].value=$(this).val();t(s.Style)}else $(this).val($(this).attr("prevvalue"))});$(e).on("keydown",function(a){13==a.keyCode&&(""!=$(this).val()&&$.isNumeric($(this).val())?(a=$(this).attr("rlevel"),g.levels[a].value=$(this).val(),t(s.Style)):$(this).val($(this).attr("prevvalue")))})}function R(a,d,b,c,e){$(a).spinner({min:d,max:b,
step:c});$(a).spinner("value",e)}function S(a,d,b){$(a).spinner({stop:function(a,e){var f=$(this).spinner("value");g[d].values[b]=f;t(s.Value)}})}function va(a,d){function b(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function c(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=$(".chart-ui-dialog.indicators-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":
2;$(".chart-ui-dialog.indicators-dialog").css("opacity",a);$(this).css("opacity",b)})}var e="Close",g=d,h="";"undefined"!=typeof f.localizationobj&&(e=f.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),g=f.localizationobj.gui.returnLocalizationString("dialogs.indicators.title",d));"undefined"!=typeof f.init.TemplateName&&(h=f.init.TemplateName);var q="";"rtl"==f.localizationobj.gui.returnCurrentLanguage().direction&&(q="dir-rtl");$('<div id="chart-dialog" title="'+
g+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog indicators-dialog "+h+" "+q,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){c($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});ta()},close:function(a,c){b($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.indicators-dialog  adv-buttons.eye-orange").off().remove();$("div.chart-ui-dialog.indicators-dialog").off().remove();
$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:e,click:function(){$(this).dialog("close")}}]})}function Ba(a,d,b){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function e(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title=""  onclick=""></button>').on("click",function(){var a=$(".chart-ui-dialog.indicator-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":1;$(".chart-ui-dialog.indicator-dialog").css("opacity",
a);$(this).css("opacity",b)})}a="Close";b="";"undefined"!=typeof f.localizationobj&&(a=f.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),f.localizationobj.gui.returnLocalizationString("dialogs.common.button-cancel","Cancel"));"undefined"!=typeof f.init.TemplateName&&(b=f.init.TemplateName);var g="";"rtl"==f.localizationobj.gui.returnCurrentLanguage().direction&&(g="dir-rtl");$('<div id="chart-dlgindicator" title="'+d+'"><div id="indicator-inner" class="dialog_level"></div></div>').insertAfter("body");
$("#chart-dlgindicator").dialog({dialogClass:"chart-ui-dialog indicator-dialog "+b+" "+g,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){e($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dlgindicator").dialog("close")});ta()},close:function(a,b){c($(this).parent());$("div.chart-ui-dialog.indicator-dialog  adv-buttons.eye-orange").off().remove();$("#chart-dlgindicator").remove();$(this).off().empty().remove()},buttons:[{id:"btn-order-ok",
text:a,click:function(){$(this).dialog("close")}}]})}function W(a,d,b){$(a).spectrum({color:d,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:["rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"),"rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"),
"rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"),"rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"),"rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"),
"rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"),"rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"),"rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{")]})}
function M(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),d=$(a).find(".properties-tabs a").index(this);$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(d).css("display","block");$(this).addClass("active")})}function V(a){$(".action-move-button-indicator").off();$(".action-move-button-indicator").on("click",
function(){var d=$(this),b=d.attr("tid"),c=d.attr("tpanelid"),e="";""==c&&(c=null,d.hasClass("panel-top")?e="top":d.hasClass("panel-bottom")&&(e="bottom"));d=d.attr("tguiid");U.debug("Move indicator",b,c,d);a:{for(var b=f.chart.GetLegendInfo(),g=0;g<b.length;g++)for(var h=b[g],m=0;m<h.fields.length;m++)if(h.fields[m].uid==a){b=h.id;break a}b=null}null==b&&(b=f.chart.GetPanelIDByDefID(a));f.chart.MoveStudyToOtherPanel(d,b,c,e);c=ha(null,r,a);$("#tbody-indicatorpanels").html(c);V(a)});$(".action-add-button-indicator").off();
$(".action-add-button-indicator").on("click",function(){var a=$(this),b=a.attr("tid"),c=a.attr("tpanelid"),e=a.attr("tguiid");U.debug("Add indicator",b,c,e);$("#button-add-indicator").button({disabled:!0});$("#button-add-indicator-to").button({disabled:!0});$("#dialog-panels-page").css("display","none");$("#dialog-indicator-page").css("display","block");$("#tab-panels").css("display","");e=1;"undefined"==typeof e&&(e=1);for(var p=$("#dlg-indicators .main-page").eq(1).find(".title_level"),h=0;h<p.length;h++)$(p[h]).removeClass("active"),
h>e&&$(p[h]).css("display","none");$(p[e]).css("display","block").addClass("active");e="";""==c&&(c=null,a.hasClass("panel-top")?e="top":a.hasClass("panel-bottom")&&(e="bottom"));x=b;r=f.chart.AddStudyWithParams(x,g,c,e);null!=r&&(g=r,C=!0);a=objChartMain1.chart.GetLegendIDByDefID(r.UID);b=ha(null,r,a);$("#tbody-indicatorpanels").html(b);V(a)})}function ea(a,d,b){"undefined"==typeof b&&(b=a);a=$("#dlg-indicators .main-page").eq(a).find(".title_level");for(var c=0;c<a.length;c++)$(a[c]).removeClass("active"),
c>b&&$(a[c]).css("display","none");$(a[b]).find("a").html(d);$(a[b]).css("display","block").addClass("active")}function xa(){$(" .title_level").delegate("a","click",function(){for(var a=$(this).parents(".main-page"),d=$(a).find(".title_level a").index(this),b=$(a).find(".dialog_level"),c=0;c<b.length;c++){var e=c==d?"block":"none";$(b[c]).css("display",e)}a=$(a).find(".title_level");for(c=d+1;c<a.length;c++)$(a[c]).css("display","none").removeClass("active");$(a[d]).addClass("active")})}function ya(){$("#main-indicator-browser > li").on("click",
function(){for(var a=$("#main-indicator-browser > li").index(this),d=$("#chart-dialog .main-page"),b=0;b<d.length;b++){var c=b==a?"block":"none";$(d[b]).css("display",c)}a=$(this).html();ea(0,a)})}function X(a,d){var b=d.split(".");return 1==b.length?a[b[0]]:"undefined"!=typeof a[b[0]]?X(a[b[0]],b.slice(1).join(".")):null}function I(a,d,b){d=d.split(".");1==d.length&&(a[d[0]]=b);"undefined"!=typeof a[d[0]]&&I(a[d[0]],d.slice(1).join("."),b)}function sa(a,d){for(var b=Object.keys(a),c=0;c<b.length;c++){var e=
b[c];"undefined"==typeof d[e]&&(typeof a[e]==Object?(d[e]={},sa(a[e],d[e])):d[e]=a[e])}}function Q(){$(".chart-ui-dialog .onlynumeric").prochart_numeric()}function ka(){"undefined"!=typeof f.preloadobj&&f.preloadobj.startPreload()}function ta(){"undefined"!=typeof f.preloadobj&&f.preloadobj.endPreload()}function A(a,d){var b="",c=a.indexOf("<"+d+">"),e=("<"+d+">").length,f=a.indexOf("</"+d+">");-1!=c&&-1!=f&&f>c+e&&(b=a.substring(c+e,f));return b}var f=E;E={};f.indicators=E;var U=f.api.debug.getLogger("prochart.gui.indicators"),
K="",s={All:0,Style:1,Draw:2,Value:3};F=0;z=Z=Y=ba=aa=J=y=G=null;var m=[],v=[];x="";g=r=null;C=!1;E.gui={viewIndicators:function(){ua()},viewIndicator:function(a,d){qa(d)},getIndicatorObjectParam:function(a){for(var d=H(a),b=d.renderitems,c=0;c<b;c++){var e=d["renderitem"+(c+1)],g={};"undefined"==typeof e.style&&(e.style=[],e.style.push(g));if("undefined"!=typeof f.chart.StyleObject[a+"_item"+(c+1)]){var h=f.chart.StyleObject[a+"_item"+(c+1)];"undefined"==typeof g.stroke&&(g.stroke="undefined"!==
typeof h.stroke?h.stroke:"rgb(0,0,0)");"undefined"==typeof g.strokeWidth&&(g.strokeWidth="undefined"!=typeof h.strokeWidth?h.strokeWidth:"1");"undefined"==typeof g.strokeOpacity&&(g.strokeOpacity="undefined"!=typeof h.strokeOpacity?h.strokeOpacity:"1");"undefined"==typeof g.fill&&"undefined"!=typeof h.fill&&(g.fill=h.fill);"undefined"==typeof g.fillOpacity&&(g.fillOpacity="undefined"!=typeof h.fillOpacity?h.fillOpacity:"1");"undefined"==typeof g.visible&&(g.visible=!0);"undefined"!=typeof d.base&&
(h={},h.stroke=g.stroke,h.strokeWidth=g.strokeWidth,h.strokeOpacity=g.strokeOpacity,h.visible=g.visible,h.fill=g.fill,h.fillOpacity=g.fillOpacity,e.style.push(h))}}if(null!=d&&"undefined"!=typeof d.levels&&null!=d.levels)for(b=d.levels,c=b.length,e=0;e<c;e++){g=b[e];try{if("undefined"==typeof f.chart.StyleObject.indicators[a].levels[e])continue}catch(m){continue}h=f.chart.StyleObject.indicators[a].levels[e];"undefined"!=typeof h.stroke&&(g.stroke=h.stroke);"undefined"!=typeof h.strokeOpacity&&(g.strokeOpacity=
h.strokeOpacity);"undefined"!=typeof h.strokeWidth&&(g.strokeWidth=h.strokeWidth);"undefined"!=typeof h.strokeDasharray&&(g.strokeDasharray=h.strokeDasharray)}return d}};f.chart.UI.funcOnStudyEdit=qa;return E};
function ProChart_InitMenu(W){var D,E,F,w,x,y,G,z,A,B,H,I,J,v,K;function X(a,c){$(f.parent).find(".chart-menu").each(function(){"rtl"==c?$(this).hasClass("dir-rtl")||$(this).addClass("dir-rtl"):$(this).removeClass("dir-rtl")})}function N(a){D=q(a,"menu-container");E=q(a,"menu-item");F=q(a,"menu-item-group");w=q(a,"menu-timeframe");x=q(a,"menu-timeframe-text");y=q(a,"menu-majors");G=q(a,"menu-majors2");z=q(a,"menu-charttype");A=q(a,"menu-indicators");B=q(a,"menu-compares");H=q(a,"menu-more");I=q(a,
"menu-localizations");J=q(a,"menu-item-image");v=q(a,"menu-more-item");K=q(a,"menu-more-item-group")}function Y(){var a=c.currenlayout.menus;if("undefined"!=typeof a.click&&!0==a.click)$(f.parent).find(".action-open-group").on("click",function(){"block"==$(this).parent().find(".mn-item-group").css("display")?($(f.parent).find(".mn-item-group").css("display","none"),$(f.parent).find(".mn-item-sub-group").css("display","none"),$(f.parent).find(".action-open-group").removeClass("menu-selected")):($(f.parent).find(".action-open-group").removeClass("menu-selected"),
$(f.parent).find(".mn-item-group").css("display","none"),$(f.parent).find(".mn-item-sub-group").css("display","none"),$(this).parent().find(".mn-item-group").css("display","block"),$(this).addClass("menu-selected"),L($(this).parent()));"undefined"!=typeof c.toolbaradvobj&&c.toolbaradvobj.gui.hideopengroup()});if("undefined"!=typeof a.click&&!0==a.click)$(f.parent).find(".action-open-sub-group").on("click",function(){"block"==$(this).parent().find(".mn-item-sub-group").css("display")?$(f.parent).find(".mn-item-sub-group").css("display",
"none"):($(f.parent).find(".mn-item-sub-group").css("display","none"),$(this).parent().find(".mn-item-sub-group").css("display","block"),L($(this).parent(),!1));"undefined"!=typeof c.toolbaradvobj&&c.toolbaradvobj.gui.hideopengroup()});"undefined"!=typeof a.hover&&!0==a.hover&&$(f.parent).find(".action-open-group").parent().prochart_hoverIntent(function(){$(f.parent).find(".action-open-group").removeClass("menu-selected");$(this).find(".mn-item-group").stop(!0,!0).show()},function(){$(f.parent).find(".action-open-group").removeClass("menu-selected");
$(this).find(".mn-item-group").stop(!0,!0).hide();L($(this).parent())});$(f.parent).find(".action-open-item").off().on("click",function(g){if("undefined"!=typeof c.actions){var k=$(this).attr("tid");c.actions.action(k);g.stopPropagation();"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide(),$(this).parents().find(".mn-item-sub-group").stop(!0,!0).hide())}})}function L(a,
g){"undefined"==typeof g&&(g=!0);var k=g?a.find("> .mn-item-group"):a.find("> .mn-item-sub-group"),d=a.closest(".htmlchart"),f=k.find("> .mn-array"),h=g?a.find(".action-open-group").parent("li"):a.find(".action-open-sub-group").parent("li"),b={};b.possition=g?"bottom":"left";if(!g&&"undefined"!=typeof c.localizationobj)if("rtl"==c.localizationobj.gui.returnCurrentLanguage().direction)switch(b.possition){case "left":b.possition="right";k.removeClass("a-left").addClass("a-right");break;case "right":b.possition=
"left",k.removeClass("a-right").addClass("a-left")}else switch(b.possition){case "right":k.removeClass("a-left").addClass("a-right");break;case "left":k.removeClass("a-right").addClass("a-left")}var m=0,n=m=0,e=0,p=0,r="",q,e=h.outerWidth(!0),n=h.outerHeight(!0),r=h.offset().left-d.offset().left;q=d.outerWidth()-r-e;var h=h.offset().top-d.offset().top,d=d.outerHeight()-h-n,p=parseInt(f.css("border-top-width"),10),v=0,u=0;k.find("> ul > mm-item.mm-item-group").each(function(){$(this).css("width","");
u=$(this).outerWidth();$(this).outerWidth(!0);u>v&&(v=u)});var m=k.outerWidth(),s={};switch(b.possition){case "bottom":s.top=n+2+"px";s.bottom="auto";break;case "top":s.top="auto";s.bottom=n+2+"px";break;case "right":s.right="auto";s.left=e+2+"px";s.top="0px";s.bottom="auto";break;case "left":s.right=e+2+"px",s.left="auto",s.top="0px",s.bottom="auto"}k.css(s);"undefined"==typeof b.alignh&&(b.alignh="auto");"undefined"==typeof b.alignv&&(b.alignv="auto");var s={},t={};if("top"==b.possition||"bottom"==
b.possition)switch(r="auto"==b.alignh?r+e/2>m/2&&q+e/2>m/2?"center":r+e/2>m?"left":q+e/2>m?"right":"center":b.alignh,r){case "left":s.right="0px";s.left="auto";t.right="5px";t.left="auto";k.css(s);f.css(t);break;case "right":s.left="0px";s.right="auto";t.left="5px";t.right="auto";k.css(s);f.css(t);break;case "center":s.right=-(m/2-e/2)+"px",s.left="auto",t.left=m/2-p+"px",t.right="auto",k.css(s),f.css(t)}if("left"==b.possition||"right"==b.possition)switch(m=k.outerHeight(),r="auto"==b.alignv?h>m/
2&&d>m/2?"center":h>m?"bottom":"top":b.alignv,r){case "top":s.bottom="auto";s.top="0px";t.top="5px";t.bottom="auto";k.css(s);f.css(t);break;case "bottom":s.top="auto";s.bottom="0px";t.bottom="5px";t.top="auto";k.css(s);f.css(t);break;case "center":s.top=-(m/2-n/2)+"px",s.bottom="auto",t.top=m/2-p+"px",t.bottom="auto",k.css(s),f.css(t)}k.css("visibility","visible")}function O(a){var g="",k="",d=null;if("undefined"==typeof a.items)return"";for(var f=0,h=a.items.length;f<h;f++)switch(d=a.items[f],d.type){case "menu-item":var b=
d;b.cssaction="undefined"==typeof b.cssaction?" action-open-item":b.cssaction;d=E.replace(p,"").replace(/%id%/g,b.id).replace(/%localization%/g,"undefined"!=typeof b.localize?b.localize:"").replace(/%caption%/g,"undefined"!=typeof b.caption?b.caption:"").replace(/%cssaction%/g,b.cssaction).replace(/%css%/g,"undefined"!=typeof b.css?b.css:"");b=v.replace(p,"").replace(/%id%/g,b.id).replace(/%css%/g,"").replace(/%cssaction%/g,b.cssaction).replace(/%localization%/g,"undefined"!=typeof b.localize?b.localize:
"").replace(/%caption%/g,"undefined"!=typeof b.caption?b.caption:"");d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-item-group":b=null;b="a-top";switch(d.group.possition){case "top":b="a-top";break;case "bottom":b="a-bottom";break;case "left":b="a-left";break;case "right":b="a-right"}d.guiid=c.commonutils.func.returnShortUniqID();d.cssaction="undefined"==typeof d.cssaction?" action-open-group":d.cssaction+" action-open-group";var m=F.replace(p,"").replace(/%id%/g,d.id).replace(/%localization%/g,
"undefined"!=typeof d.localize?d.localize:"").replace(/%caption%/g,"undefined"!=typeof d.caption?d.caption:"").replace(/%cssaction%/g,"undefined"!=typeof d.cssaction?d.cssaction:"").replace(/%cssgroup%/g,"undefined"!=typeof d.group&&"undefined"!=typeof d.group.css?d.group.css+" "+b:b).replace(/%css%/g,"undefined"!=typeof d.css?d.css:""),n=K.replace(p,"").replace(/%id%/g,d.id).replace(/%localization%/g,"undefined"!=typeof d.localize?d.localize:"").replace(/%cssaction%/g,"action-open-sub-group").replace(/%caption%/g,
"undefined"!=typeof d.caption?d.caption:"").replace(/%cssgroup%/g,"undefined"!=typeof d.group&&"undefined"!=typeof d.group.css?d.group.css+" a-left":" a-left").replace(/%css%/g,"undefined"!=typeof d.css?d.css:""),b=O(d),m=m.replace(/%html%/g,b.temp),n=n.replace(/%html%/g,b.tempmore),d={temp:m,tempmore:n},g=g+d.temp,k=k+d.tempmore;break;case "menu-group-charttype":m=d;b=d="";z=z.replace(/%mm-item-icons%/g,!0==m.icons?"mm-item-icons":"").replace(/%mm-item-favorites%/g,!0==m.favorites?"mm-item-favorites":
"");m=c.init.charttype;for(n=0;n<m.length;n++)var e=m[n],q=z.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.n?e.n:"").replace(/%star%/g,1==e.f?"startenabled-icon":"stardisabled-icon").replace(/%state%/g,1==e.f?"true":"false").replace(/%icon%/g,e.id).replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?
e.localize:"").replace(/%cssaction%/g,"a-change-charttype").replace(/%css%/g,"").replace(/%caption%/g,"undefined"!=typeof e.n?e.n:""),d=d+q,b=b+e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-group-timeframe":b="";m=c.init.timeframe;n="";w=w.replace(/%mm-item-icons%/g,!0==d.icons?"mm-item-icons":"").replace(/%mm-item-favorites%/g,!0==d.favorites?"mm-item-favorites":"");x=x.replace(/%mm-item-icons%/g,!0==d.icons?"mm-item-icons":"").replace(/%mm-item-favorites%/g,!0==d.favorites?"mm-item-favorites":
"");q=c.api.timeframes.getTimeframeView();for(e=0;e<m.length;e++){var r=m[e],u="";switch(q){case "icon":u=w.replace(p,"").replace(/%id%/g,r.id).replace(/%localization%/g,"undefined"!=typeof d.localize?r.localize:"").replace(/%caption%/g,"undefined"!=typeof r.n?r.n:"").replace(/%star%/g,1==r.f?"startenabled-icon":"stardisabled-icon").replace(/%state%/g,1==r.f?"true":"false").replace(/%icon%/g,P(r.id)).replace(/%css%/g,"undefined"!=typeof r.css?r.css:"");break;case "text":u=x.replace(p,"").replace(/%id%/g,
r.id).replace(/%caption%/g,"undefined"!=typeof r.n?r.n:"").replace(/%star%/g,1==r.f?"startenabled-icon":"stardisabled-icon").replace(/%state%/g,1==r.f?"true":"false").replace(/%title1%/g,r.t1).replace(/%title2%/g,r.t2).replace(/%css%/g,"undefined"!=typeof r.css?r.css:"")}r=v.replace(p,"").replace(/%id%/g,r.id).replace(/%localization%/g,"undefined"!=typeof d.localize?r.localize:"").replace(/%cssaction%/g,"a-change-timeframe").replace(/%css%/g,"").replace(/%caption%/g,"undefined"!=typeof r.n?r.n:"");
b+=u;n+=r}d={temp:b,tempmore:n};g+=d.temp;k+=d.tempmore;break;case "menu-group-majors":b=d="";m=c.init.majors;for(n=0;n<m.length;n++)e=m[n],q=y.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:"").replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%cssaction%/g,"a-change-symbol").replace(/%css%/g,
" major-group-item-more").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:""),d+=q,b+=e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-group-majors2":b=d="";m=c.init.majors2;for(n=0;n<m.length;n++)e=m[n],q=G.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:"").replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,
"undefined"!=typeof e.localize?e.localize:"").replace(/%cssaction%/g,"a-change-symbol").replace(/%css%/g," major-group-item-more").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:""),d+=q,b+=e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-group-indicators":b=d="";m=c.init.indicators;for(n=0;n<m.length;n++)e=m[n],q=A.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%custom%/g,"undefined"!=typeof e.custom?e.custom:
"false").replace(/%caption%/g,"undefined"!=typeof e.n?e.n:"").replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%cssaction%/g,"a-change-indicator").replace(/%css%/g," indicator-group-item-more").replace(/%caption%/g,"undefined"!=typeof e.n?e.n:""),d+=q,b+=e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-group-compares":b=d="";m=c.init.compares;for(n=0;n<m.length;n++)e=
m[n],q=B.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:"").replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%cssaction%/g,"a-change-compare").replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:""),d+=q,b+=e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;
case "menu-group-localizations":b=d="";m=c.init.localization;for(n=0;n<m.length;n++)e=m[n],q=I.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%caption%/g,"undefined"!=typeof e.name?e.name:"").replace(/%css%/g,"undefined"!=typeof e.css?e.css:""),e=v.replace(p,"").replace(/%id%/g,e.id).replace(/%localization%/g,"undefined"!=typeof e.localize?e.localize:"").replace(/%cssaction%/g," a-change-localization").replace(/%css%/g,"").replace(/%caption%/g,
"undefined"!=typeof e.name?e.name:""),d+=q,b+=e;d={temp:d,tempmore:b};g+=d.temp;k+=d.tempmore;break;case "menu-item-image":b=d,d=J.replace(p,"").replace(/%id%/g,b.id).replace(/%caption%/g,"undefined"!=typeof b.caption?b.caption:"").replace(/%cssaction%/g,"undefined"!=typeof b.action?b.action:"").replace(/%image%/g,"undefined"!=typeof b.image?b.image:"").replace(/%css%/g,"undefined"!=typeof b.css?b.css:""),b=v.replace(p,"").replace(/%tid%/g,b.id).replace(/%cssaction%/g,"undefined"!=typeof b.action?
b.action:"").replace(/%caption%/g,"undefined"!=typeof b.caption?b.caption:"").replace(/%caption%/g,"undefined"!=typeof b.caption?b.caption:""),d={temp:d,tempmore:b},g+=d.temp,k+=d.tempmore}return{temp:g,tempmore:k}}function Q(){$(f.parent).find(".a-change-timeframe").off().on("click",function(){var a=$(this).attr("tid");"undefined"!=typeof c.toolbaradvobj.gui&&c.toolbaradvobj.gui.selectedTimeFrameButton(a);"undefined"!=typeof c.chart.ChangeTimeScale&&(c.chart.ChangeTimeScale(a),!0==c.bi.status&&c.bi.addt2BI("change timescale: "+
a));a=c.currenlayout.menus;"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide())});$(f.parent).find(".a-favorite-timeframe").off().on("click",function(){var a=$(this).attr("tid"),g=$(this).attr("state"),f="false"==g?!0:!1;switch(g){case "true":$(this).find("span").removeClass("startenabled-icon").addClass("stardisabled-icon");$(this).attr("state","false");"undefined"!=
typeof c.toolbaradvobj&&c.toolbaradvobj.gui.viewTimeFrameButton(a,0);break;case "false":$(this).find("span").removeClass("stardisabled-icon").addClass("startenabled-icon"),$(this).attr("state","true"),"undefined"!=typeof c.toolbaradvobj&&c.toolbaradvobj.gui.viewTimeFrameButton(a,1)}for(g=0;g<c.init.timeframe.length;g++)c.init.timeframe[g].id==a&&(c.init.timeframe[g].f=f?"1":"0");if(typeof c.events.onChangeTimeFrameFavorites==typeof Function)c.events.onChangeTimeFrameFavorites(a,f,c.init.timeframe);
try{"undefined"!=typeof c.api.localstorage&&c.api.localstorage.setTimeFrameFavorites(c.init.timeframe)}catch(d){}return!1})}function Z(){$(f.parent).find(".a-change-charttype").off().on("click",function(){var a=$(this).attr("tid");"undefined"!=typeof c.chart.ChangeSymbol&&("undefined"!=typeof c.toolbaradvobj.gui&&c.toolbaradvobj.gui.selectedChartTypeButton(a),"undefined"!=typeof c.chart.ChangePriceType&&(c.chart.ChangePriceType(a),!0==c.bi.status&&c.bi.addt2BI("change price type: "+a)));a=c.currenlayout.menus;
"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide())});$(f.parent).find(".a-favorite-charttype").off().on("click",function(){var a=$(this).attr("tid"),g=$(this).attr("state"),f="false"==g?!0:!1;switch(g){case "true":$(this).find("span").removeClass("startenabled-icon").addClass("stardisabled-icon");$(this).attr("state","false");"undefined"!=typeof c.toolbarobj&&c.toolbarobj.gui.viewTypeChartButton(a,
0);"undefined"!=typeof c.toolbaradvobj&&c.toolbaradvobj.gui.viewTypeChartButton(a,0);break;case "false":$(this).find("span").removeClass("stardisabled-icon").addClass("startenabled-icon"),$(this).attr("state","true"),"undefined"!=typeof c.toolbaradvobj&&c.toolbaradvobj.gui.viewTypeChartButton(a,1)}for(g=0;g<c.init.charttype.length;g++)c.init.charttype[g].id==a&&(c.init.charttype[g].f=f?"1":"0");if(typeof c.events.onChangePriceTypeFavorites==typeof Function)c.events.onChangePriceTypeFavorites(a,f,
c.init.charttype);try{"undefined"!=typeof c.api.localstorage&&c.api.localstorage.setPriceTypeFavorites(c.init.charttype)}catch(d){}return!1})}function R(){$(f.parent).find(".a-change-symbol").off().on("click",function(){var a=$(this).attr("tid");"undefined"!=typeof c.chart.ChangeSymbol&&(a=c.init.gui.majorsReturn(a),c.chart.ChangeSymbol(a),!0==c.bi.status&&c.bi.addt2BI("change symobol: "+a.name));a=c.currenlayout.menus;"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),
$(this).parents().find(".mn-item-group").stop(!0,!0).hide())})}function S(){$(f.parent).find(".a-change-indicator").off().on("click",function(){var a=$(this).attr("tid"),g=!1,g="undefined"!=$(this).attr("custom")?"true"==$(this).attr("custom")?!0:!1:!1;if("undefined"!=typeof c.chart.AddStudy)switch(g){case !0:typeof c.events.menu.onCustomIndicatorClick==typeof Function&&(c.events.menu.onCustomIndicatorClick(a),!0==c.bi.status&&c.bi.addt2BI("add custom study: "+a));break;case !1:c.chart.AddStudy(a),
!0==c.bi.status&&c.bi.addt2BI("add study: "+a)}a=c.currenlayout.menus;"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide())})}function T(){$(f.parent).find(".a-change-compare").off().on("click",function(){var a=$(this).attr("tid");"undefined"!=typeof c.chart.AddCompareSymbol&&(a=c.init.gui.comparesReturn(a),c.chart.AddCompareSymbol(a),!0==c.bi.status&&c.bi.addt2BI("add compare symbol: "+
a.name));a=c.currenlayout.menus;"undefined"!=typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide())})}function aa(){$(f.parent).find(".a-change-localization").off().on("click",function(){var a=$(this).attr("tid");"undefined"!=typeof c.localizationobj&&(c.localizationobj.gui.changeLocalization(a),!0==c.bi.status&&c.bi.addt2BI("change localization: "+a));a=c.currenlayout.menus;"undefined"!=
typeof a.closebyclick&&!0==a.closebyclick&&($(f.parent).find(".action-open-group").removeClass("menu-selected"),$(this).parents().find(".mn-item-group").stop(!0,!0).hide())})}function ba(){var a=[],g=$(f.parent).find("#menu-favorite-indicators");a.push('<li class="menu-favorite-indicator"  idx="%indicatorid%">%indicatorname%</li>');a.push('<li onclick="openIndicators();">Indicators</li>');var k=/%indicatorid%/g,d=/%indicatorname%/g,l=c.commonutils.func.getKeybyPath(c.gui.guiblock,"menu.studies.visible");
null==l||0!=l&&!1!=l||$(f.parent).find("#studies").addClass("hideobj");$(g).find(".menu-favorite-indicator").each(function(){$(this).off().remove()});for(var l=c.init.indicators,h=0;h<l.length;h++){var b=a[0].replace(k,l[h].id).replace(d,l[h].n);$(g).append(b)}$(g).find(".menu-favorite-indicator").on("click",function(){var a=$(this).attr("idx");"undefined"!=typeof c.chart.AddStudy&&(c.chart.AddStudy(a),!0==c.bi.status&&c.bi.addt2BI("add study:"+a))});$(g).find(".menu-indicatorform").off().on("click",
function(){"undefined"!=typeof c.indicators&&(c.indicators.gui.viewIndicators(),!0==c.bi.status&&c.bi.addt2BI("menu view all indicators"))})}function U(){var a=[],g=$(f.parent).find("#menu-favorite-compares");a.push('<li class="menu-favorite-compare"  idx="%compareid%">%comparename%</li>');a.push('<li onclick="openCompares();">Compares</li>');var k=/%compareid%/g,d=/%comparename%/g,l=c.commonutils.func.getKeybyPath(c.gui.guiblock,"menu.compares.visible");null==l||0!=l&&!1!=l||$(f.parent).find("#compares").addClass("hideobj");
$(g).find(".menu-favorite-compare").each(function(){$(this).off().remove()});for(var l=c.init.compares,h=0;h<l.length;h++){var b=a[0].replace(k,l[h].id).replace(d,l[h].name);$(g).append(b)}$(g).find(".menu-favorite-compare").on("click",function(){var a=$(this).attr("idx");"undefined"!=typeof c.chart.AddCompareSymbol&&(a=c.init.gui.comparesReturn(a),c.chart.AddCompareSymbol(a))});$(g).find(".menu-compareform").off().on("click",function(){"undefined"!=typeof c.compares&&c.compares.gui.viewCompares()})}
function P(a){if("undefined"==typeof a||null==a)return"";for(var g=0;g<c.init.timeclassmirror.length;g++)if(c.init.timeclassmirror[g].time==a.toLowerCase()||c.init.timeclassmirror[g].time==a.toUpperCase())return c.init.timeclassmirror[g].css;return""}function M(){$(f.parent).find(".chart-menu > ul").each(function(){var a=$(this);a.attr("id");ca(a)})}function ca(a){var c=a.parent().width();a.parent().height();var f=0,d=0,l=0,h=a.find("> .mn-more");0<h.length&&(l=h.outerWidth(!0));a.find("> .mn-item ").each(function(){d+=
$(this).outerWidth(!0)});a.find("> .mn-item ").each(function(){f+=$(this).outerWidth(!0);if(f>c-l){$(this).addClass("hide-item");var b=$(this).find("> a").attr("tid");a.find(".mn-more-item > a[tid^='"+b+"']").parent().removeClass("hide-more-item")}else $(this).removeClass("hide-item"),b=$(this).find("> a").attr("tid"),a.find(".mn-more-item > a[tid^='"+b+"']").parent().addClass("hide-more-item")});f>c-l?a.find(".mn-more").css("display","block"):a.find(".mn-more").css("display","none")}function q(a,
c){var f="",d=a.indexOf("<"+c+">"),l=("<"+c+">").length,h=a.indexOf("</"+c+">");-1!=d&&-1!=h&&h>d+l&&(f=a.substring(d+l,h));return f}function u(a){try{return"undefined"!=typeof f.mycache[a]&&null!=f.mycache[a]?f.mycache[a]:null}catch(c){return null}}function C(a,c){try{f.mycache[a]=c}catch(k){}}var f={},c=W;c.menuobj=f;f.mycache={};var p=/=""/g,V=c.api.debug.getLogger("prochart.gui.menu");f.parent=null;x=K=v=H=J=B=G=y=I=A=z=w=F=E=D=f.parent=null;f.gui={initPattern:function(){var a=$.Deferred(),g=
!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():"?"+c.version.gui.name;$("<div>");g=c.guiinit.rootpath+"/ChartUI/gui/menu/menu.patterns.htm"+g;if(c.navigator.XMLHttpRequest()){var f=new XMLHttpRequest;f.open("get",g);f.onload=function(){var d=f.responseText;N(d);V.debug("readMenu Pattern");a.resolve(d)};f.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:g}).done(function(d){N(d);V.debug("readMenu Pattern");a.resolve(d)});return a.promise()},viewMenu:function(a){f.parent=
a;null==u("$parent")&&C("$parent",$(f.parent));a=u("$parent");for(var g=c.currenlayout.menus.items,k=0;k<g.length;k++){var d=g[k],l=null;d.guiid=c.commonutils.func.returnShortUniqID();var h=D.replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%id%/g,d.guiid),l=O(d),h=h.replace(/%html%/g,l.temp+"%html%"),b="a-bottom";"undefined"!=typeof d.more.possition&&(b="a-"+d.more.possition);l=H.replace(/%css%/g,"").replace(/%cssaction%/g," action-open-group").replace(/%cssgroup%/g,b).replace(/%html%/g,
l.tempmore);h=h.replace(/%html%/g,l);a.find("#"+d.parent).append(h)}Y();R();Z();Q();S();T();aa();M()},updateIndicatorFavorites:function(){ba();var a="",g="";$(f.parent).find(".indicator-group-item:not(:last)").remove();var k=$(f.parent).find(".indicator-group-item");$(f.parent).find(".indicator-group-item-more:not(:last)").remove();for(var d=$(f.parent).find(".indicator-group-item-more"),l=c.init.indicators,h=0;h<l.length;h++)var b=l[h],m=A.replace(p,"").replace(/%id%/g,b.id).replace(/%caption%/g,
"undefined"!=typeof b.n?b.n:"").replace(/%custom%/g,"undefined"!=typeof b.custom?b.custom:"false").replace(/%css%/g,"undefined"!=typeof b.css?b.css:""),b=v.replace(p,"").replace(/%id%/g,b.id).replace(/%localization%/g,"undefined"!=typeof b.localize?b.localize:"").replace(/%cssaction%/g,"a-change-indicator").replace(/%css%/g," indicator-group-item-more").replace(/%caption%/g,"undefined"!=typeof b.n?b.n:""),a=a+m,g=g+b;0==l.length&&(l=A.replace(p,"").replace(/%id%/g,"").replace(/%caption%/g,"").replace(/%css%/g,
" hide-item"),a+=l);k.replaceWith(a);d.replaceWith(g);S()},updateCompareFavorites:function(){U();var a="",g="";$(f.parent).find(".compare-group-item:not(:last)").remove();var k=$(f.parent).find(".compare-group-item");$(f.parent).find(".compare-group-item-more:not(:last)").remove();for(var d=$(f.parent).find(".compare-group-item-more"),l=c.init.compares,h=0;h<l.length;h++)var b=l[h],m=B.replace(p,"").replace(/%id%/g,b.id).replace(/%localization%/g,"undefined"!=typeof b.localize?b.localize:"").replace(/%caption%/g,
"undefined"!=typeof b.name?b.name:"").replace(/%css%/g,"undefined"!=typeof b.css?b.css:""),b=v.replace(p,"").replace(/%id%/g,b.id).replace(/%cssaction%/g,"a-change-compare").replace(/%localization%/g,"undefined"!=typeof b.localize?b.localize:"").replace(/%caption%/g,"undefined"!=typeof b.name?b.name:""),g=g+m,a=a+b;0==l.length&&(l=B.replace(p,"").replace(/%id%/g,"").replace(/%caption%/g,"").replace(/%css%/g," hide-item"),g+=l);k.replaceWith(g);d.replaceWith(a);T()},updateMajorFavorites:function(){U();
var a="",g="";$(f.parent).find(".major-group-item:not(:last)").remove();var k=$(f.parent).find(".major-group-item");$(f.parent).find(".major-group-item-more:not(:last)").remove();for(var d=$(f.parent).find(".major-group-item-more"),l=c.init.majors,h=0;h<l.length;h++)var b=l[h],m=y.replace(p,"").replace(/%id%/g,b.id).replace(/%caption%/g,"undefined"!=typeof b.name?b.name:"").replace(/%css%/g,"undefined"!=typeof b.css?b.css:""),b=v.replace(p,"").replace(/%id%/g,b.id).replace(/%localization%/g,"undefined"!=
typeof b.localize?b.localize:"").replace(/%cssaction%/g,"a-change-symbol").replace(/%css%/g," major-group-item-more").replace(/%caption%/g,"undefined"!=typeof b.name?b.name:""),a=a+m,g=g+b;0==l.length&&(l=y.replace(p,"").replace(/%id%/g,"").replace(/%caption%/g,"").replace(/%css%/g," hide-item"),a+=l);k.replaceWith(a);d.replaceWith(g);R()},updateMajors2:function(){},about:function(){"undefined"!=typeof c.chart.ShowAbout&&c.chart.ShowAbout()},changeLocalization:function(a,c){X(a,c);M()},updateTimesScale:function(){$(f.parent).find(".timeframe-group-item:not(:last)").remove();
for(var a=$(f.parent).find(".timeframe-group-item"),g="",k=c.init.timeframe,d=c.api.timeframes.getTimeframeView(),l=0;l<k.length;l++){var h=k[l],b="";switch(d){case "icon":b=w.replace(p,"").replace(/%id%/g,h.id).replace(/%caption%/g,"undefined"!=typeof h.n?h.n:"").replace(/%star%/g,1==h.f?"startenabled-icon":"stardisabled-icon").replace(/%state%/g,1==h.f?"true":"false").replace(/%icon%/g,P(h.id)).replace(/%css%/g,"undefined"!=typeof h.css?h.css:"");break;case "text":b=x.replace(p,"").replace(/%id%/g,
h.id).replace(/%caption%/g,"undefined"!=typeof h.n?h.n:"").replace(/%star%/g,1==h.f?"startenabled-icon":"stardisabled-icon").replace(/%state%/g,1==h.f?"true":"false").replace(/%title1%/g,h.t1).replace(/%title2%/g,h.t2).replace(/%css%/g,"undefined"!=typeof h.css?h.css:"")}g+=b}a.replaceWith(g);Q()},help:function(){"undefined"!=typeof c.gui.guiblock.menu.help.functionhelp&&"function"==typeof c.gui.guiblock.menu.help.functionhelp&&null!=c.gui.guiblock.menu.help.functionhelp&&(f.init.functionOpenHelp=
c.gui.guiblock.menu.help.functionhelp);"undefined"!=typeof f.init.functionOpenHelp&&"function"==typeof f.init.functionOpenHelp&&f.init.functionOpenHelp()},adjustSize:function(){M()},changeTypeChartFavoritesStar:function(a){if(0!=a.length)for(var c=0;c<a.length;c++){var k=a[c],d=$(f.parent).find(".a-favorite-charttype[tid^='"+k.id+"']"),l=$(d).find("span");if(0<d.length)switch(k.f){case 1:case "1":d.attr("state","true");l.removeClass("stardisabled-icon").addClass("startenabled-icon");break;case 0:case "0":d.attr("state",
"false"),l.addClass("stardisabled-icon").removeClass("startenabled-icon")}}},changeTimeFrameFavoritesStar:function(){},hidemenus:function(){null==u("$parent")&&C("$parent",$(f.parent));var a=u("$parent");null==u("$parent .action-open-group")&&C("$parent .action-open-group",a.find(".action-open-group"));u("$parent .action-open-group").removeClass("menu-selected");null==u("$parent .mn-item-group")&&C("$parent .mn-item-group",a.find(".mn-item-group"));u("$parent .mn-item-group").css("display","none");
null==u("$parent .mn-item-sub-group")&&C("$parent .mn-item-sub-group",a.find(".mn-item-sub-group"));u("$parent .mn-item-sub-group").css("display","none")}};f.init={functionOpenHelp:function(){window.open("http://www.tradeandchart.com/Help/Help.aspx?p=2.6","_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes")}};f.favorites={removeFavorite:function(a){$(f.parent).find("#star-"+a).removeClass("startenabled-icon").addClass("stardisabled-icon")}};return f};
function ProChart_InitMessages(b){var a={};b.messages=a;b.api.debug.getLogger("prochart.gui.messages");a.gui={viewMessage:function(){}};a.init={};return a};
function ProChart_InitProps(q){function w(b){$("#chart-dialog").html(b);x();y();t();z();$("#color-opacity-volume").slider({min:0,max:100});b=[];b.push("color-grid-vertical","color-grid-hotizontal","color-watermark");for(var d=0;d<b.length;d++)A($("#"+b[d]),"#225437");g("#control-grid-vertical","#color-grid-vertical",null,null,null);g("#control-grid-hotizontal","#color-grid-hotizontal",null,null,null);$("#color-opacity-watermark").slider({min:0,max:100});E();F();a.chart.IsVolumeEnabled()||$(".properties-tabs").find(".volume-property-tab").css("display",
"none");"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open")}function B(b){$("#dlg-props").html(b);x();y();t();z();"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open")}function x(){$("#borderwidth-area-line").slider({min:1,max:6});$("#borderwidth-line-line").slider({min:1,max:6});$("#borderwidth-histogram-line").slider({min:1,max:6});$("#color-opacity-area").slider({min:0,
max:100})}function y(){var b=[];b.push('<option value="%charttypeid%" data-localize="dialogs.indicator.%charttypeid%">%charttypename%</option>');var d=$("#tbody-charttype-select").find("select"),c=/%charttypeid%/g,f=/%charttypename%/g;if(null!=d)for(var k=0;k<a.init.charttype.length;k++){var h=a.init.charttype[k],h=b[0].replace(c,h.id).replace(f,a.localizationobj.gui.returnLocalizationString("dialogs.props."+h.id,h.n));d.append(h)}b=a.chart.GetPriceProperties().GetDrawType();$(d).val(b);$(".charttype-block").css("display",
"none");$("#charttype-block-"+b).css("display","block");b=a.chart.GetRTLineVisible();$("#control-priceline-visible").prop("checked",Boolean(b));$(d).on("change",function(){var b=$(this).val();$(".charttype-block").css("display","none");$("#charttype-block-"+b).css("display","block");a.chart.GetPriceProperties().SetDrawType(b);a.chart.Redraw();t();var c=a.chart.GetPriceProperties().GetStyle();try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceType(b)}catch(d){}if(typeof a.events.globprop.onPriceTypeChange==
typeof Function)a.events.globprop.onPriceTypeChange(b,c);m.debug(b,c)});$("#control-priceline-visible").on("click",function(b){b=!0;$(this).is(":checked")?(a.chart.SetRTLineVisible(!0),b=!0):(a.chart.SetRTLineVisible(!1),b=!1);a.chart.Redraw();try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceLine(b)}catch(c){}if(typeof a.events.globprop.onPriceLineChange==typeof Function)a.events.globprop.onPriceLineChange(b);m.debug("SetRTLineVisible",b)})}function z(){g("#control-candlesticks-border",
"#color-candlesticks-up-border","#color-candlesticks-down-border","#color-candlesticks-flat-border",null,null);g("#control-candlesticks-wick","#color-candlesticks-wick",null,null,null,null);g("#control-columns-border","#color-columns-up-border","#color-columns-down-border","#color-columns-flat-border",null,null);g("#control-hollowcandlesticks-border","#color-hollowcandlesticks-up-border","#color-hollowcandlesticks-down-border","#color-hollowcandlesticks-flat-border",null,null);g("#control-hollowcandlesticks-wick",
"#color-hollowcandlesticks-wick",null,null,null,null);g("#control-ohlc-border","#color-ohlc-up-border","#color-ohlc-down-border","#color-ohlc-flat-border",null,null);g("#control-ohlc-wick","#color-ohlc-wick",null,null,null,null);g("#control-hlc-border","#color-hlc-up-border","#color-hlc-down-border","#color-hlc-flat-border",null,null);g("#control-hlc-wick","#color-hlc-wick","#color-hlc-border-flat",null,null,null);g("#control-dots-border","#color-dots-up-border","#color-dots-down-border","#color-dots-flat-border",
null,null);g("#control-heikinashi-border","#color-heikinashi-up-border","#color-heikinashi-down-border","#color-heikinashi-flat-border",null,null);g("#control-heikinashi-wick","#color-heikinashi-wick",null,null,null,null);$(".class-price-color").on("change",function(){for(var b=$(this).spectrum("get").toRgbString(),d=$(this).attr("id"),c=0;c<e.length;c++)if(e[c].ctr==d){var f=a.chart.GetPriceProperties(),k=f.GetStyle();r(k,e[c].json,b);f=f.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(f,
k);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(f,k);m.debug(f,k);a.chart.Redraw();switch(d){case "color-area-up":var k=$("#color-area-up").spectrum("get").alpha,f=$("#color-area-up").spectrum("get").toHexString(),h=100;isNaN(parseFloat(k))||(h=100*k);$("#color-opacity-area").slider("option","value")!=h&&$("#color-opacity-area").slider("option","value",h);$("#"+e[c].opacityctr+" div.gradient").css("background-image","linear-gradient(to left, "+
f+" 0%, transparent 100% )")}}});$("#borderwidth-line-line").on("slidechange",function(){var b=$(this).slider("option","value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;a.chart.Redraw();b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(b,c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c)});$("#borderwidth-histogram-line").on("slidechange",function(){var b=$(this).slider("option",
"value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(b,c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c);a.chart.Redraw()});$("#borderwidth-area-line").on("slidechange",function(){var b=$(this).slider("option","value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&
a.api.localstorage.setPriceStyle(b,c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c);a.chart.Redraw()});$("#color-opacity-area").on("slidechange",function(){var a=$(this).slider("option","value"),d=$("#color-area-up").spectrum("get").toRgb(),a="rgba(%r%, %g%, %b%, %a%)".replace("%r%",d.r).replace("%g%",d.g).replace("%b%",d.b).replace("%a%",a/100);$("#color-area-up").spectrum("set",a)})}function t(){var b=a.chart.GetPriceProperties(),
d=b.GetDrawType();e=[];l=[];switch(d){case "candlesticks":e.push({ctr:"color-candlesticks-up-candles",json:"up.fill"},{ctr:"color-candlesticks-down-candles",json:"down.fill"},{ctr:"color-candlesticks-up-border",json:"up.stroke"},{ctr:"color-candlesticks-down-border",json:"down.stroke"},{ctr:"color-candlesticks-flat-candles",json:"flat.fill"},{ctr:"color-candlesticks-flat-border",json:"flat.stroke"},{ctr:"color-candlesticks-wick",json:"wick.stroke"});l.push({ctr:"control-candlesticks-border",json:"borderVisible"},
{ctr:"control-candlesticks-wick",json:"wick.visible"});break;case "columns":e.push({ctr:"color-columns-up-column",json:"up.fill"},{ctr:"color-columns-down-column",json:"down.fill"},{ctr:"color-columns-up-border",json:"up.stroke"},{ctr:"color-columns-down-border",json:"down.stroke"},{ctr:"color-columns-flat-column",json:"flat.fill"},{ctr:"color-columns-flat-border",json:"flat.stroke"},{ctr:"color-columns-wick",json:"wick.stroke"});l.push({ctr:"control-columns-border",json:"borderVisible"});break;case "hollowcandlesticks":e.push({ctr:"color-hollowcandlesticks-up-candles",
json:"up.fill"},{ctr:"color-hollowcandlesticks-down-candles",json:"down.fill"},{ctr:"color-hollowcandlesticks-up-border",json:"up.stroke"},{ctr:"color-hollowcandlesticks-down-border",json:"down.stroke"},{ctr:"color-hollowcandlesticks-flat-candles",json:"flat.fill"},{ctr:"color-hollowcandlesticks-flat-border",json:"flat.stroke"},{ctr:"color-hollowcandlesticks-wick",json:"wick.stroke"});l.push({ctr:"control-hollowcandlesticks-border",json:"borderVisible"},{ctr:"control-hollowcandlesticks-wick",json:"wick.visible"});
break;case "ohlc":e.push({ctr:"color-ohlc-up-border",json:"up.stroke"},{ctr:"color-ohlc-down-border",json:"down.stroke"},{ctr:"color-ohlc-flat-border",json:"flat.stroke"});break;case "hlc":e.push({ctr:"color-hlc-up-border",json:"up.stroke"},{ctr:"color-hlc-down-border",json:"down.stroke"},{ctr:"color-hlc-flat-border",json:"flat.stroke"});break;case "histogram":e.push({ctr:"color-histogram-up-border",json:"up.stroke"},{ctr:"color-histogram-down-border",json:"down.stroke"},{ctr:"color-histogram-flat-border",
json:"flat.stroke"});break;case "dots":e.push({ctr:"color-dots-up-candles",json:"up.fill"},{ctr:"color-dots-down-candles",json:"down.fill"},{ctr:"color-dots-up-border",json:"up.stroke"},{ctr:"color-dots-down-border",json:"down.stroke"},{ctr:"color-dots-flat-candles",json:"flat.fill"},{ctr:"color-dots-flat-border",json:"flat.stroke"});break;case "heikinashi":e.push({ctr:"color-heikinashi-up-candles",json:"up.fill"},{ctr:"color-heikinashi-down-candles",json:"down.fill"},{ctr:"color-heikinashi-up-border",
json:"up.stroke"},{ctr:"color-heikinashi-down-border",json:"down.stroke"},{ctr:"color-heikinashi-flat-candles",json:"flat.stroke"},{ctr:"color-heikinashi-wick",json:"wick.stroke"},{ctr:"color-heikinashi-flat-border",json:"flat.fill"});l.push({ctr:"control-heikinashi-border",json:"borderVisible"},{ctr:"control-heikinashi-wick",json:"wick.visible"});break;case "line":e.push({ctr:"color-line-line",json:"stroke"});break;case "area":e.push({ctr:"color-area-line",json:"stroke"},{ctr:"color-area-up",json:"fill",
opacityctr:"color-opacity-area"})}for(var b=b.GetStyle(),c=0;c<e.length;c++)A($("#"+e[c].ctr),u(b,e[c].json),!0);for(c=0;c<l.length;c++){var f=u(b,l[c].json);if(null==f)break;"true"==f.toLowerCase()?$("#"+l[c].ctr).attr("checked",!0):$("#"+l[c].ctr).removeAttr("checked")}switch(d){case "line":d=b.strokeWidth;$("#borderwidth-line-line").slider("option","value",d);break;case "histogram":d=b.strokeWidth;$("#borderwidth-histogram-line").slider("option","value",d);break;case "area":d=b.strokeWidth,$("#borderwidth-area-line").slider("option",
"value",d),d=$("#color-area-up").spectrum("get").alpha,b=100,isNaN(parseFloat(d))||(b=100*d),$("#color-opacity-area").slider("option","value")!=b&&$("#color-opacity-area").slider("option","value",b)}}function g(b,d,c,f,k,h){$(b).on("click",function(b){var e=$(this);b=$(this).attr("id");e.is(":checked")?(null!=h&&$(h).slider("enable"),null!=k&&$(k).slider("enable"),null!=d&&$(d).spectrum("enable"),null!=c&&$(c).spectrum("enable"),null!=f&&$(f).spectrum("enable")):(null!=h&&$(h).slider("disable"),null!=
k&&$(k).slider("disable"),null!=d&&$(d).spectrum("disable"),null!=c&&$(c).spectrum("disable"),null!=f&&$(f).spectrum("disable"));for(var e=e.is(":checked"),n=0;n<l.length;n++)if(l[n].ctr==b){var g=a.chart.GetPriceProperties(),p=g.GetStyle();r(p,l[n].json,e?"true":"false");g=g.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(g,p);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(g,p);m.debug(g,p);a.chart.Redraw()}for(n=
0;n<v.length;n++)if(v[n].ctr==b){p=a.chart.GetVolumeInfo().GetStyle();r(p,v[n].json,e?"true":"false");if(typeof a.events.globprop.onVolumeStyleChange==typeof Function)a.events.globprop.onVolumeStyleChange(p);m.debug(p);a.chart.Redraw()}})}function E(){var b=(new Date).getTimezoneOffset(),d=a.chart.GetTimeZone(),c=" UTC "+(0<b?"-":"+")+Math.abs(d/60);$("#current-time-zone-span").html(c);$("#button-update-timezone").button();$("#button-update-timezone").on("click",function(){var b=$("#select-timezone").val(),
d=$("#control-daylight-time").is(":checked")?1:0,h=-60*(parseFloat(b)+d);a.chart.SetTimeZone(h);if(typeof a.events.globprop.onVolumeStyleChange==typeof Function)a.events.globprop.onTimeZoneChange(h);m.debug(h);a.chart.Redraw();c=" UTC "+(0<h?"-":"+")+Math.abs(parseFloat(b)+d);$("#current-time-zone-span").html(c)})}function C(b,d){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function f(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",
function(){var a=$(".chart-ui-dialog.props-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.props-dialog").css("opacity",a);$(this).css("opacity",b)})}var e="Close",h=d,g="";"undefined"!=typeof a.localizationobj&&(e=a.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),h=a.localizationobj.gui.returnLocalizationString("dialogs.props.generalproperties-title",d));"undefined"!=typeof a.init.TemplateName&&(g=a.init.TemplateName);var l="";"rtl"==a.localizationobj.gui.returnCurrentLanguage().direction&&
(l="dir-rtl");$('<div id="chart-dialog" title="'+h+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog props-dialog "+g+" "+l,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(b,c){f($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});if(typeof a.events.globprop.onOpenDialog==typeof Function)a.events.globprop.onOpenDialog();m.debug("Open dialog global properies");"undefined"!=
typeof a.preloadobj&&a.preloadobj.endPreload()},close:function(b,d){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.systems-dialog  adv-buttons.eye-orange").off().remove();$("div.chart-ui-dialog.systems-dialog").off().remove();$(this).off().empty().remove();if(typeof a.events.globprop.onCloseDialog==typeof Function)a.events.globprop.onCloseDialog();m.debug("Close dialog global properies")},buttons:[{id:"btn-dialogs-close",text:e,click:function(){$(this).dialog("close")}}]})}
function F(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).index();$(".main-properties").each(function(){$(this).css("display","none")});$(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(".main-properties").eq(a).css("display","block");$(this).addClass("active")})}function D(){"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload()}function u(a,d){var c=d.split(".");return 1==c.length?a[c[0]]:"undefined"!=typeof a[c[0]]?u(a[c[0]],c.slice(1).join(".")):
null}function r(a,d,c){d=d.split(".");1==d.length&&(a[d[0]]=c);"undefined"!=typeof a[d[0]]&&r(a[d[0]],d.slice(1).join("."),c)}function A(a,d,c,f){"undefined"==typeof f&&(f=!1);c=[];f&&c.push("rgba(0, 0, 0, 0);{rgba(0, 0, 0, 0.1);{rgba(0, 0, 0, 0.2);{rgba(0, 0, 0, 0.3);{rgba(0, 0, 0, 0.4);{rgba(0, 0, 0, 0.5);{rgba(0, 0, 0, 0.6);{rgba(0, 0, 0, 0.7);{rgba(0, 0, 0, 0.8);{rgba(0, 0, 0, 0.9);".split("{"));c.push("rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"));
c.push("rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"));c.push("rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"));c.push("rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"));
c.push("rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"));c.push("rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"));c.push("rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"));
c.push("rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{"));$(a).spectrum({color:d,showAlpha:f,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:c})}var a=q;q={};a.props=q;var m=a.api.debug.getLogger("prochart.gui.props"),s="",e=[],l=[],v=[];q.gui={viewProps:function(){var b=$.Deferred();D();s="General Properties";C("test",s);var d=!1==a.guiinit.cache?
"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,d=a.guiinit.rootpath+"/ChartUI/gui/props/props.htm"+d;if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",d);c.onload=function(){var a=c.responseText;w($(a).find("#dlg-props"));b.resolve(a)};c.send()}else $.ajax({type:"GET",async:!0,url:d}).done(function(a){w($(a).find("#dlg-props"));b.resolve(a)});return b.promise()},viewPriceOnly:function(b,d){var c=$.Deferred();D();s=d.GetSymbol();C("test",s);var f=!1==a.guiinit.cache?
"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name;$("#chart-dialog").append('<div id="dlg-props" class="adv-dialog-content"></div>');f=a.guiinit.rootpath+"/ChartUI/gui/props/props.htm"+f;if(a.navigator.XMLHttpRequest()){var e=new XMLHttpRequest;e.open("get",f);e.onload=function(){var a=e.responseText;B($(a).find("#price-props"));c.resolve(a)};e.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:f}).done(function(a){B($(a).find("#price-props"));c.resolve(a)});return c.promise()},
viewVolumeOnly:function(){}};q.init={};return q};
function ProChart_InitSignals(E){function x(){y();u="Signals form";F("",u);var a=!1==b.guiinit.cache?"?"+b.version.gui.name+(new Date).getTime():"?"+b.version.gui.name,a=b.guiinit.rootpath+"/ChartUI/gui/signals/plugins.htm"+a;if(b.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,c=$.Deferred();d.open("get",a);d.onload=function(){var a=d.responseText;z($(a).find("#dlg-plugins"));c.resolve(a)};d.send();return c}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){z($(a).find("#dlg-plugins"))}})}
function z(a){$("#chart-dialog").html(a);G();if("undefined"!=typeof e.init.list&&null!=e.init.list){a=[];a.push('<li id="li-browser-%id%" data-localize="dialogs.signals.signalprovider.name">%name%</li>');a.push('<div class = "main-page" id="signal-%id%-page" style ="display:none"></div> ');var d=$("#template-mainpage").html();a.push(d);d=$("#template-mainpage-listitem > ul").html();a.push(d);$("#main-signal-browser");for(var d=$("#dialog-main-page"),c=e.init.list.plugins,h=0;h<c.length;h++){var g=
c[h],f=g.id;if(!0==g.use){var l=!1;"undefined"==typeof g.pluginit||null==g.pluginit?l=!1:(l=b.chart.Plugins.IsEnabled(f),"undefined"==typeof l&&(l=!1));for(var l=!1==l?"stardisabled-icon":"startenabled-icon",q=g.description,f=a[3].replace(/%id%/g,f).replace(/%itemid%/g,f).replace(/%starsignal%/g,l).replace(/%caption%/g,"").replace(/%name%/g,q),g=g.types,l=0;l<g.length;l++)q=$(d).find("#plugins-"+g[l]+"-list"),0<q.length&&q.append(f)}}H();$("#template-mainpage").remove();$("#template-mainpage-listitem").remove()}I();
J();a=$("#favorite-signal-page");"undefined"!=typeof a&&$(a).css("display","block");$("#chart-dialog").dialog("open");"undefined"!=typeof b.localizationobj&&b.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function w(a){if("undefined"!=typeof e.init.list&&null!=e.init.list)for(var d=0;d<e.init.list.plugins.length;d++){var c=e.init.list.plugins[d];if(a==c.id){"undefined"==typeof c.pluginit||null==c.pluginit?(a=!1==b.guiinit.cache?"?"+(new Date).getTime():"",$.ajax({async:!0,global:!1,url:b.guiinit.rootpath+
"/"+c.path+"plugin.init.json.js"+a,dataType:"json",success:function(a){c.pluginit=a;c.pluginit.userCallback=function(){return{user:"548",password:"LtbzVPWzX0d%2bfJAhDpADUA%3d%3d"}};b.chart.Plugins.LoadPlugin(c.pluginit);b.chart.Plugins.Enable(c.pluginit.id,!0);A(c)},error:function(a,c,d){}})):(b.chart.Plugins.Enable(c.pluginit.id,!0),A(c),c.gui_js.gui.createPanel());break}}}function v(a){b.chart.Plugins.Enable(a,!1);a=s(a);null===a||"undefined"==typeof a.gui_js&&null==a.gui_js||a.gui_js.gui.closePanel()}
function A(a){if("undefined"==typeof a.gui_js){var d=!1==b.guiinit.cache?"?"+(new Date).getTime():"",d=b.guiinit.rootpath+"/"+a.path+"plugin.gui.js"+d;if(b.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;$.Deferred();c.plugin=a;c.open("get",d);c.onload=function(){eval.call(c.responseText);c.plugin.gui_js=eval.call(c.plugin.initfunction)(b);c.plugin.gui_js.info.path=c.plugin.path;c.plugin.gui_js.gui.createPanel();"undefined"!=b.localizationobj&&b.localizationobj.gui.addPluginSource(c.plugin.id,
"/"+c.plugin.path)};c.send()}else $.ajax({url:d,contentType:"application/javascript",async:!0,global:!1,plugin:a,dataType:"script",type:"get",success:function(a){eval.call(a);this.plugin.gui_js=eval(this.plugin.initfunction)(b);this.plugin.gui_js.info.path=this.plugin.path;this.plugin.gui_js.gui.createPanel();"undefined"!=b.localizationobj&&b.localizationobj.gui.addPluginSource(this.plugin.id,"/"+this.plugin.path)}})}}function H(){$("ul.ul-plugins-list  li .star-button").on("click",function(){var a=
$(this).parent().attr("idx");$(this).parent().attr("prv");$(this).parent().attr("mod");$(this).hasClass("stardisabled-icon")?($(this).addClass("startenabled-icon").removeClass("stardisabled-icon"),w(a)):($(this).removeClass("startenabled-icon").addClass("stardisabled-icon"),v(a))})}function s(a){if("undefined"==typeof e.init.list||null==e.init.list)return null;for(var d=e.init.list.plugins,c=0;c<d.length;c++){var b=d[c];if(b.id==a)return b}return null}function B(a){$("#"+k).html(a);a=[];var d=$("#"+
k+" #template-tr > table > tbody").html();a.push(d);var d=$("#"+k+" #signal-list-table"),c=0,h=b.chart.signals.GetSignalsList();if("undefined"!=typeof d.html())for(var g=0;g<h.length&&!(300<=c);g++){var f=h[g];if(!0==f.visible){var l=new Date(f.date),e=f.uid,m=f.direction,p=f.type,n=f.provider,f=f.properties,p=b.localizationobj.gui.returnLocalizationString("signals."+n+".items."+p+".name",p),n=b.localizationobj.gui.returnLocalizationString("signals."+n+".name",n),t="";switch(m){case 0:t="neutral";
break;case 1:t="up";break;case -1:t="down";break;case 2:t="news"}l=a[0].replace(/%itemid%/g,e).replace(/%title%/g,f.title).replace(/%description%/g,f.description).replace(/%directionvalue%/g,t).replace(/%signalitemname%/g,p).replace(/%provider%/g,n).replace(/%date%/g,l);d.append(l);c++}}C();$("#"+k).dialog("open");"undefined"!=typeof b.localizationobj&&b.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function C(){$("button.signal-select-button").off();$("button.signal-select-button").on("click",
function(){var a=$(this).attr("idx");b.chart.signals.SelectSignal(a);$("#"+k+" #signal-list-table tr").removeClass("selected-signal");$("#"+k+' #signal-list-table tr.signalslist_list_s[idx="'+a+'"]').addClass("selected-signal")})}function K(a){$("#"+k+' #signal-list-table tr[idx="'+a.uid+'"]').each(function(){$(this).remove()})}function F(a,d,c){function h(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function g(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",
function(){var a=$(".chart-ui-dialog.signals-dialog").css("opacity"),a=1==a?.5:1,c=1==a?"":2;$(".chart-ui-dialog.signals-dialog").css("opacity",a);$(this).css("opacity",c)})}a="Close";var f=d,e="";"undefined"==typeof c&&(c="");"undefined"!=typeof b.localizationobj&&(a=b.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),f=b.localizationobj.gui.returnLocalizationString("signals.title",d),f+=c);"undefined"!=typeof b.init.TemplateName&&(e=b.init.TemplateName);$('<div id="chart-dialog" title="'+
f+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog signals-dialog "+e,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,c){g($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});D()},close:function(a,c){h($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.signals-dialog  adv-buttons.eye-orange").off().remove();$("div.chart-ui-dialog.signals-dialog").off().remove();
$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:a,click:function(){$(this).dialog("close")}}]})}function G(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),d=$(a).find(".properties-tabs a").index(this);$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(d).css("display","block");$(this).addClass("active")})}
function I(){$(" .title_level").delegate("a","click",function(){for(var a=$(this).parents(".main-page"),d=$(a).find(".title_level a").index(this),c=$(a).find(".dialog_level"),b=0;b<c.length;b++){var g=b==d?"block":"none";$(c[b]).css("display",g)}a=$(a).find(".title_level");for(b=d+1;b<a.length;b++)$(a[b]).css("display","none").removeClass("active");$(a[d]).addClass("active")})}function J(){$("#main-signal-browser > li").on("click",function(){for(var a=$("#main-signal-browser > li").index(this),d=
$("#chart-dialog .main-page"),c=0;c<d.length;c++){var b=c==a?"block":"none";$(d[c]).css("display",b)}a=$(this).html();d=void 0;c=$("#dlg-signals .main-page").eq(0).find(".title_level");for(b=0;b<c.length;b++)$(c[b]).removeClass("active"),0<b&&$(c[b]).css("display","none");"undefined"==typeof a&&(a="");"undefined"==typeof d&&(d="");$(c[0]).find("a").html(a+" "+d);$(c[0]).css("display","block").addClass("active")})}function L(a,d,c,h,g,f){function e(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}
function k(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=$(".chart-ui-dialog."+g).css("opacity"),a=1==a?.5:1,c=1==a?"":2;$(".chart-ui-dialog."+g).css("opacity",a);$(this).css("opacity",c)})}a="Close";var m=d,p="";"undefined"==typeof c&&(c="");"undefined"!=typeof b.localizationobj&&(a=b.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),m=b.localizationobj.gui.returnLocalizationString("signals.history-title",
d),m+=c);"undefined"!=typeof b.init.TemplateName&&(p=b.init.TemplateName);$('<div id="'+h+'" title="'+m+'"></div>').insertAfter("body");$("#"+h).dialog({dialogClass:"chart-ui-dialog "+g+" "+p,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:f,open:function(a,c){k($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#"+h).dialog("close")});D()},close:function(a,c){e($(this).parent());$("#"+h).remove();$("div.chart-ui-dialog."+g+" adv-buttons.eye-orange").off().remove();
$("div.chart-ui-dialog."+g).off().remove();$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:a,click:function(){$(this).dialog("close")}}]})}function y(){"undefined"!=typeof b.preloadobj&&b.preloadobj.startPreload()}function D(){"undefined"!=typeof b.preloadobj&&b.preloadobj.endPreload()}var b=E,e={};b.signals=e;var u="";b.symbolslist=null;var r=0,k="chart-dialog-2";e.gui={viewSignals:x,callNewsignal:function(a,d){!0==d.visible&&(0>r&&(r=0),r++);if("undefined"!=typeof b.toolboxobj){b.toolboxobj.gui.updateSignalListAlert(r);
var c=[],h=$("#"+k+" #template-tr > table > tbody").html();"undefined"!=typeof h&&c.push(h);h=$("#"+k+" #signal-list-table");if("undefined"!=typeof h.html()&&0<c.length&&!0==d.visible){var g=new Date(d.date),f=d.uid,e=d.direction,q=d.type,m=d.provider,p=d.properties,q=b.localizationobj.gui.returnLocalizationString("signals."+m+".items."+q+".name",q),m=b.localizationobj.gui.returnLocalizationString("signals."+m+".name",m),n="";switch(e){case 0:n="neutral";break;case 1:n="up";break;case -1:n="down";
break;case 2:n="news"}c=c[0].replace(/%itemid%/g,f).replace(/%title%/g,p.title).replace(/%description%/g,p.description).replace(/%signalitemname%/g,q).replace(/%directionvalue%/g,n).replace(/%provider%/g,m).replace(/%date%/g,g);h.prepend(c)}C()}},callRemovesignal:function(a,d){r--;0<r&&(r=0);"undefined"!=typeof b.toolboxobj&&(b.toolboxobj.gui.updateSignalListAlert(r),K(d))},callFullRefreshsignals:function(a,b){r=0},callfuncOnSignalMouseClick:function(a,b){var c=b.uid,h=$("#"+k+" .signals-list-mainpage"),
e=$("#"+k+" #signal-list-table"),f=$("#"+k+' #signal-list-table tr.signalslist_list_f[idx="'+c+'"]'),c=$("#"+k+' #signal-list-table tr.signalslist_list_s[idx="'+c+'"]');$("#"+k+" #signal-list-table tr").removeClass("selected-signal");"undefined"!=typeof f.html()&&(e=parseInt($(f).offset().top)-parseInt($(e).offset().top),$(h).animate({scrollTop:e},2E3),$(c).addClass("selected-signal"),console.log(parseInt($(f).offset().top)),console.log(parseInt($(h).offset().top)))},viewSignalProviders:x,viewSignalList:function(){if(!$("#"+
k).hasClass("ui-dialog-content")){y();u="Signals History List";L("",u,"",k,"signals-dialog-list",!1);var a=!1==b.guiinit.cache?"?"+b.version.gui.name+(new Date).getTime():"?"+b.version.gui.name,a=b.guiinit.rootpath+"/ChartUI/gui/signals/signalslist.htm"+a;if(b.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,c=$.Deferred();d.open("get",a);d.onload=function(){B($(d.responseText).find("#dlg-signals-list-history"))};d.send();return c}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){B($(a).find("#dlg-signals-list-history"))}})}},
pluginContentUpdate:function(a,b,c,e){a=s(b);null===a||"undefined"==typeof a.gui_js&&null==a.gui_js||a.gui_js.gui.contentUpdate(c,e)},pluginEnableChanged:function(a,b){s(a)},pluginDelete:v,pluginOpenDialog:function(a){"undefined"!=typeof e.init.list&&null!=e.init.list&&(a=s(a),null===a||"undefined"==typeof a.gui_js&&null==a.gui_js||a.gui_js.gui.openDialog())},startWaitSignal:function(a){a=s(a);null===a||"undefined"==typeof a.gui_js&&null==a.gui_js||a.gui_js.gui.startWaitSignal()},stopWaitSignal:function(a){a=
s(a);null===a||"undefined"==typeof a.gui_js&&null==a.gui_js||a.gui_js.gui.stopWaitSignal()},initSignalsList:function(){var a=$.Deferred();if("undefined"!=typeof e.init.list&&null!=e.init.list)return"ok";var d=!1==b.guiinit.cache?"?"+(new Date).getTime():"",d=b.guiinit.rootpath+"/Plugins/plugins.list.json.js"+d;if(b.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",d);c.onload=function(){var b=$.parseJSON(c.responseText);e.init.list=b;a.resolve(b)};c.send()}else $.ajax({url:d,contentType:"application/javascript",
dataType:"json",data:{},async:!0,error:function(a,b){}}).done(function(b){e.init.list=b;a.resolve(b)});return a.promise()}};e.api={deactivatePlugin:v,activatePlugin:w,swiftPlugin:function(a){!0==b.chart.Plugins.IsEnabled(a)?v(a):w(a)}};e.init={list:null};return e};
function ProChart_InitSystems(x){function q(a){$("#chart-dialog").html(a);r();"undefined"!=typeof b.localizationobj&&b.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open");s()}function t(a){$("#chart-dialog").html(a);r();"undefined"!=typeof b.localizationobj&&b.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open");s()}function s(){e();b.chart.Login("test@advinion.com","password123")}function u(){c.init.endLisLoaded=0;b.chart.ListTemplates(c.init.mstrUserToken,
"template");b.chart.ListTemplates(c.init.mstrUserToken,"analysis")}function y(){$(".systems-dialog .systems-list .opensystem").off().on("click",function(){var a=$(this).attr("tid"),d=$(this).attr("ttype");e();b.chart.OpenTemplate(c.init.mstrUserToken,a,d)});$(".systems-dialog .systems-list .open-system").off().on("click",function(){var a=$(this).attr("tid"),d=$(this).attr("ttype");e();b.chart.OpenTemplate(c.init.mstrUserToken,a,d)});$(".systems-dialog .systems-list .delete-system").off().on("click",
function(){var a=$(this).attr("tid"),d=$(this).attr("ttype");e();b.chart.DeleteTemplate(c.init.mstrUserToken,a,d)})}function z(){$(".systems-dialog .systems-list .save-system-template").off().on("click",function(){var a=$(this).attr("tid"),d=$(this).parent().find("span").html();e();b.chart.SaveTemplate(c.init.mstrUserToken,a,d,"","template")});$(".systems-dialog .systems-list .save-system-analysis").off().on("click",function(){var a=$(this).attr("tid"),d=$(this).parent().find("span").html();e();b.chart.SaveTemplate(c.init.mstrUserToken,
a,d,"","analysis")});$(".systems-dialog .systems-list .delete-system").off().on("click",function(){var a=$(this).attr("tid"),d=$(this).attr("ttype");e();b.chart.DeleteTemplate(c.init.mstrUserToken,a,d)});$(".systems-dialog .save-system-new-template").off().on("click",function(){var a=$(".systems-dialog #in-newname-template").val();e();b.chart.SaveTemplate(c.init.mstrUserToken,"",a,"","template")});$(".systems-dialog .save-system-new-analysis").off().on("click",function(){var a=$(".systems-dialog #in-newname-analysis").val();
e();b.chart.SaveTemplate(c.init.mstrUserToken,"",a,"","analysis")})}function v(a,d){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function A(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=$(".chart-ui-dialog.systems-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.systems-dialog").css("opacity",a);$(this).css("opacity",b)})}
var e="Close",m=d,n="";"undefined"!=typeof b.localizationobj&&(e=b.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),m=b.localizationobj.gui.returnLocalizationString("dialogs.systems.title",d));"undefined"!=typeof b.init.TemplateName&&(n=b.init.TemplateName);var g="";"rtl"==b.localizationobj.gui.returnCurrentLanguage().direction&&(g="dir-rtl");$('<div id="chart-dialog" title="'+m+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog systems-dialog "+
n+" "+g,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,d){A($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});"undefined"!=typeof b.preloadobj&&b.preloadobj.endPreload()},close:function(a,b){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.systems-dialog  adv-buttons.eye-orange").off().remove();$("div.chart-ui-dialog.systems-dialog").off().remove();$(this).off().empty().remove()},
buttons:[{id:"btn-dialogs-close",text:e,click:function(){$(this).dialog("close")}}]})}function r(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),b=$(a).find(".properties-tabs a").index(this);$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(b).css("display","block");$(this).addClass("active")})}function w(){"undefined"!=
typeof b.preloadobj&&b.preloadobj.startPreload()}function e(){if("undefined"!=typeof b.preloadobj){var a=$(".chart-ui-dialog.systems-dialog");b.preloadobj.startPreloadinobject(a)}}function p(){if("undefined"!=typeof b.preloadobj){var a=$(".chart-ui-dialog.systems-dialog");b.preloadobj.endPreloadinobject(a)}}var b=x,c={};b.systems=c;b.api.debug.getLogger("prochart.gui.systems");var k="";c.gui={viewSystems:function(){c.init.typeOpenSave=0;c.init.endLisLoaded=0;w();k="Systems form";v("test",k);var a=
!1==b.guiinit.cache?"?"+b.version.gui.name+(new Date).getTime():"?"+b.version.gui.name,a=b.guiinit.rootpath+"/ChartUI/gui/systems/systems.htm"+a;if(b.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,f=$.Deferred();d.open("get",a);d.onload=function(){var a=d.responseText;q($(a).find("#dlg-systems"));f.resolve(a)};d.send();return f}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){q($(a).find("#dlg-systems"))}})},saveSystems:function(){c.init.typeOpenSave=1;c.init.endLisLoaded=
0;w();k="Save system form";v("test",k);var a=!1==b.guiinit.cache?"?"+(new Date).getTime():"?",a=b.guiinit.rootpath+"/ChartUI/gui/systems/systemssave.htm"+a+" #dlg-systems";if(b.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,f=$.Deferred();d.open("get",a);d.onload=function(){var a=d.responseText;t($(a).find("#dlg-systems"));f.resolve(a)};d.send();return f}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){t($(a).find("#dlg-systems"))}})},loginInSystems:function(a,d){c.init.mstrUserToken=
d;b.chart.ListTemplates(d,"template");b.chart.ListTemplates(d,"analysis")},systemsList:function(a,b,f){switch(c.init.typeOpenSave){case 0:a=[];a.push('<li  class="li-system"><a href="javascript:void(0)"  class="opensystem" tid="%systemid%"  ttype="%typesystem%"  title="%description%" ><span>%caption%</span></a><button class="favorite system-get-small open-system" tid="%systemid%"  ttype="%typesystem%"  type="button"></button><button class="favorite delete-icon-small delete-system" tid="%systemid%"  ttype="%typesystem%"  type="button"></button></li>');
var e=/%systemid%/g,k=/%caption%/g,m=/%description%/g,n=/%typesystem%/g,g=null,l="";switch(f){case "template":g=$("#systemgroup-group1 .systems-list");$(g).empty();l="template";break;case "analysis":g=$("#systemgroup-group2 .systems-list"),$(g).empty(),l="analysis"}if(null!=g)for(f=0;f<b.length;f++){var h=b[f],h=a[0].replace(e,h.TemplateIID).replace(k,h.Name).replace(m,h.Description).replace(n,l);$(g).append(h)}c.init.endLisLoaded+=1;2==c.init.endLisLoaded&&y();break;case 1:a=[];a.push('<li  class="li-system" ><span>%caption%</span><button class="favorite system-set-small save-system-%typesystem%" ttype="%typesystem%"  tid="%systemid%" type="button"></button><button class="favorite delete-icon-small delete-system" ttype="%typesystem%"   tid="%systemid%" type="button"></button></li>');
e=/%systemid%/g;k=/%caption%/g;m=/%description%/g;n=/%typesystem%/g;g=null;l="";switch(f){case "template":g=$("#systemgroup-group1 .systems-list");$(g).empty();l="template";break;case "analysis":g=$("#systemgroup-group2 .systems-list"),$(g).empty(),l="analysis"}if(null!=g)for(f=0;f<b.length;f++)h=b[f],h=a[0].replace(e,h.TemplateIID).replace(k,h.Name).replace(m,h.Description).replace(n,l),$(g).append(h);c.init.endLisLoaded+=1;2==c.init.endLisLoaded&&z()}p()},loadedSystem:function(a,b){p()},savedSystem:function(a,
b){p();e();u()},deletedSystem:function(a,b,c){p();e();u()},errorSystem:function(a,b,c){}};c.init={mstrUserToken:"",typeOpenSave:0,endLisLoaded:0};return c};
function ProChart_InitCompares(r){var h,n;function C(){D();v="Symbols form : majors, compares";E("gannfan",v);var a=!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():"?"+c.version.gui.name,a=c.guiinit.rootpath+"/ChartUI/gui/ta/compares.htm"+a;if(c.navigator.XMLHttpRequest()){var b=new XMLHttpRequest,d=$.Deferred();b.open("get",a);b.onload=function(){var a=b.responseText;F($(a).find("#dlg-compares"));d.resolve(a)};b.send();return d}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,
success:function(a){F($(a).find("#dlg-compares"))}})}function F(a){$("#chart-dialog").html(a);switch(t){case "compares":$("#chart-dialog").find("#li-browser-favorites-majors").addClass("hideobj");break;case "majors":$("#chart-dialog").find("#li-browser-favorites").addClass("hideobj")}G();Q();w();x();R();$("#button-add-compare").button();S();$("#search-symbols-text").bind("keyup",function(a){a=$(this).val();H({guiparent:"dialogcompares"},"","","",a,15,0)});$("#chart-dialog").dialog("open");"undefined"!=
typeof c.localizationobj&&c.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function H(a,b,d,e,g,f,p){if("undefined"!=typeof c.chart.symbols){if("undefined"!=typeof c.preloadobj){var k=$("#chart-dialog").find(".chart-search-preload");c.preloadobj.startPreloadinobject(k,null,"small")}c.chart.symbols.FindSymbols(a,b,d,e,g,f,p)}}function T(a){"undefined"!=typeof c.preloadobj&&"undefined"!=typeof a.html()&&c.preloadobj.endPreloadinobject(a)}function s(a){if("undefined"!=typeof q)for(var b=
0;b<q.length;b++)if(q[b].id==a)return q[b];return null}function y(a){(function(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")});$("#dialog-compare-page #compare-inner").empty()})($("#dialog-compare-page #compare-inner"));var b=!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():"?"+c.version.gui.name,b=c.guiinit.rootpath+"/ChartUI/gui/ta/details.htm"+b;if(c.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,e=$.Deferred();d.open("get",b);d.onload=function(){var b=
d.responseText;I(a,$(b).find("#dlg-details"));e.resolve(b)};d.send();return e}return $.ajax({type:"GET",async:!0,dataType:"html",url:b,success:function(b){I(a,$(b).find("#dlg-details"))}})}function I(a,b){$("#dialog-compare-page #compare-inner").html(b);$("#compares-page > .dialog_level").css("display","none");$("#dialog-compare-page").css("display","block");G();J(2,a.name,a.description);h=null;n=!1;h=c.chart.GetVirtualSymbol(a,!0);K();L();z();M();U(a.id,a.name,a.description);$("#li-browser-compares").trigger("click");
"undefined"!=typeof c.localizationobj&&c.localizationobj.gui.updateFromDataLang($("#dialog-compare-page #compare-inner"))}function U(a,b,d){$("#button-add-compare").off();$("#button-add-compare").button({disabled:!1});$("#button-add-compare").on("click",function(){c.chart.UseVirtualSymbol(h,!0)&&(n=!0,$(this).button({disabled:!0}))})}function N(a){$("#chart-dialog").html(a);K();L();z();M();"undefined"!=typeof c.localizationobj&&c.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open")}
function V(a){if("undefined"!=typeof c.init.compares)for(var b=c.init.compares,d=0;d<b.length;d++)if(b[d].id==a)return!0;return!1}function W(a){if("undefined"!=typeof c.init.majors)for(var b=c.init.majors,d=0;d<b.length;d++)if(b[d].id==a)return!0;return!1}function O(a){"undefined"!=typeof c.init.compares&&(c.init.gui.comparesRemove(a),w())}function P(a){"undefined"!=typeof c.init.majors&&(c.init.gui.majorsRemove(a),x())}function X(){$("ul.favorite-compares-list .opencompare").off("click").on("click",
function(){var a=$(this).attr("idx"),a=c.init.gui.comparesReturn(a);y(a)});$("ul.favorite-compares-list .li-compare .property-favorite").off("click").on("click",function(){var a=$(this).parent().attr("idx"),a=c.init.gui.comparesReturn(a);y(a)});$("ul.favorite-compares-list .li-compare .star-button").off("click").on("click",function(){var a=$(this).parent().attr("idx");O(a.replace("compare-",""));a=$('ul.compares-list .li-compare[id="'+a+'"] .star-button');$(a).removeClass("startenabled-icon").addClass("stardisabled-icon")});
$("ul.favorite-compares-list .li-compare .add-favorite").off("click").on("click",function(){var a=$(this).parent().attr("idx").replace("compare-",""),a=c.init.gui.comparesReturn(a);5<=c.api.debug.level&&console.log(a);c.chart.AddCompareSymbol(a)})}function Y(){$("ul.favorite-majors-list .li-major .star-button").off("click").on("click",function(){var a=$(this).parent().attr("idx");P(a.replace("compare-",""));a=$('ul.majors-list .li-major[id="'+a+'"] .star-button');$(a).removeClass("startenabled-icon").addClass("stardisabled-icon")});
$("ul.favorite-majors-list .li-major .refresh-icon-16").off("click").on("click",function(){var a=$(this).parent().attr("idx").replace("compare-",""),a=c.init.gui.majorsReturn(a);5<=c.api.debug.level&&console.log(a);c.chart.ChangeSymbol(a)})}function w(){var a=$("ul.favorite-compares-list");$(a).html("");if("undefined"!=typeof c.init.compares)for(var b=c.init.compares,d=0;d<b.length;d++){var e='<li idx="%id%"  n="%name%" d="%caption%"  class="li-compare"><button class="favorite star-button startenabled-icon" type="button"  ></button><a href="javascript:void(0)" class="opencompare" idx="%id%" title="%title%" ><span>%name% &nbsp;&nbsp;&nbsp;%caption%</span></a><button class="favorite property-favorite" type="button"></button><button class="favorite add-favorite" type="button"></button></li>'.replace(/%id%/g,
b[d].id).replace(/%name%/g,b[d].name).replace(/%caption%/g,b[d].description);$(a).append(e)}X();"undefined"!=typeof c.menuobj&&c.menuobj.gui.updateCompareFavorites()}function x(){var a=$("ul.favorite-majors-list");$(a).html("");if("undefined"!=typeof c.init.majors)for(var b=c.init.majors,d=0;d<b.length;d++){var e='<li idx="%id%"  n="%name%" d="%caption%"  class="li-major"><button class="favorite star-button startenabled-icon" type="button"  ></button><a href="javascript:void(0)" class="openmajor" idx="%id%" title="%title%" ><span>%name% &nbsp;&nbsp;&nbsp;%caption%</span></a><button class="favorite property-favorite" style="display:none" type="button"></button><button class="favorite refresh-icon-16" type="button"></button></li>'.replace(/%id%/g,
b[d].id).replace(/%name%/g,b[d].name).replace(/%caption%/g,b[d].description);$(a).append(e)}Y();"undefined"!=typeof c.menuobj&&c.menuobj.gui.updateMajorFavorites()}function K(){$("#borderwidth-area-line").slider({min:1,max:6});$("#borderwidth-line-line").slider({min:1,max:6});$("#borderwidth-histogram-line").slider({min:1,max:6});$("#borderwidth-dots-line").slider({min:1,max:6});$("#color-opacity-area").slider({min:0,max:100});$("#color-opacity-line").slider({min:0,max:100});$("#color-opacity-dots-candles").slider({min:0,
max:100});$("#color-opacity-dots-border").slider({min:0,max:100})}function L(){var a=[];a.push('<option value="%charttypeid%" data-localize="dialogs.compares.%charttypeid%">%charttypename%</option>');var b=$("#tbody-charttype-select").find("select"),d=/%charttypeid%/g,e=/%charttypename%/g,g=[];if(null!=b)for(var f=0;f<c.init.comparecharttype.length;f++){var p=c.init.comparecharttype[f],k=a[0].replace(d,p.id).replace(e,c.localizationobj.gui.returnLocalizationString("dialogs.props."+p.id,p.n));g.push(p.id);
b.append(k)}a=h.GetDrawType();0<g.length&&!1==(0<=g.indexOf(a)?!0:!1)&&(a=g[0],h.SetDrawType(a));$(b).val(a);$(".charttype-block").css("display","none");$("#charttype-block-"+a).css("display","block");$(b).on("change",function(){var a=$(this).val();$(".charttype-block").css("display","none");$("#charttype-block-"+a).css("display","block");null!=h&&h.SetDrawType(a);n&&c.chart.Redraw();z()})}function M(){m("#control-candlesticks-border","#color-candlesticks-up-border","#color-candlesticks-down-border",
"#color-candlesticks-flat-border",null,null);m("#control-candlesticks-wick","#color-candlesticks-wick",null,null,null,null);m("#control-columns-border","#color-columns-up-border","#color-columns-down-border","#color-columns-flat-border",null,null);m("#control-hollowcandlesticks-border","#color-hollowcandlesticks-up-border","#color-hollowcandlesticks-down-border","#color-hollowcandlesticks-flat-border",null,null);m("#control-hollowcandlesticks-wick","#color-hollowcandlesticks-wick",null,null,null,
null);m("#control-ohlc-border","#color-ohlc-up-border","#color-ohlc-down-border","#color-ohlc-flat-border",null,null);m("#control-ohlc-wick","#color-ohlc-wick",null,null,null,null);m("#control-hlc-border","#color-hlc-up-border","#color-hlc-down-border","#color-hlc-flat-border",null,null);m("#control-hlc-wick","#color-hlc-wick","#color-hlc-border-flat",null,null,null);m("#control-dots-border","#color-dots-border",null,null,"#borderwidth-dots-line","#color-opacity-dots-border");$(".class-price-color").on("change",
function(){var a=$(this).spectrum("get").toRgbString(),b=$(this).attr("id"),d;for(d in colorsContr)if(colorsContr[d].ctr==b){var e=h.GetStyle();u(e,colorsContr[d].json,a);switch(b){case "color-dots-candles":u(e,"stroke",a)}n&&c.chart.Redraw();switch(b){case "color-area-up":var e=$("#color-area-up").spectrum("get").alpha,g=$("#color-area-up").spectrum("get").toHexString(),f=100;isNaN(parseFloat(e))||(f=100*e);$("#color-opacity-area").slider("option","value")!=f&&$("#color-opacity-area").slider("option",
"value",f);$("#"+colorsContr[d].opacityctr+" div.gradient").css("background-image","linear-gradient(to left, "+g+" 0%, transparent 100% )")}}});$("#borderwidth-line-line").on("slidechange",function(){var a=$(this).slider("option","value");h.GetStyle().strokeWidth=a;n&&c.chart.Redraw()});$("#borderwidth-histogram-line").on("slidechange",function(){var a=$(this).slider("option","value");h.GetStyle().strokeWidth=a;n&&c.chart.Redraw()});$("#borderwidth-area-line").on("slidechange",function(){var a=$(this).slider("option",
"value");h.GetStyle().strokeWidth=a;n&&c.chart.Redraw()});$("#color-opacity-area").on("slidechange",function(){var a=$(this).slider("option","value"),b=$("#color-area-up").spectrum("get").toRgb(),a="rgba(%r%, %g%, %b%, %a%)".replace("%r%",b.r).replace("%g%",b.g).replace("%b%",b.b).replace("%a%",a/100);$("#color-area-up").spectrum("set",a)})}function z(){for(var a=[],b=h.GetDrawType(),d=0;d<c.init.comparecharttype.length;d++)a.push(c.init.comparecharttype[d].id);0<a.length&&!1==(0<=a.indexOf(b)?!0:
!1)&&(b=a[0],h.SetDrawType(b));colorsContr=[];chkboxContr=[];switch(b){case "columns":colorsContr.push({ctr:"color-columns-column",json:"fill"},{ctr:"color-columns-border",json:"stroke"},{ctr:"color-columns-flat-column",json:"fill"});chkboxContr.push({ctr:"control-columns-border",json:"borderVisible"});break;case "histogram":colorsContr.push({ctr:"color-histogram-border",json:"stroke"});break;case "dots":colorsContr.push({ctr:"color-dots-candles",json:"fill"},{ctr:"color-dots-border",json:"stroke"});
break;case "line":colorsContr.push({ctr:"color-line-line",json:"stroke"});break;case "area":colorsContr.push({ctr:"color-area-line",json:"stroke"},{ctr:"color-area-up",json:"fill",opacityctr:"color-opacity-area"})}var a=h.GetStyle(),e;for(e in colorsContr){var d=$("#"+colorsContr[e].ctr),g=A(a,colorsContr[e].json);$(d).spectrum({color:g,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:["rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"),
"rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"),"rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"),"rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"),
"rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"),"rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"),"rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"),
"rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{")]})}for(var f in chkboxContr){e=A(a,chkboxContr[f].json);if(null==e)break;"true"==e.toLowerCase()?$("#"+chkboxContr[f].ctr).attr("checked",!0):$("#"+chkboxContr[f].ctr).removeAttr("checked")}switch(b){case "line":b=a.strokeWidth;$("#borderwidth-line-line").slider("option","value",b);break;case "histogram":b=a.strokeWidth;
$("#borderwidth-histogram-line").slider("option","value",b);break;case "area":b=a.strokeWidth,$("#borderwidth-area-line").slider("option","value",b),b=$("#color-area-up").spectrum("get").alpha,f=100,isNaN(parseFloat(b))||(f=100*b),$("#color-opacity-area").slider("option","value")!=f&&$("#color-opacity-area").slider("option","value",f)}}function m(a,b,d,e,g,f){$(a).on("click",function(a){var k=$(this);a=$(this).attr("id");k.is(":checked")?(null!=f&&$(f).slider("enable"),null!=g&&$(g).slider("enable"),
null!=b&&$(b).spectrum("enable"),null!=d&&$(d).spectrum("enable"),null!=e&&$(e).spectrum("enable")):(null!=f&&$(f).slider("disable"),null!=g&&$(g).slider("disable"),null!=b&&$(b).spectrum("disable"),null!=d&&$(d).spectrum("disable"),null!=e&&$(e).spectrum("disable"));var k=k.is(":checked"),l;for(l in chkboxContr)if(chkboxContr[l].ctr==a){var m=h.GetStyle();u(m,chkboxContr[l].json,k?"true":"false");n&&c.chart.Redraw()}})}function A(a,b){var d=b.split(".");return 1==d.length?a[d[0]]:"undefined"!=typeof a[d[0]]?
A(a[d[0]],d.slice(1).join(".")):null}function u(a,b,d){b=b.split(".");1==b.length&&(a[b[0]]=d);"undefined"!=typeof a[b[0]]&&u(a[b[0]],b.slice(1).join("."),d)}function E(a,b,d){function e(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function g(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=$(".chart-ui-dialog.compares-dialog").css("opacity"),a=1==a?.5:
1,b=1==a?"":2;$(".chart-ui-dialog.compares-dialog").css("opacity",a);$(this).css("opacity",b)})}a="Close";var f=b,p="";"undefined"==typeof d&&(d="");"undefined"!=typeof c.localizationobj&&(a=c.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),f=c.localizationobj.gui.returnLocalizationString("dialogs.ta.title",b),f+=d);"undefined"!=typeof c.init.TemplateName&&(p=c.init.TemplateName);b="";"rtl"==c.localizationobj.gui.returnCurrentLanguage().direction&&(b="dir-rtl");
$('<div id="chart-dialog" title="'+f+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog compares-dialog "+p+" "+b,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){g($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});"undefined"!=typeof c.preloadobj&&c.preloadobj.endPreload()},close:function(a,b){e($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.compares-dialog  adv-buttons.eye-orange").off().remove();
$("div.chart-ui-dialog.compares-dialog").off().remove();$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:a,click:function(){$(this).dialog("close")}}]})}function G(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),b=$(a).find(".properties-tabs a").index(this);$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(b).css("display",
"block");$(this).addClass("active")})}function Q(){$(".dynamic-tabs a").on("click",function(){var a=$(this).parents(".dynamic-tabs"),b=$(a).find(".dynamic-tabs-label").index(this),d=0==b?"star-majors":"star-compare",c=0==b?"star-compare":"star-majors";B=b;$(".compares-list").find("."+c).each(function(){$(this).css("display","none")});$(".compares-list").find("."+d).each(function(){$(this).css("display","block")});$(a).find(".dynamic-tabs-label").each(function(){$(this).removeClass("active")});$(this).addClass("active")});
switch(t){case "compares":$(".dynamic-tabs a:eq(1)").trigger("click");break;case "majors":$(".dynamic-tabs a:eq(0)").trigger("click")}}function J(a,b,d){for(var c=$("#dlg-compares .main-page").eq(a).find(".title_level"),g=0;g<c.length;g++)$(c[g]).removeClass("active"),g>a&&$(c[g]).css("display","none");"undefined"==typeof b&&(b="");"undefined"==typeof d&&(d="");$(c[a]).find("a").html(b+" "+d);$(c[a]).css("display","block").addClass("active")}function R(){$(" .title_level").delegate("a","click",function(){for(var a=
$(this).parents(".main-page"),b=$(a).find(".title_level a").index(this),c=$(a).find(".dialog_level"),e=0;e<c.length;e++){var g=e==b?"block":"none";$(c[e]).css("display",g)}a=$(a).find(".title_level");for(e=b+1;e<a.length;e++)$(a[e]).css("display","none").removeClass("active");$(a[b]).addClass("active")})}function S(){$("#main-compare-browser > li").on("click",function(){for(var a=$("#main-compare-browser > li").index(this),b=$("#chart-dialog .main-page"),c=0;c<b.length;c++){var e=c==a?"block":"none";
$(b[c]).css("display",e)}a=$(this).html();J(0,a)})}function D(){"undefined"!=typeof c.preloadobj&&c.preloadobj.startPreload()}var c=r;r={};c.compares=r;c.api.debug.getLogger("prochart.gui.compare");var v="",t="compares";c.symbolslist=null;var B=0;n=!1;h=null;var q=[];r.gui={viewCompares:function(){t="compares";C()},viewMajors:function(){t="majors";C()},openCompareSymbol:function(a,b){D();var d="&nbsp;"+b.GetSymbolName();h=b;n=!0;var e=!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():
"?"+c.version.gui.name;E("",v,d);d=c.guiinit.rootpath+"/ChartUI/gui/ta/details.htm"+e;if(c.navigator.XMLHttpRequest()){var g=new XMLHttpRequest,f=$.Deferred();g.open("get",d);g.onload=function(){var a=g.responseText;N($(a).find("#dlg-details"));f.resolve(a)};g.send();return f}return $.ajax({type:"GET",async:!0,dataType:"html",url:d,success:function(a){N($(a).find("#dlg-details"))}})},findSymbols:H,callbackonFindSymbols:function(a,b,d){5<=c.api.debug.level&&console.log(d);a=[];$("#comparesgroup-symbols  ul.compares-list").html("");
b=0==B?"block":"none";var e=1==B?"block":"none";a.push('<li id="%id%" n="%name%" d="%caption%" idx="%idx%" class="li-compare"><button class="favorite star-majors star-button %starmajor%" type="button" style="display:%showMajors%"  ></button><button class="favorite star-compare star-button %starcompare%" style="display:%showCompare%" type="button"  ></button><a href="javascript:void(0)" class="opencompare" idx="%id%" title="%caption%" ><span>%name% &nbsp;&nbsp;&nbsp; %caption%</span></a><button class="favorite property-favorite star-compare" type="button" style="display:%showCompare%"></button><button class="favorite add-favorite star-compare" type="button" style="display:%showCompare%"></button><button class="favorite change-symbol-favorite refresh-icon-16  star-majors" style="display:%showMajors%" type="button"></button></li>');
q=[];var g=[],f=[];d.data.forEach(function(a){f=f.concat(a.symbols)});$.each(f,function(a,b){-1===$.inArray(b.id,g)&&(g.push(b.id),q.push(b))});g=[];f=[];d=q;for(var h=$("#comparesgroup-symbols   ul.compares-list"),k=0;k<d.length;k++){var l=d[k].id,m=d[k].description,n=d[k].name,l=a[0].replace(/%id%/g,l).replace(/%idx%/g,l).replace(/%caption%/g,m).replace(/%name%/g,n).replace(/%showMajors%/g,b).replace(/%showCompare%/g,e),l=V(d[k].id)?l.replace(/%starcompare%/g,"startenabled-icon"):l.replace(/%starcompare%/g,
"stardisabled-icon"),l=W(d[k].id)?l.replace(/%starmajor%/g,"startenabled-icon"):l.replace(/%starmajor%/g,"stardisabled-icon");$(h).append(l)}$(h).find(".li-compare .change-symbol-favorite").off("click").on("click",function(){var a=$(this).parent().attr("idx"),a=s(a);c.chart.ChangeSymbol(jQuery.extend(!0,{},a))});$(h).find(".li-compare .property-favorite").off("click").on("click",function(){var a=$(this).parent().attr("idx"),a=s(a);y(a)});$(h).find(".li-compare .star-compare.star-button").off("click").on("click",
function(a){a.stopPropagation();a=$(this).parent().attr("idx");$(this).parent().attr("n");$(this).parent().attr("d");$(this).hasClass("stardisabled-icon")?($(this).addClass("startenabled-icon").removeClass("stardisabled-icon"),a=s(a),a=jQuery.extend(!0,{},a),"undefined"!=typeof c.init.compares&&(c.init.gui.comparesAddObj(a),w())):($(this).removeClass("startenabled-icon").addClass("stardisabled-icon"),O(a))});$(h).find(".li-compare .star-majors.star-button").off("click").on("click",function(a){a.stopPropagation();
a=$(this).parent().attr("idx");$(this).parent().attr("n");$(this).parent().attr("d");$(this).hasClass("stardisabled-icon")?($(this).addClass("startenabled-icon").removeClass("stardisabled-icon"),a=s(a),a=jQuery.extend(!0,{},a),"undefined"!=typeof c.init.majors&&(c.init.gui.majorsAddObj(a),x())):($(this).removeClass("startenabled-icon").addClass("stardisabled-icon"),P(a))});$(".compares-list .li-compare .add-favorite").on("click",function(){var a=$(this).parent().attr("id").replace("compare-",""),
a=s(a);5<=c.api.debug.level&&console.log(a);c.chart.AddCompareSymbol(a)});a=$("#chart-dialog").find(".chart-search-preload");T(a)}};return r};
function ProChart_InitToolbarAdv(ka){var G,H,I,J,K,L,M,N,O,x,P,Q,D,R,S;function W(a){r(a,"toolbar_container");G=r(a,"toolbar_toolbar");H=r(a,"toolbar-button-timeframe");I=r(a,"toolbar-button-timeframe-text");J=r(a,"toolbar-space");K=r(a,"toolbar-button-charttype");L=r(a,"toolbar-caption");M=r(a,"toolbar-button");N=r(a,"toolbar-button-custom");O=r(a,"toolbar-more");x=r(a,"toolbar-more-item");P=r(a,"toolbar-button-group");Q=r(a,"toolbar-item");D=r(a,"toolbar-item-noicon");R=r(a,"toolbar-more-item-timeframe-text");
r(a,"toolbar-button-group-timeframe-text");S=r(a,"toolbar-button-group-text")}function la(){"undefined"!=typeof m.chart.TimeFrame&&(m.chart.TimeFrame.toUpperCase(),m.chart.TimeFrame.toLowerCase());for(var a=m.currenlayout.toolbars,b=0;b<a.length;b++){var c=a[b],d=m.commonutils.func.returnShortUniqID(),h="",k="";c.guiid=d;"undefined"!=typeof c.location&&(h=h+" loc-"+c.location);k=d;"undefined"!=typeof c.id&&(k=c.id);var l="";"undefined"!=typeof c.style&&(l=c.style);var d=G.replace(B,"").replace(/%style%/g,
l).replace(/%css%/g,h).replace(/%tid%/g,k).replace(/%id%/g,d),h=O,e="",k="";"undefined"!=typeof c.more.closebyclick&&!0==c.more.closebyclick&&(k=" tlb-more-a-closebyclick");l="a-bottom";"undefined"!=typeof c.more.possition&&(l="a-"+c.more.possition);h=h.replace(/%css-more-items%/g," "+l);for(l=0;l<c.items.length;l++)switch(e=c.items[l],T.debug(e.type),e.type){case "button-group-charttype":e=X(void 0,k,e);d=d.replace(/%html%/g,e.toolbar+"%html%");h=h.replace(/%html%/g,e.toolbarmore+"%html%");break;
case "button-group-indicator":e=Y(void 0,k,e);d=d.replace(/%html%/g,e.toolbar+"%html%");h=h.replace(/%html%/g,e.toolbarmore+"%html%");break;case "button-group-timeframe":e=Z(void 0,k,e);d=d.replace(/%html%/g,e.toolbar+"%html%");h=h.replace(/%html%/g,e.toolbarmore+"%html%");break;case "caption":e=aa(e);d=d.replace(/%html%/g,e+"%html%");break;case "space":e=ba(e);d=d.replace(/%html%/g,e+"%html%");break;case "button":e=ca(e,void 0,k);d=d.replace(/%html%/g,e.button+"%html%");h=h.replace(/%html%/g,e.buttonmore+
"%html%");break;case "button-custom":e=ma(e,void 0,k);d=d.replace(/%html%/g,e.button+"%html%");h=h.replace(/%html%/g,e.buttonmore+"%html%");break;case "item":e=da(e,void 0,k);d=d.replace(/%html%/g,e.button+"%html%");h=h.replace(/%html%/g,e.buttonmore+"%html%");break;case "button-group":e=ea(e),d=d.replace(/%html%/g,e.toolbargroup+"%html%"),h=h.replace(/%html%/g,e.toolbarmore+"%html%")}var h=h.replace(/%html%/g,""),d=d.replace(/\n|\r/g,"").replace(/%html%/g,h),f=$(p.parent).find("#"+c.parent);f.append(d)}null==
g("$parent")&&u("$parent",$(p.parent));f=g("$parent");f.find("button.change-typechart").on("click",function(){var a=$(this).attr("tid");null==g("$parent .change-typechart")&&u("$parent .change-typechart",g("$parent").find(".change-typechart"));g("$parent .change-typechart").removeClass("button-selected");"undefined"!=typeof m.chart.ChangePriceType&&(m.chart.ChangePriceType(a),!0==m.bi.status&&m.bi.addt2BI("change price type: "+a));$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&
C($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});f.find("button.change-timeframe").on("click",function(){var a=$(this).attr("tid");null==g("$parent .change-timeframe")&&u("$parent .change-timeframe",g("$parent").find(".change-timeframe"));g("$parent .change-timeframe").removeClass("button-selected");"undefined"!=typeof m.chart.ChangeTimeScale&&(m.chart.ChangeTimeScale(a),!0==m.bi.status&&m.bi.addt2BI("change timescale: "+a));$(this).hasClass("tlb-a-closebyclick")&&
E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&C($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});f.find("button.button-action").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof m.actions){var b=$(this).attr("action");"undefined"!=typeof b&&""!=b?m.actions.action(b,a):m.actions.action(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&C($(this));
$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});f.find("button.button-action-custom").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof m.actions){if(typeof m.events.toolbar.onCustomButtonClick==typeof Function)m.events.toolbar.onCustomButtonClick(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&C($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});f.find("button.button-more").on("click",
function(){"none"==$(this).parent().find(".tlb-more-items").css("display")?(f.find(".tlb-button-groups").css("display","none"),f.find(".tlb-more-items").css("display","none"),fa($(this)),"undefined"!=typeof m.menuobj&&m.menuobj.gui.hidemenus()):C($(this))});f.find("button.button-group").on("click",function(){"none"==$(this).parent().find(">.tlb-button-groups").css("display")?($(this).parent().find(">.tlb-button-groups").css("visibility","hidden").css("display","block"),f.find(">.tlb-button-groups").css("display",
"none"),f.find(".tlb-more-items").css("display","none"),1>=$(this).parents(".tlb-item-group").length&&f.find(".tlb-button-groups").css("display","none"),$(this).closest("ul").find("li >.tlb-button-groups").css("display","none"),$(m.toolbaradvobj.parent).find(".highlightedIconGroup").removeClass("highlightedIconGroup"),$(this).parents(".tlb-item-group").each(function(){$(this).find(">.button-group").addClass("highlightedIconGroup")}),ga($(this).parent()),"undefined"!=typeof m.menuobj&&m.menuobj.gui.hidemenus()):
ha($(this).parent());"undefined"!=typeof m.menuobj&&m.menuobj.gui.hidemenus()});z()}function Y(a,b,c){var d=c="",h="";"undefined"!=typeof a&&(h=a);a="";"undefined"!=typeof b&&(a=b);b=m.init.indicators;for(var k=0;k<b.length;k++){var l=b[k],e=D.replace(/%id%/g,l.id).replace(/%localization%/g,l.localize).replace(/%css%/g,"undefined"!=typeof l.css?l.css+h:h).replace(/%icon%/g,"undefined"!=typeof l.icon?l.icon:"").replace(/%action%/g,"undefined"!=typeof l.action?l.action:"add-indicator").replace(/%caption%/g,
l.d);c+=e;l=x.replace(/%id%/g,l.id).replace(/%localization%/g,l.localize).replace(/%css%/g,"undefined"!=typeof l.css?l.css+" button-action "+a:" button-action "+a).replace(/%icon%/g,"undefined"!=typeof l.icon&&""!=l.icon?l.icon:"no-icon").replace(/%caption%/g,l.caption);d+=l}return{toolbar:c,toolbarmore:d}}function X(a,b,c){var d=c="",h="";"undefined"!=typeof m.chart.PriceChartType&&(h=m.chart.PriceChartType);var k="";"undefined"!=typeof a&&(k=a);a="";"undefined"!=typeof b&&(a=b);b=m.init.charttype;
for(var l=0;l<b.length;l++){var e=b[l],f=K.replace(B,"").replace(/%id%/g,e.id).replace(/%css%/g,"undefined"!=typeof e.css?e.css+k:k).replace(/%icon%/g,e.id).replace(/%caption%/g,e.n).replace(/%hide%/g,1==e.f?"":"hideobj").replace(/%selected%/g,null==h||e.id!=h?"":"button-selected");c+=f;f=x.replace(B,"").replace(/%id%/g,e.id).replace(/%css%/g,("undefined"!=typeof e.css?e.css+a:a)+"  change-typechart "+(1==e.f?"":"hideobj")).replace(/%icon%/g,e.id).replace(/%caption%/g,e.n).replace(/%localization%/g,
"menu.charttype."+e.id).replace(/%selected%/g,null==h||e.id!=h?"":"button-selected");d+=f}return{toolbar:c,toolbarmore:d}}function Z(a,b,c){var d="",h="",k="",l="",e="";"undefined"!=typeof a&&(e=a);a="";"undefined"!=typeof b&&(a=b);"undefined"!=typeof m.chart.TimeFrame&&(k=m.chart.TimeFrame.toUpperCase(),l=m.chart.TimeFrame.toLowerCase());b=!1;"undefined"!=typeof c&&"undefined"!=typeof c.captionview&&(b=c.captionview,e+=" onlycaption-view onlycaption-timeframe");var f=!1;"undefined"!=typeof c&&"undefined"!=
typeof c.viewall&&(f=c.viewall);c=m.init.timeframe;for(var U=0;U<c.length;U++){var n=c[U],g="",s=m.api.timeframes.getTimeframeView();switch(s){case "icon":g=H.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%icon%/g,ia(n.id)).replace(/%hide%/g,1==n.f||!0==f?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e:n.css+e).replace(/%selected%/g,n.id==k||n.id==l?"button-selected":"");break;case "text":g=I.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%caption2%/g,!0==b?n.n:"").replace(/%title1%/g,
!0==b?"":n.t1).replace(/%title2%/g,!0==b?"":n.t2).replace(/%hide%/g,1==n.f||!0==f?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e:n.css+e).replace(/%selected%/g,n.id==k||n.id==l?"button-selected":"")}d+=g;switch(s){case "icon":g=x.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.timescale."+n.id).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%icon%/g,ia(n.id)).replace(/%selected%/g,
n.id==k||n.id==l?"button-selected":"");break;case "text":g=R.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.timescale."+n.id).replace(/%title1%/g,n.t1).replace(/%title2%/g,n.t2).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%selected%/g,n.id==k||n.id==l?"button-selected":"")}h+=g}return{toolbar:d,toolbarmore:h}}function ca(a,b,c){var d="";"undefined"!=typeof b&&(d=b);b="";"undefined"!=typeof c&&
(b=c);c=M.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+d:d).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption);a=x.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action "+b:" button-action"+b).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function ma(a,b,c){var d=
"";"undefined"!=typeof b&&(d=b);b="";"undefined"!=typeof c&&(b=c);c=N.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+d:d).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption);a=x.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action-custom "+b:" button-action-custom"+b).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,
a.caption);return{button:c,buttonmore:a}}function da(a,b,c){var d="";"undefined"!=typeof b&&(d=b);b="";"undefined"!=typeof c&&(b=c);c=Q;"undefined"!=typeof a.icon&&""==a.icon&&(c=D);d=c.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+d:d).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%caption%/g,a.caption);a=x.replace(/%id%/g,a.id).replace(/%localization%/g,
a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action "+b:" button-action "+b).replace(/%icon%/g,"undefined"!=typeof a.icon&&""!=a.icon?a.icon:"no-icon").replace(/%caption%/g,a.caption);return{button:d,buttonmore:a}}function ba(a){var b="";"undefined"!=typeof a.location&&(b=b+" loc-"+a.location);return J.replace(/%id%/g,"undefined"!=typeof a.id?a.id:"").replace(/%csstlb%/g,b).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%caption%/g,"undefined"!=typeof a.caption?
a.caption:"")}function aa(a){return L.replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption)}function ea(a){var b="",b="%html%",c="a-top";switch(a.group.possition){case "top":c="a-top";break;case "bottom":c="a-bottom";break;case "left":c="a-left";break;case "right":c="a-right"}var d="a-menu";switch(a.group.type){case "menu":d="a-menu";break;case "tooltip":d=
"a-tooltip"}var h="";"undefined"!=typeof a.group.closebyclick&&!0==a.group.closebyclick&&(h+=" tlb-a-closebyclick");"undefined"!=typeof a.group.changegroupicon&&!0==a.group.changegroupicon&&(h+=" tlb-a-changeicongroup");var k="";"undefined"!=typeof a.css&&(k=a.css);"undefined"!=typeof a.group.grouptype&&(k=k+" group-button-"+a.group.grouptype);A.push({id:a.id,group:a.group});var l="icon";"undefined"!=typeof a.group.viewtype&&(l=a.group.viewtype);var e="";"undefined"!=typeof a.style&&(e=a.style);"undefined"!=
typeof a&&"undefined"!=typeof a.captionview&&(k+=" onlycaption-view");m.api.timeframes.getTimeframeView();var f="";switch(l){case "icon":f=P.replace(B,"").replace(/%localization%/g,a.localize).replace(/%css%/g,k).replace(/%style%/g,e).replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%cssgroup%/g,a.group.css+""+c+" "+d).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id);break;case "text":f=S.replace(B,"").replace(/%localization%/g,a.localize).replace(/%css%/g,k).replace(/%style%/g,
e).replace(/%title1%/g,"undefined"!=typeof a.title1?a.title1:"").replace(/%title2%/g,"undefined"!=typeof a.title2?a.title2:"").replace(/%cssgroup%/g,a.group.css+""+c+" "+d).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id)}for(c=0;c<a.items.length;c++)switch(d=a.items[c],k="",d.type){case "button-group-charttype":k=X(h,void 0,d);f=f.replace(/%html%/g,k.toolbar+"%html%");b=b.replace(/%html%/g,k.toolbarmore+"%html%");break;case "button-group-indicator":k=Y(h,void 0,d);f=f.replace(/%html%/g,k.toolbar+
"%html%");b=b.replace(/%html%/g,k.toolbarmore+"%html%");break;case "item":k=da(d,h,void 0);f=f.replace(/%html%/g,k.button+"%html%");b=b.replace(/%html%/g,k.buttonmore+"%html%");break;case "button-group-timeframe":k=Z(h,void 0,d);f=f.replace(/%html%/g,k.toolbar+"%html%");b=b.replace(/%html%/g,k.toolbarmore+"%html%");break;case "caption":d=aa(d);f=f.replace(/%html%/g,d+"%html%");break;case "space":d=ba(d);f=f.replace(/%html%/g,d+"%html%");break;case "button":k=ca(d,h);f=f.replace(/%html%/g,k.button+
"%html%");b=b.replace(/%html%/g,k.buttonmore+"%html%");break;case "button-group":k=ea(d),f=f.replace(/%html%/g,k.toolbargroup+"%html%"),b=b.replace(/%html%/g,k.toolbarmore+"%html%")}f=f.replace(/%html%/g,"");b=b.replace(/%html%/g,"");return{toolbargroup:f,toolbarmore:b}}function na(){$(p.parent).find(".toolbar-adv .tlb-item-group").each(function(){var a=$(this);"block"==a.find(".tlb-button-groups").css("display")&&ga(a)})}function oa(){$(p.parent).find(".toolbar-adv .tlb-more").each(function(){var a=
$(this),b=$(this).find("button.button-more");"block"==a.find(".tlb-more-items").css("display")&&fa(b)})}function ga(a){var b=a.find(">.button-group"),c=$(b).attr("tid");!0!=$(b).hasClass("highlightedIconGroup")&&$(b).addClass("highlightedIconGroup");for(var b=null,d=0;d<A.length;d++)if(A[d].id==c){b=A[d].group;break}if(null!=b)switch(b.type){case "menu":pa(a,b);break;case "tooltip":qa(a,b)}}function ha(a){var b=a.find(">.button-group"),c=$(b).attr("tid");$(b).removeClass("highlightedIconGroup");a.find(".highlightedIconGroup").removeClass("highlightedIconGroup");
for(var b=null,d=0;d<A.length;d++)if(A[d].id==c){b=A[d].group;break}if(null!=b)switch(b.type){case "menu":ra(a,b);break;case "tooltip":sa(a,b)}}function E(a){a=a.closest(".tlb-item-group");ha(a)}function F(a){var b=a.closest(".tlb-item-group").find("> .button-group"),c=a.attr("data-localize"),d=a.attr("title");a.find(">span").attr("class");b.attr("data-localize",c).attr("title",d);b.html(a.html())}function qa(a,b){var c=a.find(">.tlb-button-groups"),d=c.find(" > ul"),h=c.find(">.tlb-array"),k=a.find(">.button-group");
c.css("visibility","hidden").css("display","block");var l=a.closest(".htmlchart"),e=0,f=0,g=2,n=0,m=0,s=0,f=1,y="",p;"undefined"!=typeof b.spacey&&(g=b.spacey);"undefined"!=typeof b.columns&&(f=b.columns);m=k.outerWidth(!0);n=k.outerHeight(!0);s=parseInt(h.css("border-bottom-width"),10);y=k.offset().left-l.offset().left;p=l.outerWidth()-y;var k=k.offset().top-l.offset().top,l=l.outerHeight()-k,w=0;c.find(">ul").children().each(function(){w<$(this).outerWidth(!0)&&(w=$(this).outerWidth(!0));e+=$(this).outerWidth(!0)});
c.find(">ul").children();0!=f&&(e=w*f);var f=c.outerHeight(),t={};t.width=e+"px";switch(b.possition){case "bottom":t.top=n+g+"px";t.bottom="auto";break;case "top":t.top="auto";t.bottom=n+g+"px";break;case "right":t.right="auto";t.left=m+g+"px";t.top="0px";t.bottom="auto";break;case "left":t.right=m+g+"px",t.left="auto",t.top="0px",t.bottom="auto"}c.css(t);d.css({width:t.width});"undefined"==typeof b.alignh&&(b.alignh="auto");"undefined"==typeof b.alignv&&(b.alignv="auto");d={};g={};if("top"==b.possition||
"bottom"==b.possition)switch(y="auto"==b.alignh?y>e/2&&p>e/2?"center":y>e?"left":p>e?"right":"left":b.alignh,y){case "left":d.right="0px";d.left="auto";g.right="5px";g.left="auto";c.css(d);h.css(g);break;case "right":d.left="0px";d.right="auto";g.left="5px";g.right="auto";c.css(d);h.css(g);break;case "center":d.right=-(e/2-m/2)+"px",d.left="auto",g.left=e/2-s+"px",g.right="auto",c.css(d),h.css(g)}if("left"==b.possition||"right"==b.possition)switch(f=c.outerHeight(),y="auto"==b.alignv?k>f/2&&l>f/2?
"center":k>f?"top":l>f?"bottom":"top":b.alignv,y){case "top":d.bottom="auto";d.top="0px";g.top="5px";g.bottom="auto";c.css(d);h.css(g);break;case "bottom":d.top="auto";d.bottom="0px";g.bottom="5px";g.top="auto";c.css(d);h.css(g);break;case "center":d.top=-(f/2-n/2)+"px",d.bottom="auto",g.top=f/2-s+"px",g.bottom="auto",c.css(d),h.css(g)}h={opacity:1};c.css("display","none").css("opacity",0).css("visibility","");switch(b.possition){case "top":c.css({bottom:"15px",top:"auto"});h.bottom=t.bottom;break;
case "bottom":c.css({top:"15px",bottom:"auto"});h.top=t.top;break;case "right":c.css({left:"15px",right:"auto"});h.left=t.left;break;case "left":c.css({right:"15px",left:"auto"}),h.right=t.right}c.show().animate(h,200)}function sa(a,b){var c=a.find(">.tlb-button-groups"),d={opacity:0};switch(b.possition){case "top":d.bottom="15";break;case "bottom":d.top="15";break;case "right":d.left=15;break;case "left":d.right=15}c.animate(d,200,function(){c.css("display","none")})}function ra(a,b){var c=a.find(">.tlb-button-groups"),
d={opacity:0};switch(b.possition){case "top":d.bottom="15";break;case "bottom":d.top="15";break;case "right":d.left=15;break;case "left":d.right=15}c.animate(d,200,function(){c.css("display","none")})}function pa(a,b){var c=a.find(">.tlb-button-groups"),d=c.find(">.tlb-array"),h=a.find(">.button-group");c.css("visibility","hidden").css("display","block");var k=a.closest(".htmlchart"),l=0,e=0,f=2,g=0,n=e=0,m=0,l=1,s="",p;"undefined"!=typeof b.spacey&&(f=b.spacey);"undefined"!=typeof b.columns&&(l=
b.columns);e=h.outerWidth();g=h.outerHeight();n=parseInt(d.css("border-bottom-width"),10);s=h.offset().left-k.offset().left;p=k.outerWidth()-s;var h=h.offset().top-k.offset().top,k=k.outerHeight()-h,r=0,w=0,t=0,u=0;c.find("ul button ").each(function(){$(this).css({width:"auto","min-width":0});w=$(this).outerWidth();t=$(this).outerWidth(!0);w>r&&(r=w,u=t)});m=r;l*=u;c.css("width",l);var q={};switch(b.possition){case "bottom":q.top=g+f+"px";q.bottom="auto";break;case "top":q.top="auto";q.bottom=g+f+
"px";break;case "right":q.right="auto";q.left=e+f+"px";q.top="0px";q.bottom="auto";break;case "left":q.right=e+f+"px",q.left="auto",q.top="0px",q.bottom="auto"}c.css(q);"undefined"==typeof b.alignh&&(b.alignh="auto");"undefined"==typeof b.alignv&&(b.alignv="auto");var f={},v={};if("top"==b.possition||"bottom"==b.possition)switch(s="auto"==b.alignh?s+e/2>l/2&&p+e/2>l/2?"center":s+e/2>l?"left":p+e/2>l?"right":"center":b.alignh,s){case "left":f.right="0px";f.left="auto";v.right="5px";v.left="auto";c.css(f);
d.css(v);break;case "right":f.left="0px";f.right="auto";v.left="5px";v.right="auto";c.css(f);d.css(v);break;case "center":f.right=-(l/2-e/2)+"px",f.left="auto",v.left=l/2-n+"px",v.right="auto",c.css(f),d.css(v)}if("left"==b.possition||"right"==b.possition)switch(e=c.outerHeight(),s="auto"==b.alignv?h>e/2&&k>e/2?"center":h>e?"top":k>e?"bottom":"top":b.alignv,s){case "top":f.bottom="auto";f.top="0px";v.top="5px";v.bottom="auto";c.css(f);d.css(v);break;case "bottom":f.top="auto";f.bottom="0px";v.bottom=
"5px";v.top="auto";c.css(f);d.css(v);break;case "center":f.top=-(e/2-g/2)+"px",f.bottom="auto",v.top=e/2-n+"px",v.bottom="auto",c.css(f),d.css(v)}c.find("button").css("width",m);d={opacity:1};c.css("display","none").css("opacity",0).css("visibility","");switch(b.possition){case "top":c.css({bottom:"15px",top:"auto"});d.bottom=q.bottom;break;case "bottom":c.css({top:"15px",bottom:"auto"});d.top=q.top;break;case "right":c.css({left:"15px",right:"auto"});d.left=q.left;break;case "left":c.css({right:"15px",
left:"auto"}),d.right=q.right}c.show().animate(d,200)}function fa(a){var b=a.closest(".toolbar-adv"),c=b.attr("tid"),c=V(c).more,d=b.find(".tlb-more-items");d.css("visibility","hidden").css("display","block");var h=b.closest(".htmlchart"),b=d.find(".tlb-array"),k=0,l=0,e=2,f=2,g=0,n=l=0,m=0,k=1,s="",p;"undefined"!=typeof c.spacey&&(e=c.spacey);"undefined"!=typeof c.spacex&&(f=c.spacex);"undefined"!=typeof c.columns&&(k=c.columns);l=a.outerWidth();g=a.outerHeight();n=parseInt(b.css("border-bottom-width"),
10);s=a.offset().left-h.offset().left;p=h.outerWidth()-s;a=a.offset().top-h.offset().top;var h=h.outerHeight()-a,r=0,w=0,t=0,u=0;d.find("ul button ").each(function(){$(this).css({width:"auto","min-width":0});w=$(this).outerWidth();t=$(this).outerWidth(!0);w>r&&(r=w,u=t)});m=r;k*=u;d.css("width",k);var q={};"undefined"==typeof c.possition&&(c.possition="bottom");switch(c.possition){case "bottom":q.top=g+e+"px";q.bottom="auto";break;case "top":q.top="auto";q.bottom=g+e+"px";break;case "right":q.right=
"auto";q.left=l+f+"px";q.top="0px";q.bottom="auto";break;case "left":q.right=l+f+"px",q.left="auto",q.top="0px",q.bottom="auto"}d.css(q);"undefined"==typeof c.alignh&&(c.alignh="auto");"undefined"==typeof c.alignv&&(c.alignv="auto");e={};f={};if("top"==c.possition||"bottom"==c.possition)switch(s="auto"==c.alignh?s>k/2&&p>k/2?"center":s>k?"left":p>k?"right":"left":c.alignh,s){case "left":e.right="0px";e.left="auto";f.right="5px";f.left="auto";d.css(e);b.css(f);break;case "right":e.left="0px";e.right=
"auto";f.left="5px";f.right="auto";d.css(e);b.css(f);break;case "center":e.right=-(k/2-l/2)+"px",e.left="auto",f.left=k/2-n+"px",f.right="auto",d.css(e),b.css(f)}if("left"==c.possition||"right"==c.possition)switch(l=d.outerHeight(),s="auto"==c.alignv?a>l/2&&h>l/2?"center":a>l?"top":h>l?"bottom":"top":c.alignv,s){case "top":e.bottom="auto";e.top="0px";f.top="5px";f.bottom="auto";d.css(e);b.css(f);break;case "bottom":e.top="auto";e.bottom="0px";f.bottom="5px";f.top="auto";d.css(e);b.css(f);break;case "center":e.top=
-(l/2-g/2)+"px",e.bottom="auto",f.top=l/2-n+"px",f.bottom="auto",d.css(e),b.css(f)}d.find(" >ul").css({width:k});d.find(" >ul >li").css({width:m,overflow:"hidden"});d.find("button").css({width:m});b={opacity:1};d.css("display","none").css("opacity",0).css("visibility","");switch(c.possition){case "top":d.css({bottom:"15px",top:"auto"});b.bottom=q.bottom;break;case "bottom":d.css({top:"15px",bottom:"auto"});b.top=q.top;break;case "right":d.css({left:"15px",right:"auto"});b.left=q.left;break;case "left":d.css({right:"15px",
left:"auto"}),b.right=q.right}d.show().animate(b,200)}function C(a){a=a.closest(".toolbar-adv");var b=a.attr("tid"),b=V(b).more,c=a.find(".tlb-more-items");"undefined"==typeof b.possition&&(b.possition="bottom");a={opacity:0};switch(b.possition){case "top":a.bottom="15";break;case "bottom":a.top="15";break;case "right":a.left=15;break;case "left":a.right=15}c.animate(a,200,function(){c.css("display","none")})}function ta(a,b){$(p.parent).find(".toolbar-adv").each(function(){"rtl"==b?$(this).hasClass("dir-rtl")||
$(this).addClass("dir-rtl"):$(this).removeClass("dir-rtl")})}function z(){$(p.parent).find(".toolbar-adv").each(function(){var a=$(this),b=a.attr("tid"),b=V(b);if(null!=b)switch(b.location){case "vertical":ua(a,b);break;case "horizontal":ja(a,b);break;default:ja(a,b)}})}function ja(a,b){var c=a.outerWidth();if("undefined"==typeof c||null==c)c=a.width();a.css("width");var d=0,h=0,k=b.more,l=!1,e=m.apiinit.fn.get("toolbar","iconMoreSizeWidth");a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){h+=
$(this).outerWidth(!0)});h>c&&!1==k.captionview?a.find("> .tlb-caption").addClass("hide-tlb-item"):a.find("> .tlb-caption").removeClass("hide-tlb-item");h>c&&!1==k.spaceview?a.find("> .tlb-space").addClass("hide-tlb-item"):a.find("> .tlb-space").removeClass("hide-tlb-item");h>c&&(l=!0);a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){$(this).hasClass("tlb-caption")&&(h>c&&!1==k.captionview?$(this).addClass("hide-tlb-item"):(d+=$(this).outerWidth(!0),l&&d>c-e?$(this).addClass("hide-tlb-item"):
$(this).removeClass("hide-tlb-item")));$(this).hasClass("tlb-space")&&(h>c&&!1==k.spaceview?$(this).addClass("hide-tlb-item"):(d+=$(this).outerWidth(!0),l&&d>c-e?$(this).addClass("hide-tlb-item"):$(this).removeClass("hide-tlb-item")));if($(this).hasClass("tlb-item"))if(d+=$(this).outerWidth(!0),l&&d>c-e){$(this).addClass("hide-tlb-item");var b=$(this).find("button").attr("tid");a.find(".tlb-more-item button[tid^='"+b+"']").parent().removeClass("hide-more-item")}else $(this).removeClass("hide-tlb-item"),
b=$(this).find("button").attr("tid"),a.find(".tlb-more-item button[tid^='"+b+"']").parent().addClass("hide-more-item")});l&&d>c-e?a.find(".tlb-more").css("display","block"):a.find(".tlb-more").css("display","none")}function ua(a,b){function c(b){$(b).addClass("hide-tlb-item");var c=$(b).find("button").attr("tid");a.find(".tlb-more-item button[tid^='"+c+"']").parent().removeClass("hide-more-item");$(b).hasClass("tlb-item-group")&&h(b)}function d(b){$(b).removeClass("hide-tlb-item");var c=$(b).find("button").attr("tid");
a.find(".tlb-more-item button[tid^='"+c+"']").parent().addClass("hide-more-item");$(b).hasClass("tlb-item-group")&&k(b)}function h(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");a.find(".tlb-more-item button[tid^='"+b+"']").parent().removeClass("hide-more-item")})}function k(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");a.find(".tlb-more-item button[tid^='"+b+"']").parent().addClass("hide-more-item")})}var l=a.parent().outerWidth(),
e=a.parent().outerHeight();if("undefined"==typeof l||null==l)l=a.width();if("undefined"==typeof e||null==e)e=a.height();var f=0,g=0,n=0,p=null,s=0,r=b.more,u=m.apiinit.fn.get("toolbar","iconMoreSizeWidth");a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){f+=$(this).outerHeight(!0);g+=$(this).outerWidth(!0);g>l&&(g=0)});g=0;f>e&&!1==r.captionview?a.find("> .tlb-caption").addClass("hide-tlb-item"):a.find("> .tlb-caption").removeClass("hide-tlb-item");f>e&&!1==r.spaceview?a.find("> .tlb-space").addClass("hide-tlb-item"):
a.find("> .tlb-space").removeClass("hide-tlb-item");a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){$(this).hasClass("tlb-caption")&&(f>e&&!1==r.captionview?$(this).addClass("hide-tlb-item"):(n+=$(this).outerHeight(!0),g=0,$(this).removeClass("hide-tlb-item").css("width",l)));$(this).hasClass("tlb-space")&&($(this).hasClass("loc-horizontal")?!1==r.spaceview?$(this).addClass("hide-tlb-item").css("width",l):(n+=$(this).outerHeight(!0),g=0,n>e?$(this).addClass("hide-tlb-item").css("width",
l):$(this).removeClass("hide-tlb-item").css("width",l)):f>e&&!1==r.spaceview?$(this).addClass("hide-tlb-item"):(g+=$(this).outerWidth(!0),g>e-u?$(this).addClass("hide-tlb-item"):$(this).removeClass("hide-tlb-item")));$(this).hasClass("tlb-item")&&(n+$(this).outerHeight(!0)>e&&(c(this),s=1),n+$(this).outerHeight(!0)<=e&&(g+=$(this).outerWidth(!0),g<l?(0==g&&(n+=$(this).outerHeight(!0)),p=this,n+=$(this).outerHeight(!0),d(this)):(g=$(this).outerWidth(!0),n>e?(c(this),s=1):(p=this,n+=$(this).outerHeight(!0),
d(this)))))});null!=p&&1==s?(c(p),a.find(".tlb-more").css("display","block").insertAfter(p)):a.find(".tlb-more").css("display","none")}function ia(a){if("undefined"==typeof a||null==a)return"";for(var b=0;b<m.init.timeclassmirror.length;b++)if(m.init.timeclassmirror[b].time==a.toLowerCase()||m.init.timeclassmirror[b].time==a.toUpperCase())return m.init.timeclassmirror[b].css;return""}function r(a,b){var c="",d=a.indexOf("<"+b+">"),g=("<"+b+">").length,k=a.indexOf("</"+b+">");-1!=d&&-1!=k&&k>d+g&&
(c=a.substring(d+g,k));return c}function V(a){for(var b=m.currenlayout.toolbars,c=0;c<b.length;c++){var d=b[c];if(d.id==a)return d}return null}function g(a){try{return"undefined"!=typeof p.mycache[a]&&null!=p.mycache[a]?p.mycache[a]:null}catch(b){return null}}function u(a,b){try{p.mycache[a]=b}catch(c){}}var p={},m=ka;m.toolbaradvobj=p;p.mycache={};var B=/=""/g,T=m.api.debug.getLogger("prochart.gui.toolbar");D=Q=S=P=R=x=O=N=M=J=L=K=I=H=G=null;var A=[];p.gui={initPattern:function(){var a=$.Deferred(),
b=!1==m.guiinit.cache?"?"+m.version.gui.name+(new Date).getTime():"?"+m.version.gui.name;$("<div>");b=m.guiinit.rootpath+"/ChartUI/gui/toolbar/toolbar.patterns.htm"+b;if(m.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",b);c.onload=function(){var b=c.responseText;W(b);T.debug("readToolbar Pattern");a.resolve(b)};c.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:b}).done(function(b){W(b);T.debug("readToolbar Pattern");a.resolve(b)});return a.promise()},viewToolbarTop:function(a){!1==
m.guiinit.cache&&(new Date).getTime();p.parent=a;la();"undefined"!=typeof m.localizationobj&&m.localizationobj.gui.updateFromDataLang(a)},viewTimeFrameButton:function(a,b){null==g("$parent .tlb-item button tid="+a)&&u("$parent .tlb-item button tid="+a,g("$parent").find(".tlb-item button[tid^='"+a+"']"));null==g("$parent .tlb-more-item button tid="+a)&&u("$parent .tlb-more-item button tid="+a,g("$parent").find(".tlb-more-item button[tid^='"+a+"']"));var c=g("$parent .tlb-item button tid="+a),d=g("$parent .tlb-more-item button tid="+
a);if(0<c.length||0<d.length){switch(b){case "1":case 1:c.removeClass("hideobj");d.removeClass("hideobj");break;case 0:case "0":c.addClass("hideobj"),d.addClass("hideobj")}z()}},viewTimeFrameButtons:function(a){if(0!=a.length){for(var b=0;b<a.length;b++){var c=a[b];null==g("$parent .tlb-item button tid="+c.id)&&u("$parent .tlb-item button tid="+c.id,g("$parent").find(".tlb-item button[tid^='"+c.id+"']"));null==g("$parent .tlb-more-item button tid="+c.id)&&u("$parent .tlb-more-item button tid="+c.id,
g("$parent").find(".tlb-more-item button[tid^='"+c.id+"']"));var d=g("$parent .tlb-item button tid="+c.id),h=g("$parent .tlb-more-item button tid="+c.id);if(0<d.length||0<h.length)switch(c.f){case "1":case 1:d.removeClass("hideobj");h.removeClass("hideobj");break;case 0:case "0":d.addClass("hideobj"),h.addClass("hideobj")}}z()}},selectedTimeFrameButton:function(a){if("undefined"!=typeof a&&"null"!=a){null==g("$parent .change-timeframe")&&u("$parent .change-timeframe",g("$parent").find(".change-timeframe"));
g("$parent .change-timeframe").removeClass("button-selected");null==g("$parent .change-timeframe itd="+a)&&u("$parent .change-timeframe itd="+a,g("$parent").find(".change-timeframe[tid|='"+a+"']"));var b=g("$parent .change-timeframe itd="+a);0<b.length&&b.addClass("button-selected");b.attr("data-localize");b.attr("title");b.find(">span").attr("class");g("$parent").find(".group-button-timescale").each(function(){$(this).html(b.html())})}},selectedChartTypeButton:function(a){if("undefined"!=typeof a&&
"null"!=a){null==g("$parent .change-typechart")&&u("$parent .change-typechart",g("$parent").find(".change-typechart"));g("$parent .change-typechart").removeClass("button-selected");null==g("$parent .change-typechart tid="+a)&&u("$parent .change-typechart tid="+a,g("$parent").find(".change-typechart[tid|='"+a+"']"));var b=g("$parent .change-typechart tid="+a);0<b.length&&b.addClass("button-selected");b.attr("data-localize");b.attr("title");b.find(">span").attr("class");g("$parent").find(".group-button-charttype").each(function(){$(this).html(b.html())})}},
viewTypeChartButton:function(a,b){null==g("$parent .tlb-item button tid="+a)&&u("$parent .tlb-item button tid="+a,g("$parent").find(".tlb-item button[tid|='"+a+"']"));null==g("$parent .tlb-more-item button tid="+a)&&u("$parent .tlb-more-item button tid="+a,g("$parent").find(".tlb-more-item button[tid|='"+a+"']"));var c=g("$parent .tlb-item button tid="+a),d=g("$parent .tlb-more-item button tid="+a);if(0<c.length||0<d.length){switch(b){case 1:c.removeClass("hideobj");d.removeClass("hideobj");break;
case 0:c.addClass("hideobj"),d.addClass("hideobj")}z()}},viewTypeChartButtons:function(a){if(0!=a.length){for(var b=0;b<a.length;b++){var c=a[b];null==g("$parent .tlb-item button tid="+c.id)&&u("$parent .tlb-item button tid="+c.id,g("$parent").find(".tlb-item button[tid|='"+c.id+"']"));null==g("$parent .tlb-more-item button tid="+c.id)&&u("$parent .tlb-more-item button tid="+c.id,g("$parent").find(".tlb-more-item button[tid|='"+c.id+"']"));var d=g("$parent .tlb-item button tid="+c.id),h=g("$parent .tlb-more-item button tid="+
c.id);if(0<d.length||0<h.length)switch(c.f){case 1:case "1":d.removeClass("hideobj");h.removeClass("hideobj");break;case 0:case "0":d.addClass("hideobj"),h.addClass("hideobj")}}z()}},updateTimesScale:function(a){if("undefined"!=typeof a&&null!=a){null==g("$parent .change-timeframe")&&u("$parent .change-timeframe",$(p.parent).find(".change-timeframe"));var b=g("$parent .change-timeframe");"undefined"!=typeof a.timescales&&null!=a.timescales?(b.addClass("disabled"),a.timescales.forEach(function(a){$(p.parent).find('.change-timeframe[tid="'+
a+'"]').removeClass("disabled")})):b.removeClass("disabled")}},adjustSize:z,changeLocalization:function(a,b){z();ta(a,b);na();oa()},hideopengroup:function(){var a=$(p.parent);a.find(".tlb-button-groups").css("display","none");a.find(".tlb-more-items").css("display","none")},changeIcon:function(a,b){$(p.parent).find("button.icon-button > span."+a).removeClass(a).addClass(b)}};return p};
function ProChart_InitTrade(n){function g(a){$("#chart-dialog #trade-inner").html(a);$("#order-type").html(b.strOrder.toUpperCase());$("#order-symbol").html(b.strSymbol);$("#order-status").html(b.strStatus);$("#order-id").html(b.strUID);switch(b.strOrder){case "buy":$("#order-type").addClass("orderbuy").removeClass("ordersell").attr("data-localize","dialogs.trade.trade-buy");break;case "sell":$("#order-type").addClass("ordersell").removeClass("orderbuy").attr("data-localize","dialogs.trade.trade-sell")}a=
$("#in-tradevalue");$(a).val(b.fValue);a=$("#in-stoploss");$(a).val(b.fStopLoss);a=$("#in-tekeprofit");$(a).val(b.fTakeProfit);a=$("#input-text");$(a).val(b.strDescription);""==b.strUID&&$("#btn-order-delete").css("display","none");p();$(".chart-ui-dialog .onlynumeric").prochart_numeric();$("#chart-dialog").dialog("open")}function q(a,d){function f(a){$(a).find(".ui-dialog-buttonset").prepend('<button class="chart-button adv-buttons eye-orange " type="button" title="" ></button>').on("click",function(){var a=
$(".chart-ui-dialog.trade-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.trade-dialog").css("opacity",a);$(this).css("opacity",b)})}$('<div id="chart-dialog" title="'+d+'"><div id="trade-inner" class="dialog_level"></div></div>').insertAfter("body");var e="Apply Order",h="Cancel",m="Delete Order",g="";"undefined"!=typeof c.localizationobj&&(h=c.localizationobj.gui.returnLocalizationString("dialogs.common.button-cancel","Cancel"),e=c.localizationobj.gui.returnLocalizationString("dialogs.common.button-applyorder",
"Apply Order"),m=c.localizationobj.gui.returnLocalizationString("dialogs.common.button-deleteorder","Delete Order"));"undefined"!=typeof c.init.TemplateName&&(g=c.init.TemplateName);var k="";"rtl"==c.localizationobj.gui.returnCurrentLanguage().direction&&(k="dir-rtl");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog trade-dialog "+g+" "+k,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){f($(this).parent());"undefined"!=typeof c.localizationobj&&
c.localizationobj.gui.updateFromDataLang($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")})},close:function(a,d){c.chart.TradeOrders.EndOrderEdit();""==b.strUID&&b.Cancel();l.TradeOrders.Refresh();$(".chart-ui-dialog.trade-dialog").off();$(".chart-ui-dialog.trade-dialog  adv-buttons.eye-orange").off().remove();$("#chart-dialog").remove()},buttons:[{id:"btn-order-apply",text:e,click:function(){b.fValue=parseFloat($("#in-tradevalue").val());b.fStopLoss=
parseFloat($("#in-stoploss").val());b.fTakeProfit=parseFloat($("#in-tekeprofit").val());b.strDescription=$("#input-text").val();l.TradeOrders.Confirm(b);$(this).dialog("close")}},{id:"btn-order-delete",text:m,click:function(){l.TradeOrders.Delete(b);$(this).dialog("close")}},{id:"btn-order-cancel",text:h,click:function(){$(this).dialog("close")}}]})}function p(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),b=$(a).find(".properties-tabs a").index(this);
$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(b).css("display","block");$(this).addClass("active")})}var f={},c=n;c.api.debug.getLogger("prochart.gui.trade");var k="",b=null,l=null;c.tradeobj=f;f.gui={openTradeDialog:function(a,d,f){k="%ordertype% (%ordervalue% ; %stoploss% ; %takeprofit% ) %ordersymbol% ".replace("%ordertype%",d.strOrder.toUpperCase()).replace("%ordervalue%",
d.fValue).replace("%stoploss%",d.fStopLoss).replace("%ordersymbol%",d.strSymbol).replace("%takeprofit%",d.fTakeProfit);b=d;l=f;a=!1==c.guiinit.cache?"?"+c.version.gui.name+(new Date).getTime():"?"+c.version.gui.name;q("gannfan",k);a=c.guiinit.rootpath+"/ChartUI/gui/trade/trade.htm"+a;if(c.navigator.XMLHttpRequest()){var e=new XMLHttpRequest,h=$.Deferred();e.open("get",a);e.onload=function(){var a=e.responseText;g($(a).find("#dlg-trade"));h.resolve(a)};e.send();return h}return $.ajax({type:"GET",async:!0,
dataType:"html",url:a,success:function(a){g($(a).find("#dlg-trade"))}})}};return f};
function ProChart_InitPanels(ya){var L,K,R,U,V,W,X,S,Y,Z;function da(c){E(c,"panel_containe");L=E(c,"panel_price");K=E(c,"panel_study");R=E(c,"panel_splitter");U=E(c,"legend_price");V=E(c,"legend_study");W=E(c,"legend_compare");X=E(c,"legend_plugin");S=E(c,"signal");Y=E(c,"htmlcontainer");Z=E(c,"panels-toolbar");L=L.replace(/%=""/g,"%");K=K.replace(/%=""/g,"%")}function ea(){var c=w.length;D();for(var b=0;b<c;b++)switch(w[b].type){case "price":fa(w[b].id);break;case "study":ga(w[b].id);break;case "signal":aa(w[b].id)}}
function J(){var c=$(f.init.chartcontainer);if(2>d.length)A=[],$(c).find(".chart-pane-splitter").remove();else{for(var b=[],c=[],a=0;a<d.length-1;a++)b.push({pane_before_guiid:d[a].guiid,pane_after_guiid:d[a+1].guiid});for(a=A.length-1;0<=a;a--){for(var e=!1,p=0;p<b.length;p++)A[a].pane_before_guiid==b[p].pane_before_guiid&&A[a].pane_after_guiid==b[p].pane_after_guiid&&(e=!0);e||((p=$("#"+A[a].guiid))&&p.remove(),A.splice(a,1))}for(p=0;p<b.length;p++){e=!1;for(a=0;a<A.length;a++)A[a].pane_before_guiid==
b[p].pane_before_guiid&&A[a].pane_after_guiid==b[p].pane_after_guiid&&(e=!0);e||c.push({pane_before_guiid:b[p].pane_before_guiid,pane_after_guiid:b[p].pane_after_guiid})}for(p=0;p<c.length;p++)b=za(c[p].pane_before_guiid,c[p].pane_after_guiid),$("#"+b.guiid).prochart_splitterh({handle:"",cursor:"n-resize",min:50,start:function(){f.chart.EnableSplitMode(!0)},resizing:function(a,b){for(var c=0;c<a.length;c++){var e=a[c];if("undefined"!=typeof e)for(var g=0;g<d.length;g++)if(d[g].guiid==e.id)switch(d[g].type){case "price":ba(d[g],
e.width,e.height);if("undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g]);break;case "study":ha(d[g],e.width,e.height);if("undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g]);break;case "signal":if(ia(d[g],e.width,e.height),"undefined"!=typeof d[g].onResizePanel&&"function"==typeof d[g].onResizePanel)d[g].onResizePanel(d[g])}}b&&f.chart.AdjustSize(null,null)},completed:function(){f.chart.AdjustSize(null,
null);f.chart.EnableSplitMode(!1)}})}}function ja(c){for(var b=0;b<c.length;b++){for(var a=0;a<w.length;a++)w[a].id==c[b].id&&w.splice(a,1);for(a=0;a<d.length;a++)if(d[a].id==c[b].id){B.guiid==d[a].guiid&&(B.guiid=null);var e=d[a],p="#"+e.guiid;if(p=$(f.init.chartcontainer).find(p)){p.remove();try{var r="#"+e.legend.guiid;try{var n=Object.keys(x.mycache);G.debug("Keys of cache",Object.keys(x.mycache));for(e=0;e<n.length;e++)n[e].startsWith(r)&&delete x.mycache[n[e]];G.debug("Keys of cache",Object.keys(x.mycache))}catch(l){G.error(l)}}catch(m){}}d.splice(a,
1)}}D();M();J();ca();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c}function ka(c){30<=f.api.debug.level&&console.time("cache");for(var b=0;b<c.length;b++){var a=c[b],e=a.id,p="";try{var r;a:{for(var n=0;n<d.length;n++)if(d[n].id==e&&("price"==d[n].type||"study"==d[n].type||"plugin"==d[n].type||"signal"==d[n].type)){r=d[n];break a}r=null}p=r.type}catch(l){G.warn("Not found panel and panel type",e);continue}for(var n=[],m=0;m<a.fields.length;m++)switch(a.fields[m].type){case "price":try{if(!0==
f.currenlayout.chart_panels.price.legend.view){var g=a.fields[m],k=Q(e);if(null!=k){if(null==h("#"+k+"#"+g.uid)){var Aa=U.replace(/%id%/g,g.uid).replace(/%item_id%/g,g.editIdx).replace(/%visible%/g,g.visible?"":"legend-visible-off").replace(/%item_type%/g,g.type);null==h("#"+k)&&u("#"+k,$("#"+k));h("#"+k).append(Aa)}null==h("#"+k+"#"+g.uid)&&u("#"+k+"#"+g.uid,h("#"+k).find("#"+g.uid));f.api.debug.level=0;var s=h("#"+k+"#"+g.uid);null==h("#"+k+"#"+g.uid+".legend-price-description")&&(u("#"+k+"#"+g.uid+
".legend-price-description",s.find(".legend-price-description")),30<=f.api.debug.level&&console.log("legend-price-description"));h("#"+k+"#"+g.uid+".legend-price-description").html(g.name);null==h("#"+k+"#"+g.uid+".legend-price-open.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-open.legend-title",s.find(".legend-price-open.legend-title")),30<=f.api.debug.level&&console.log("legend-price-open.legend-title"));h("#"+k+"#"+g.uid+".legend-price-open.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+
g.captions[0],g.captions[0]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-low.legend-title")&&u("#"+k+"#"+g.uid+".legend-price-low.legend-title",s.find(".legend-price-low.legend-title"));h("#"+k+"#"+g.uid+".legend-price-low.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+g.captions[1],g.captions[1]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-high.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-high.legend-title",s.find(".legend-price-high.legend-title")),
30<=f.api.debug.level&&console.log("legend-price-high.legend-title"));h("#"+k+"#"+g.uid+".legend-price-high.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+g.captions[2],g.captions[2]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-close.legend-title")&&(u("#"+k+"#"+g.uid+".legend-price-close.legend-title",s.find(".legend-price-close.legend-title")),30<=f.api.debug.level&&console.log("legend-price-close.legend-title"));h("#"+k+"#"+g.uid+".legend-price-close.legend-title").html(f.localizationobj.gui.returnLocalizationString("chart."+
g.captions[3],g.captions[3]).toLowerCase());null==h("#"+k+"#"+g.uid+".legend-price-open.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-open.legend-value",s.find(".legend-price-open.legend-value")),30<=f.api.debug.level&&console.log("legend-price-open.legend-value"));h("#"+k+"#"+g.uid+".legend-price-open.legend-value").css("color",g.colors[0]).html(g.values[0]);null==h("#"+k+"#"+g.uid+".legend-price-low.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-low.legend-value",s.find(".legend-price-low.legend-value")),
30<=f.api.debug.level&&console.log("legend-price-low.legend-value"));h("#"+k+"#"+g.uid+".legend-price-low.legend-value").css("color",g.colors[1]).html(g.values[1]);null==h("#"+k+"#"+g.uid+".legend-price-high.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-high.legend-value",s.find(".legend-price-high.legend-value")),30<=f.api.debug.level&&console.log("legend-price-high.legend-valu"));h("#"+k+"#"+g.uid+".legend-price-high.legend-value").css("color",g.colors[2]).html(g.values[2]);null==h("#"+k+"#"+
g.uid+".legend-price-close.legend-value")&&(u("#"+k+"#"+g.uid+".legend-price-close.legend-value",s.find(".legend-price-close.legend-value")),30<=f.api.debug.level&&console.log("legend-price-close.legend-value"));h("#"+k+"#"+g.uid+".legend-price-close.legend-value").css("color",g.colors[3]).html(g.values[3])}n.push(a.fields[m].uid)}}catch(v){}break;case "study":switch(p){case "price":try{!0==f.currenlayout.chart_panels.price.legend.view&&la(e)&&(ma(e,a.fields[m]),n.push(a.fields[m].uid))}catch(w){}break;
case "study":try{!0==f.currenlayout.chart_panels.study.legend.view&&la(e)&&(ma(e,a.fields[m]),n.push(a.fields[m].uid))}catch(B){}}break;case "compare":try{if(!0==f.currenlayout.chart_panels.price.legend.view){var t=e,q=a.fields[m],C=Q(t);if(null!=C){if(null==h("#"+C+"#"+q.uid)){var y=W.replace(/%item_id%/g,q.editIdx).replace(/%item_type%/g,q.type).replace(/%visible%/g,q.visible?"":"legend-visible-off").replace(/%css%/g,!1==N(t)||"false"==N(t)?" hide-legend":"").replace(/%id%/g,q.uid);$("#"+C).append(y)}null==
h("#"+C+"#"+q.uid)&&u("#"+C+"#"+q.uid,$("#"+C).find("#"+q.uid));var F=h("#"+C+"#"+q.uid);null==h("#"+C+"#"+q.uid+" .legend-compare-description")&&u("#"+C+"#"+q.uid+" .legend-compare-description",F.find(".legend-compare-description"));h("#"+C+"#"+q.uid+" .legend-compare-description").html(q.captions[0]);null==h("#"+C+"#"+q.uid+" .legend-compare-value")&&u("#"+C+"#"+q.uid+" .legend-compare-value",F.find(".legend-compare-value"));h("#"+C+"#"+q.uid+" .legend-compare-value").css("color",q.colors[0]).html(q.values[0])}n.push(a.fields[m].uid)}}catch(A){}break;
case "plugin":try{if(!0==f.currenlayout.chart_panels.plugin.legend.view){var t=e,z=a.fields[m],H=Q(t);if(null!=H){if(null==h("#"+H+"#"+z.uid)){var E="";"undefined"!=z.titlelocalize&&(E='data-localize="'+z.titlelocalize+'"');var I=X.replace(/%display-closebt%/g,z.closeBtn?"":"display:none").replace(/%item_id%/g,z.editIdx).replace(/%item_type%/g,z.type).replace(/%legend_title_localization%/g,E).replace(/%visible%/g,z.visible?"":"legend-visible-off").replace(/%css%/g,!1==N(t)||"false"==N(t)?" hide-legend":
"").replace(/%id%/g,z.uid);$("#"+H).append(I)}null==h("#"+H+"#"+z.uid)&&u("#"+H+"#"+z.uid,$("#"+H).find("#"+z.uid));var L=h("#"+H+"#"+z.uid);null==h("#"+H+"#"+z.uid+" .legend-plugin-description")&&u("#"+H+"#"+z.uid+" .legend-plugin-description",L.find(".legend-plugin-description"));h("#"+H+"#"+z.uid+" .legend-plugin-description").html(z.name)}n.push(a.fields[m].uid)}}catch(K){}}a=[];e=Q(e);a=x.mycache["#"+e+">legends:"];"undefined"==typeof a&&(a=[]);a=f.commonutils.func.intersection_difference(a,
n).res2;for(p=0;p<a.length;p++){$("#"+e).find("#"+a[p]).remove();G.debug("Not-used legend's id:"+e+"dif[k] :"+a[p]);m="#"+e+"#"+a[p];try{var D=Object.keys(x.mycache);G.debug("Keys of cache",Object.keys(x.mycache));for(t=0;t<D.length;t++)D[t].startsWith(m)&&delete x.mycache[D[t]];G.debug("Keys of cache",Object.keys(x.mycache))}catch(J){G.error(J)}}x.mycache["#"+e+">legends:"]=n}Ba();Ca();Da()}function ma(c,b){var a=Q(c);if(null!=a){if(null==h("#"+a+"#"+b.uid)){var e=V.replace(/%display-closebt%/g,
b.closeBtn?"":"display:none").replace(/%item_id%/g,b.editIdx).replace(/%item_type%/g,b.type).replace(/%visible%/g,b.visible?"":"legend-visible-off").replace(/%id%/g,b.uid).replace(/%css%/g,!1==N(c)||"false"==N(c)?" hide-legend":"");null==h("#"+a)&&u("#"+a,$("#"+a));h("#"+a).append(e);if(1<b.values.length){null==h("#"+a+"#"+b.uid+".legend-study-values")&&u("#"+a+"#"+b.uid+".legend-study-values",$("#"+b.uid).find(".legend-study-values"));e=h("#"+a+"#"+b.uid+".legend-study-values");null==h("#"+a+"#"+
b.uid+".legend-study-values .legend-study-value")&&u("#"+a+"#"+b.uid+".legend-study-values .legend-study-value",h("#"+a+"#"+b.uid+".legend-study-values").find(".legend-study-value"));for(var d=h("#"+a+"#"+b.uid+".legend-study-values .legend-study-value").clone(!0),r=0;r<b.values.length-1;r++)e.append(d.clone(!0))}}e="";for(d=0;d<b.sources.length;d++)d<b.sources.length&&0<e.length&&(e+=","),e+=f.localizationobj.gui.returnLocalizationString("dialogs.indicator.source."+b.sources[d],b.sources[d]).toLowerCase();
for(d=0;d<b.params.length;d++)d<b.params.length&&0<e.length&&(e+=","),e+=b.params[d];0<e.length&&(e="("+e+")");null==h("#"+a+"#"+b.uid)&&u("#"+a+"#"+b.uid,$("#"+a).find("#"+b.uid));d=h("#"+a+"#"+b.uid);null==h("#"+a+"#"+b.uid+" .legend-study-description")&&u("#"+a+"#"+b.uid+" .legend-study-description",d.find(".legend-study-description"));h("#"+a+"#"+b.uid+" .legend-study-description").html(b.name);null==h("#"+a+"#"+b.uid+" .legend-study-params")&&u("#"+a+"#"+b.uid+" .legend-study-params",d.find(".legend-study-params"));
h("#"+a+"#"+b.uid+" .legend-study-params").html(e);null==h("#"+a+"#"+b.uid+" .legend-study-value")&&u("#"+a+"#"+b.uid+" .legend-study-value",d.find(".legend-study-value"));a=h("#"+a+"#"+b.uid+" .legend-study-value");for(e=0;e<b.values.length;e++)a.eq(e).css("color",b.colors[e]).html(b.values[e]?b.values[e]:"NaN")}}function ca(){null!=B.guiid&&($("#"+B.guiid).find(".controlpanel-button-selected").removeClass("controlpanel-button-selected"),B.guiid=null)}function na(){$(f.init.chartcontainer).find(".controlpanel-down").off().on("click",
function(){var c=$(this).attr("itemid");oa(c,"down")})}function pa(){$(f.init.chartcontainer).find(".controlpanel-up").off().on("click",function(){var c=$(this).attr("itemid");oa(c,"up")})}function oa(c,b){var a,e,p,r,n,l,m,g,k;if(!(2>d.length)){var h=["price","study"];switch(b){case "up":k=g=m=l=n=r=p=e=null;for(a=0;a<d.length;a++)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[d.length-1].guiid,e=d[d.length-1].id,O(d,m,d.length-
1),$("#"+a).after($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"bottom")):(O(d,m,p),$("#"+e).before($("#"+l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J();break;case "down":k=g=m=l=n=r=p=e=null;for(a=d.length-1;-1<a;a--)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[0].guiid,e=d[0].id,O(d,m,0),$("#"+a).before($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"top")):(O(d,m,p),$("#"+e).after($("#"+
l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J();break;case "top":k=g=m=l=n=r=p=e=null;for(a=d.length-1;-1<a;a--)if(d[a].guiid==c){l=d[a].guiid;m=a;g=d[a].id;k=d[a].type;break}else e=d[a].guiid,p=a,r=d[a].id,n=d[a].type;null==e?(a=d[0].guiid,e=d[0].id,O(d,m,0),$("#"+a).before($("#"+l)),-1<h.indexOf(k)&&f.chart.SwitchPanels(g,e,"top")):(O(d,m,p),$("#"+e).after($("#"+l)),-1<h.indexOf(n)&&-1<h.indexOf(k)&&f.chart.SwitchPanels(r,g,"normal"));J()}}}function O(c,b,a){var e=
c[b];c.splice(b,1);c.splice(a,0,e)}function qa(){$(f.init.chartcontainer).find(".controlpanel-window").off().on("click",function(){var c=$(this).attr("itemid");$(this).toggleClass("controlpanel-button-selected");B.guiid=B.guiid==c?null:c;M();f.chart.AdjustSize(null,null)})}function ra(){$(f.init.chartcontainer).find(".controlpanel-close").off().on("click",function(){var c=$(this).attr("panelid");f.chart.DeletePanel(c)})}function Ba(){$(".legend-button-close").off().on("click",function(){var c=$(this).attr("itemid"),
b=$(this).attr("itemtype");switch(b){case "plugin":f.signals.gui.pluginDelete(c);break;default:f.chart.legend.Delete(c,b)}})}function Da(){$(".legend-button-visible").off().on("click",function(){var c=$(this).attr("itemid"),b=$(this).attr("itemtype"),a=$(this).hasClass("legend-visible-off");f.chart.legend.SetVisible(c,b,a);$(this).toggleClass("legend-visible-off")})}function Ca(){$(".legend-button-properties").off().on("click",function(){var c=$(this).attr("itemid"),b=$(this).attr("itemtype");switch(b){case "plugin":f.signals.gui.pluginOpenDialog(c);
break;default:f.chart.legend.Edit(c,b,!1)}})}function Q(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))return d[b].legend.guiid;return null}function la(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))switch(d[b].type){case "price":try{return f.currenlayout.chart_panels.price.collapselegend.collapseopen||f.currenlayout.chart_panels.price.collapselegend.view}catch(a){return!0}case "study":try{return f.currenlayout.chart_panels.study.collapselegend.collapseopen||
f.currenlayout.chart_panels.study.collapselegend.view}catch(e){return!0}case "plugin":return!0;case "signal":return!0}}function N(c){for(var b=0;b<d.length;b++)if(d[b].id==c&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type)){if("undefined"!=typeof d[b].legend.collapseopen)return d[b].legend.collapseopen;switch(d[b].type){case "price":try{return"undefined"!=typeof f.currenlayout.chart_panels.price.collapselegend.collapseopen?f.currenlayout.chart_panels.price.collapselegend.collapseopen:
!0}catch(a){return!0}case "study":try{return"undefined"!=typeof f.currenlayout.chart_panels.study.collapselegend.collapseopen?f.currenlayout.chart_panels.study.collapselegend.collapseopen:!0}catch(e){return!0}}}return!0}function M(){D();for(var c=0;c<d.length;c++)switch(d[c].type){case "price":ba(d[c],null,null);if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);y(d[c],"controlpanel");y(d[c],"zoom");y(d[c],"legend");y(d[c],"lastupdate");y(d[c],
"communic");y(d[c],"axisxalert");break;case "study":ha(d[c],null,null);y(d[c],"controlpanel");y(d[c],"legend");if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);break;case "splitter":sa(d[c]);break;case "signal":ia(d[c]);if("undefined"!=typeof d[c].onResizePanel&&"function"==typeof d[c].onResizePanel)d[c].onResizePanel(d[c]);y(d[c],"controlpanel");y(d[c],"legend")}}function y(c,b){try{var a=f.currenlayout.chart_panels[c.type][b];"undefined"!=
typeof a&&"undefined"!=typeof a.view&&!0==a.view?"controlpanel"==b&&1==d.length?$("#"+c[b].guiid).css("display","none"):$("#"+c[b].guiid).css("display","block"):$("#"+c[b].guiid).css("display","none")}catch(e){}}function ta(){for(var c=0;c<A.length;c++)switch(A[c].type){case "splitter":sa(A[c])}}function fa(c){var b=$(f.init.chartcontainer),a=f.currenlayout.chart_panels.unit;if(null!=L){var e=f.commonutils.func.returnShortUniqID(),p=f.commonutils.func.returnShortUniqID(),r=f.commonutils.func.returnShortUniqID(),
n=f.commonutils.func.returnShortUniqID(),l=f.commonutils.func.returnShortUniqID(),m=f.commonutils.func.returnShortUniqID(),g=f.commonutils.func.returnShortUniqID(),k=f.commonutils.func.returnShortUniqID(),h=f.commonutils.func.returnShortUniqID(),u=f.commonutils.func.returnShortUniqID(),w=f.commonutils.func.returnShortUniqID(),y=f.commonutils.func.returnShortUniqID(),B=f.commonutils.func.returnShortUniqID(),t=ua(),q=L.replace(T,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(t.panelsize,
a)),q=q.replace(/%main-id%/g,p).replace(/%main-style%/g,s(t.innermainsize,a)),q=q.replace(/%x-id%/g,m).replace(/%date-style%/g,s(t.dateaxissize,a)),q=q.replace(/%y-id%/g,r).replace(/%price-style%/g,s(t.priceaxissize,a)),q=q.replace(/%legend-id%/g,g).replace(/%legend-style%/g,s(t.legendsize,a)),q=q.replace(/%wm-id%/g,u).replace(/%watermark-style%/g,s(t.watermarksize,a)),q=q.replace(/%cp-id%/g,h).replace(/%cp-style%/g,s(t.controlpanelsize,a)).replace(/%item-id%/g,e),q=q.replace(/%zoom-id%/g,k).replace(/%zoom-style%/g,
s(t.zoomsize,a)),q=q.replace(/%lastupdate-id%/g,y).replace(/%lastupdate-style%/g,s(t.lastupdatesize,a,1)),q=q.replace(/%communic-id%/g,B).replace(/%communic-style%/g,s(t.communicsize,a,1)),q=q.replace(/%xalert-id%/g,n).replace(/%xalert-style%/g,s(t.axisxalertsize,a)),q=q.replace(/%xmsg-id%/g,l).replace(/%xmsg-style%/g,s(t.axisxmsgsize,a)),u="";try{if("undefined"!=typeof f.currenlayout.chart_panels.price.htmlcontainers){var C=f.currenlayout.chart_panels.price.htmlcontainers;if("undefined"!=typeof C.items)for(var E=
0;E<C.items.length;E++){var F=C.items[E],A="";"undefined"!=typeof F.css&&(A=F.css);var z="";"undefined"!=typeof F.content&&(z=F.content);var H="",D=f.commonutils.func.returnShortUniqID();"undefined"!=typeof F.id&&(H=F.id);var G=v({width:f.currenlayout.chart.width,height:I.price.height},F),u=u+Y.replace(/%id%/g,D).replace(/%css%/g,A+" price-html-container").replace(/%style%/g,s(G,a,1));0<H.length&&(x.htmlcustomcontainers[H]=D);if("undefined"!=typeof F.items)for(z="",A=0;A<F.items.length;A++){var J=
F.items[A];switch(J.type){case "toolbar":var K=Ea(J),z=z+K}}u=u.replace(/%html%/g,z)}}}catch(M){}q=q.replace(/%htmlcontainers%/g,u);if("undefined"!=typeof f.currenlayout.chart_panels.price.collapselegend){C=!1==f.currenlayout.chart_panels.price.collapselegend.collapseopen||"false"==f.currenlayout.chart_panels.price.collapselegend.collapseopen?!1:!0;F=G=D=D="";try{D=f.currenlayout.chart_panels.price.collapselegend.title_1,G=f.currenlayout.chart_panels.price.collapselegend.title_2}catch(N){}D=!1==C?
D:G;F=!1==C?" collapsebutton_close":" collapsebutton_open";q=q.replace(/%collapselegend-id%/g,w).replace(/%title1%/g,D).replace(/%collapseopen%/g,C).replace(/%caption%/g,"").replace(/ %collapsebuttoncss%/g,F).replace(/%collapselegend-style%/g,s(t.collapselegend,a,1).replace("pointer-events:none",""))}else q=q.replace(/%collapselegend-id%/g,"").replace(/%title1%/g,"").replace(/%collapseopen%/g,"").replace(/%caption%/g,"").replace(/%collapselegend-id%/g,w).replace(/%collapselegend-style%/g,'style=" display:none; "');
b.append(q);d.push({id:c,guiid:e,type:"price",width:t.panelsize.width+a,height:t.panelsize.height+a,y:{guiid:r,width:t.priceaxissize.width+a,height:t.priceaxissize.height+a},x:{guiid:m,width:t.dateaxissize.width+a,height:t.dateaxissize.height+a},axisxalert:{guiid:n,width:t.axisxalertsize.width+a,height:t.axisxalertsize.height+a},axisxmsg:{guiid:l,width:t.axisxmsgsize.width+a,height:t.axisxmsgsize.height+a},main:{guiid:p,width:t.innermainsize.width+a,height:t.innermainsize.height+a},legend:{guiid:g},
zoom:{guiid:k},controlpanel:{guiid:h},lastupdate:{guiid:y},communic:{guiid:B}})}$("#"+e).find("button.button-action").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof f.actions)switch(a){case "legend-collapse":var b=e,c=f.commonutils.func.toBool($(this).attr("collapseopen")),g="",k="";try{g=f.currenlayout.chart_panels.price.collapselegend.title_1,k=f.currenlayout.chart_panels.price.collapselegend.title_2}catch(p){}f.actions.action(a,b,c);$(this).attr("collapseopen",
!0==c?!1:!0);$(this).find("b").html(!1==c?k:g);a:for(a=e,c=!0==c?!1:!0,b=0;b<d.length;b++)if(d[b].guiid==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type)){d[b].legend.collapseopen=c;break a}}})}function Ea(c){var b=f.commonutils.func.returnShortUniqID();c.guiid=b;var a=Z.replace(T,"").replace(/%id%/g,b).replace(/%style%/g,Fa(c.possition));c.fns=[];c.fns.push({prop:"view",actions:["$('#"+b+"').css('display',%value%?'block':'none')"]});c.possition.fns=[];for(var e=
"right left width height top bottom".split(" "),d=0;d<e.length;d++)c.possition.fns.push({prop:e[d],actions:["$('#"+b+"').css('"+e[d]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]});return{header:a}}function Fa(c,b){var a="",a="undefined"==typeof c.position?a+"position :absolute;":a+"position :"+c.position+"; ",e="px";"undefined"!=typeof b&&null!=b&&(e=b);"undefined"!=typeof c.display&&(a=a+"display :"+c.display+";");"undefined"!=typeof c.left&&(a=a+"left :"+P(c.left,e)+"; ");"undefined"!=typeof c.right&&
(a=a+"right :"+P(c.right,e)+"; ");"undefined"!=typeof c.top&&(a=a+"top :"+P(c.top,e)+"; ");"undefined"!=typeof c.bottom&&(a=a+"bottom :"+P(c.bottom,e)+"; ");"undefined"!=typeof c.width&&(a=a+"width :"+P(c.width,e)+"; ");"undefined"!=typeof c.height&&(a=a+"height :"+P(c.height,e)+"; ");"undefined"!=typeof c.view&&!0!=c.view&&(a+="display : none; ");return 0<a.length?'style="'+a+'"':null}function ga(c,b){var a=$(f.init.chartcontainer),e=f.currenlayout.chart_panels.unit;if(null!=K){var p=f.commonutils.func.returnShortUniqID(),
r=f.commonutils.func.returnShortUniqID(),n=f.commonutils.func.returnShortUniqID(),l=f.commonutils.func.returnShortUniqID(),m=f.commonutils.func.returnShortUniqID(),g=f.commonutils.func.returnShortUniqID(),k=va(),h=K.replace(T,"").replace(/%id%/g,p).replace(/%guiid%/g,p).replace(/%pane-style%/g,s(k.panelsize,e)),h=h.replace(/%main-id%/g,r).replace(/%main-style%/g,s(k.innermainsize,e)),h=h.replace(/%x-id%/g,l).replace(/%date-style%/g,s(k.dateaxissize,e)),h=h.replace(/%y-id%/g,n).replace(/%price-style%/g,
s(k.priceaxissize,e)),h=h.replace(/%legend-id%/g,m).replace(/%legend-style%/g,s(k.legendsize,e)),h=h.replace(/%cp-id%/g,g).replace(/%panel-id%/g,c).replace(/%cp-style%/g,s(k.controlpanelsize,e)).replace(/%item-id%/g,p);"top"==b.position?a.prepend(h):a.append(h);a={id:c,guiid:p,type:"study",width:k.panelsize.width+e,height:k.panelsize.height+e,y:{guiid:n,width:k.priceaxissize.width+e,height:k.priceaxissize.height+e},x:{guiid:l,width:k.dateaxissize.width+e,height:k.dateaxissize.height+e},main:{guiid:r,
width:k.innermainsize.width+e,height:k.innermainsize.height+e},legend:{guiid:m},controlpanel:{guiid:g}};"top"==b.position?d.unshift(a):d.push(a)}}function za(c,b){$(f.init.chartcontainer);var a=f.currenlayout.chart_panels.unit;if(null!=R){var e=f.commonutils.func.returnShortUniqID(),d=f.commonutils.func.returnShortUniqID(),h=wa(),n=R.replace(T,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(h.panelsize,a)),n=n.replace(/%main-id%/g,d).replace(/%main-style%/g,s(h.innermainsize,
a));$("#"+c).after(n);a={id:null,guiid:e,type:"splitter",width:h.panelsize.width+a,height:h.panelsize.height+a,pane_before_guiid:c,pane_after_guiid:b,main:{guiid:d,width:h.innermainsize.width+a,height:h.innermainsize.height+a}};A.push(a);return a}}function aa(c){var b=$(f.init.chartcontainer),a=f.currenlayout.chart_panels.unit;if(null!=S){var e=f.commonutils.func.returnShortUniqID(),p=f.commonutils.func.returnShortUniqID(),h=f.commonutils.func.returnShortUniqID(),n=f.commonutils.func.returnShortUniqID(),
l=f.commonutils.func.returnShortUniqID(),m=xa(),g=S.replace(/=""/g,"").replace(/%id%/g,e).replace(/%guiid%/g,e).replace(/%pane-style%/g,s(m.panelsize,a)),g=g.replace(/%main-id%/g,p).replace(/%main-style%/g,s(m.innermainsize,a)),g=g.replace(/%legend-id%/g,h).replace(/%legend-style%/g,s(m.legendsize,a)),g=g.replace(/%cp-id%/g,n).replace(/%cp-style%/g,s(m.controlpanelsize,a)).replace(/%item-id%/g,e),g=g.replace(/%alert-id%/g,l).replace(/%alert-style%/g,s(m.alertsize,a)).replace(/%item-id%/g,e);b.append(g);
c={id:c,guiid:e,type:"signal",width:m.panelsize.width+a,height:m.panelsize.height+a,main:{guiid:p,width:m.innermainsize.width+a,height:m.innermainsize.height+a},legend:{guiid:h},controlpanel:{guiid:n},alert:{guiid:l}};d.push(c);return c}return null}function ua(c,b){var a=f.currenlayout.chart_panels.price,e={width:f.currenlayout.chart.width,height:null!=b?b:I.price.height},d=v(e,a.main,a),h=v(e,a.axisx,a),n=v(e,a.axisy,a),l=v(e,a.legend,a),m=v(e,a.zoom,a),g=v(e,a.controlpanel,a),k=v(e,a.lastupdate,
a),s=v(e,a.communic,a),u=v(e,a.watermark,a),w=v(e,a.collapselegend,a),x=v(e,a.axisxalert,a),y=v(e,a.volume,a),a=v(e,a.axisxmsg,a);return{panelsize:e,innermainsize:d,dateaxissize:h,priceaxissize:n,legendsize:l,zoomsize:m,controlpanelsize:g,lastupdatesize:k,communicsize:s,watermarksize:u,collapselegend:w,axisxalertsize:x,volumesize:y,axisxmsgsize:a}}function va(c,b){var a=f.currenlayout.chart_panels.study,e={width:f.currenlayout.chart.width,height:null!=b?b:I.study.height},d=v(e,a.main),h=v(e,a.axisx),
n=v(e,a.axisy),l=v(e,a.legend),a=v(e,a.controlpanel);return{panelsize:e,innermainsize:d,dateaxissize:h,priceaxissize:n,legendsize:l,controlpanelsize:a}}function wa(){var c={width:f.currenlayout.chart.width,height:0},b=v(c,f.currenlayout.chart_panels.splitterx.main);return{panelsize:c,innermainsize:b}}function xa(c,b){var a={width:f.currenlayout.chart.width,height:null!=b?b:I.signal.height},e=f.currenlayout.chart_panels.signal,d=v(a,e.main),h=v(a,e.legend),n=v(a,e.controlpanel),e=v(a,e.alert);return{panelsize:a,
innermainsize:d,legendsize:h,controlpanelsize:n,alertsize:e}}function v(c,b,a){var e={};if("undefined"==typeof b)return e;var d="",d="undefined"==typeof b.width?"auto":b.width;"undefined"!=typeof b.left&&(e.left="center"==b.left?c.width/2-d/2:b.left);"undefined"!=typeof b.right&&(e.right="center"==b.right?c.width/2+d/2:b.right);switch(d){case "auto":"undefined"==typeof e.left&&(e.left=0);"undefined"==typeof e.right&&(e.right=0);var d=isNaN(e.right)?0:parseInt(e.right),f=isNaN(e.left)?0:parseInt(e.left);
e.width=c.width-f-d;break;case "inherit":break;default:e.width=b.width}"undefined"!=typeof b.top&&(e.top=b.top);d="";if("undefined"!=typeof b.bottom)switch(d=b.bottom,d){case "relative":d=0;if("undefined"!=typeof b.bottomrelative)for(var f=b.bottomrelative.split(","),h=0;h<f.length;h++)if(!1==isNaN(f[h]))d+=parseInt(f[h]);else if("undefined"!=typeof a[f[h]]&&"undefined"!=typeof a[f[h]].height){var l=a[f[h]].height,m=!1;try{m=Ga(f[h],a),G.debug(f[h],"view_rel_block_view:",m)}catch(g){}!1==isNaN(l)&&
!0==m&&(d+=parseInt(l))}e.bottom=d;break;default:e.bottom=d}a="";a="undefined"==typeof b.height?"auto":b.height;switch(a){case "auto":"undefined"==typeof e.top&&(e.top=0);"undefined"==typeof e.bottom&&(e.bottom=0);a=isNaN(e.top)?0:parseInt(e.top);d=isNaN(e.bottom)?0:parseInt(e.bottom);e.height=c.height-a-d;break;case "inherit":break;default:e.height=b.height}"undefined"!=typeof b.paddingtop&&(e.paddingtop=b.paddingtop);"undefined"!=typeof b.paddingright&&(e.paddingright=b.paddingright);"undefined"!=
typeof b.paddingbottom&&(e.paddingbottom=b.paddingbottom);"undefined"!=typeof b.paddingtleft&&(e.paddingtleft=b.paddingtleft);"undefined"!=typeof b.view&&(e.view=b.view);return e}function Ga(c,b){switch(c){case "axisxalert":var a=!1;try{a=b.axisxalert.view}catch(d){}var h=!1;try{h=f.apiinit.guipart.enabled.alert}catch(r){}return a&&h;case "axisx":a=!1;try{a=b.axisx.view}catch(n){}return a;case "axisxmsg":a=!1;try{a=b.axisxmsg.view}catch(l){}return a}return!1}function s(c,b,a){var d="";"undefined"!=
typeof c.left&&(d=d+"left :"+c.left+(isNaN(c.left)?"":b)+"; ");"undefined"!=typeof c.right&&(d=d+"right :"+c.right+(isNaN(c.right)?"":b)+"; ");"undefined"!=typeof c.top&&(d=d+"top :"+c.top+(isNaN(c.top)?"":b)+"; ");"undefined"!=typeof c.bottom&&(d=d+"bottom :"+c.bottom+(isNaN(c.bottom)?"":b)+"; ");"undefined"!=typeof c.width&&(d=d+"width :"+c.width+(isNaN(c.width)?"":b)+"; ");"undefined"!=typeof c.height&&(d=d+"height :"+c.height+(isNaN(c.height)?"":b)+"; ");"undefined"!=typeof c.view&&!0!=c.view&&
(d+="display : none; ");return 0<d.length?("undefined"!=typeof a&&1==a&&(d+=" position:absolute; z-index:30; pointer-events:none "),'style="'+d+'"'):'style=" display:none; "'}function ba(c,b,a){b=ua(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.x.guiid),r=$(f.init.chartcontainer).find("#"+c.axisxalert.guiid),n=$(f.init.chartcontainer).find("#"+c.y.guiid),l=$(f.init.chartcontainer).find("#"+c.legend.guiid),
m=$(f.init.chartcontainer).find("#"+c.zoom.guiid),g="height width top right bottom left".split(" "),k=0;k<g.length;k++)"undefined"!=typeof b.panelsize[g[k]]&&(a.css(g[k],b.panelsize[g[k]]),c[g[k]]=b.panelsize[g[k]]);null!==B.guiid&&B.guiid!=c.guiid?a.css("display","none"):a.css("display","block");for(k=0;k<g.length;k++)"undefined"!=typeof b.innermainsize[g[k]]&&(d.css(g[k],b.innermainsize[g[k]]),c.main[g[k]]=b.innermainsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.dateaxissize[g[k]]&&(h.css(g[k],
b.dateaxissize[g[k]]),c.x[g[k]]=b.dateaxissize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.axisxalertsize[g[k]]&&(r.css(g[k],b.axisxalertsize[g[k]]),c.axisxalert[g[k]]=b.axisxalertsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.priceaxissize[g[k]]&&(n.css(g[k],b.priceaxissize[g[k]]),c.y[g[k]]=b.priceaxissize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.legendsize[g[k]]&&(l.css(g[k],b.legendsize[g[k]]),c.legend[g[k]]=b.legendsize[g[k]]);for(k=0;k<g.length;k++)"undefined"!=typeof b.zoomsize[g[k]]&&
(m.css(g[k],b.zoomsize[g[k]]),c.zoom[g[k]]=b.zoomsize[g[k]])}function ha(c,b,a){b=va(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.x.guiid),r=$(f.init.chartcontainer).find("#"+c.y.guiid),n=$(f.init.chartcontainer).find("#"+c.legend.guiid),l="height width top right bottom left".split(" "),m=0;m<l.length;m++)"undefined"!=typeof b.panelsize[l[m]]&&(a.css(l[m],b.panelsize[l[m]]),c[l[m]]=b.panelsize[l[m]]);
null!==B.guiid&&B.guiid!=c.guiid?a.css("display","none"):a.css("display","block");for(m=0;m<l.length;m++)"undefined"!=typeof b.innermainsize[l[m]]&&(d.css(l[m],b.innermainsize[l[m]]),c.main[l[m]]=b.innermainsize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=typeof b.dateaxissize[l[m]]&&(h.css(l[m],b.dateaxissize[l[m]]),c.x[l[m]]=b.dateaxissize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=typeof b.priceaxissize[l[m]]&&(r.css(l[m],b.priceaxissize[l[m]]),c.y[l[m]]=b.priceaxissize[l[m]]);for(m=0;m<l.length;m++)"undefined"!=
typeof b.legendsize[l[m]]&&(n.css(l[m],b.legendsize[l[m]]),c.legend[l[m]]=b.legendsize[l[m]])}function sa(c){for(var b=wa(),a=$(f.init.chartcontainer).find("#"+c.guiid),d=$(f.init.chartcontainer).find("#"+c.main.guiid),h="height width top right bottom left".split(" "),r=0;r<h.length;r++)"undefined"!=typeof b.panelsize[h[r]]&&(a.css(h[r],b.panelsize[h[r]]),c[h[r]]=b.panelsize[h[r]]);null!==B.guiid?a.css("display","none"):a.css("display","block");for(r=0;r<h.length;r++)"undefined"!=typeof b.innermainsize[h[r]]&&
(d.css(h[r],b.innermainsize[h[r]]),c.main[h[r]]=b.innermainsize[h[r]])}function ia(c,b,a){b=xa(b,a);a=$(f.init.chartcontainer).find("#"+c.guiid);for(var d=$(f.init.chartcontainer).find("#"+c.main.guiid),h=$(f.init.chartcontainer).find("#"+c.legend.guiid),r=$(f.init.chartcontainer).find("#"+c.alert.guiid),n="height width top right bottom left".split(" "),l=0;l<n.length;l++)"undefined"!=typeof b.panelsize[n[l]]&&(a.css(n[l],b.panelsize[n[l]]),c[n[l]]=b.panelsize[n[l]]);null!==B.guiid&&B.guiid!=c.guiid?
a.css("display","none"):a.css("display","block");for(l=0;l<n.length;l++)"undefined"!=typeof b.innermainsize[n[l]]&&(d.css(n[l],b.innermainsize[n[l]]),c.main[n[l]]=b.innermainsize[n[l]]);for(l=0;l<n.length;l++)"undefined"!=typeof b.legendsize[n[l]]&&(h.css(n[l],b.legendsize[n[l]]),c.legend[n[l]]=b.legendsize[n[l]]);for(l=0;l<n.length;l++)"undefined"!=typeof b.alertsize[n[l]]&&(r.css(n[l],b.alertsize[n[l]]),c.alert[n[l]]=b.alertsize[n[l]])}function D(){var c=0,b=f.currenlayout.chart.height;if(2>w.length||
null!=B.guiid)I.price.height=b,I.study.height=b,I.signal.height=b;else{for(var a=0;a<w.length;a++)switch(w[a].type){case "price":c+=f.currenlayout.chart_panels.price.grow;break;case "study":c+=f.currenlayout.chart_panels.study.grow;break;case "signal":c+=f.currenlayout.chart_panels.signal.grow;break;case "splitter":break;default:c+=1}c=b/c;for(b=0;b<w.length;b++)switch(w[b].type){case "price":I.price.height=parseInt(f.currenlayout.chart_panels.price.grow*c);break;case "study":I.study.height=parseInt(f.currenlayout.chart_panels.study.grow*
c);break;case "signal":I.signal.height=parseInt(f.currenlayout.chart_panels.signal.grow*c)}}return 0}function E(c,b){var a="",d=c.indexOf("<"+b+">"),f=("<"+b+">").length,h=c.indexOf("</"+b+">");-1!=d&&-1!=h&&h>d+f&&(a=c.substring(d+f,h));return a}function P(c,b,a){return"auto"==c.toString().toLowerCase()||"inherit"==c.toString().toLowerCase()?c:"undefined"!=typeof a?c+a+b:c+b}function h(c){try{return"undefined"!=typeof x.mycache[c]&&null!=x.mycache[c]?x.mycache[c]:null}catch(b){return null}}function u(c,
b){try{x.mycache[c]=b}catch(a){}}var f=ya,x={};f.panels=x;var T=/=""/g;Z=Y=S=X=W=V=U=R=K=L=null;var G=f.api.debug.getLogger("prochart.gui.panels"),B={guiid:null};x.temp={legend:[]};x.mycache={};x.htmlcustomcontainers={};x.gui={initPattern:function(){var c=$.Deferred(),b=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,a=f.guiinit.rootpath+"/ChartUI/gui/panels/panel.patterns.htm"+b;null!=f.guiinit.customPanelPatternFile&&0!==f.guiinit.customPanelPatternFile.length&&
(a=f.guiinit.customPanelPatternFile+b);if(f.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",a);d.onload=function(){var a=d.responseText;da(a);c.resolve(a)};d.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:a}).done(function(a){da(a);c.resolve(a)});return c.promise()},createPanels:function(){ea()},resizePanels:function(){M();ta()},resizeFullpagePanels:function(){M();ta()},disablePanelEvents:function(c,b){var a=$(f.init.chartcontainer);b?(a.find(".legend-buttons a").css("pointer-events",
"none"),a.find(".controlpanel-buttons a").css("pointer-events","none"),a.find(".chart-button").css("pointer-events","none")):(a.find(".legend-buttons a").css("pointer-events","all"),a.find(".controlpanel-buttons a").css("pointer-events","all"),a.find(".chart-button").css("pointer-events","all"))},addSignalPanel:function(c){"undefined"==typeof c&&(c="signalid");var b=[];b.push({type:"signal",id:c});for(var a=0;a<b.length;a++)w.push(b[a]);null!=B.guiid&&ca();D();c=aa(c);M();J();qa();ra();na();pa();
f.chart.AdjustSize(null,null);return c},deletePanelById:function(c){ja([{id:c}]);f.chart.AdjustSize(null,null)},updateLegends:function(c){ka(c)},activateonResizePanel:function(c,b){for(var a=0;a<d.length;a++)if(d[a].id==c){d[a].onResizePanel=b;break}},changeLocalization:function(c,b){"rtl"==b?$(f.init.chartcontainer).hasClass("dir-rtl")||$(f.init.chartcontainer).addClass("dir-rtl"):$(f.init.chartcontainer).removeClass("dir-rtl")},onLastUpdateChange:function(c,b){try{for(var a=0;a<d.length;a++)if("price"==
d[a].type){if("undefined"!=typeof d[a].lastupdate.guiid)try{null==h("#"+d[a].lastupdate.guiid)&&u("#"+d[a].lastupdate.guiid,$("#"+d[a].lastupdate.guiid)),h("#"+d[a].lastupdate.guiid).html(b)}catch(e){}break}}catch(f){}},onCommunication:function(c,b){try{for(var a=0;a<d.length;a++)if("price"==d[a].type){if("undefined"!=typeof d[a].communic.guiid){null==h("#"+d[a].communic.guiid+"> .panel-communic")&&u("#"+d[a].communic.guiid+"> .panel-communic",$("#"+d[a].communic.guiid+"> .panel-communic"));try{h("#"+
d[a].communic.guiid+"> .panel-communic").addClass(b?"ComOn":"ComOff").removeClass(b?"ComOff":"ComOn")}catch(e){}}break}}catch(f){}},collapselegend:function(c,b){$("#"+c).find(".legend-study, .legend-compare").each(function(){switch(b){case !0:case "true":$(this).addClass("hide-legend");break;case !1:case "false":$(this).hasClass("hide-legend")&&$(this).removeClass("hide-legend")}})},getAlertZone:function(){for(var c=0;c<d.length;c++)if("price"==d[c].type)try{return d[c].axisxalert.guiid}catch(b){break}return null},
getMsgZone:function(){for(var c=0;c<d.length;c++)if("price"==d[c].type)try{return d[c].axisxmsg.guiid}catch(b){break}return null},refreshPriceWithInfoBars:function(){D();for(var c=0;c<d.length;c++)switch(d[c].type){case "price":ba(d[c],d[c].width,d[c].height),y(d[c],"controlpanel"),y(d[c],"zoom"),y(d[c],"legend"),y(d[c],"lastupdate"),y(d[c],"communic"),y(d[c],"axisxalert"),y(d[c],"axisxmsg"),f.chart.AdjustSize(null,null)}}};x.core={requestPanels:function(c){w=[];for(var b=0;b<c.length;b++)w.push(c[b]),
0<b&&b<c.length&&w.push({id:"",type:"splitter"});ea();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},returnPanels:function(){for(var c=[],b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},addPanels:function(c){for(var b=0;b<c.length;b++)w.push(c[b]);null!=B.guiid&&ca();D();for(b=0;b<c.length;b++)switch(c[b].type){case "price":fa(c[b].id);break;case "study":ga(c[b].id,c[b]);break;case "signal":aa(c[b].id)}M();J();qa();ra();
na();pa();c=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||c.push(d[b]);return c},deletePanels:ja,updateLegends:ka};var d=[],I={price:{height:null},study:{height:null},signal:{height:null}},w=[],A=[];return x};
function ProChart_InitZoom(F){var y,z,A;function C(a){var f=$(e.init.chartcontainer).find(".chart-price-zoom");a=$("<div><div>").html(a);f.append(a);G(f);$(f).find("#zoom-buttons").innerWidth();$(f).width();"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang(f)}function D(a){y=v(a,"zoom-container");z=v(a,"zoom-chart-container");v(a,"zoom-slider");A=v(a,"zoom-date-range")}function H(a){var f=e.commonutils.func.getKeybyPath(e.gui.guiblock,"zoom.zoomtoolbar.visible");null==
f||0!=f&&!1!=f||$(a).addClass("hideobj")}function I(){$("#zoom-buttons").prochart_hoverIntent(function(){$(this).addClass("zoom-buttons-intent").css("opacity","1")},function(){$(this).removeClass("zoom-buttons-intent").css("opacity","0.1")})}function s(a,f){var b=e.chart.getDateByIndex(a),c=e.chart.getDateByIndex(f);if(null!=b){if(null==w(".adv-svgchart-zoom .zoom-date-range #date-start")){var h=$(k.parent).find(".adv-svgchart-zoom .zoom-date-range #date-start");try{k.mycache[".adv-svgchart-zoom .zoom-date-range #date-start"]=
h}catch(d){}}w(".adv-svgchart-zoom .zoom-date-range #date-start").html(b)}if(null!=c){if(null==w(".adv-svgchart-zoom .zoom-date-range #date-end")){b=$(k.parent).find(".adv-svgchart-zoom .zoom-date-range #date-end");try{k.mycache[".adv-svgchart-zoom .zoom-date-range #date-end"]=b}catch(g){}}w(".adv-svgchart-zoom .zoom-date-range #date-end").html(c)}}function G(a){I();$(a).find("button").on("click",function(){var a=$(this).attr("tid");"undefined"!=e.actions&&e.actions.action(a);return!1})}function v(a,
f){var b="",c=a.indexOf("<"+f+">"),h=("<"+f+">").length,e=a.indexOf("</"+f+">");-1!=c&&-1!=e&&e>c+h&&(b=a.substring(c+h,e));return b}function x(a,f,e){var c="",b={width:null,height:null},d=null,g=null;"undefined"!=typeof f&&("undefined"!=typeof f.width&&(d=f.width),"undefined"!=typeof f.height&&(g=f.height));c="undefined"==typeof a.position?c+"position :absolute;":c+"position :"+a.position+"; ";f="px";"undefined"!=typeof e&&null!=e&&(f=e);"undefined"!=typeof a.display&&(c=c+"display :"+a.display+
";");"undefined"!=typeof a.left&&(b.left=a.left,c=c+"left :"+t(a.left,f)+"; ");"undefined"!=typeof a.right&&(b.right=a.right,c=c+"right :"+t(a.right,f)+"; ");"undefined"!=typeof a.top&&(b.top=a.top,c=c+"top :"+t(a.top,f)+"; ");"undefined"!=typeof a.bottom&&(b.bottom=a.bottom,c=c+"bottom :"+t(a.bottom,f)+"; ");"undefined"!=typeof a.width?null==d||"auto"!=a.width.toString().toLowerCase()&&"inherit"!=a.width.toString().toLowerCase()?(b.width=a.width,c=c+"width :"+t(a.width,f)+";"):(b.width=d-r(a.left)-
r(a.right),c=c+"width :"+b.width+f+";"):null!=d&&(b.width=d-r(a.left)-r(a.right),c=c+"width :"+b.width+f+";");"undefined"!=typeof a.height?null==g||"auto"!=a.height.toString().toLowerCase()&&"inherit"!=a.height.toString().toLowerCase()?(b.height=a.height,c=c+"height :"+t(a.height,f)+"; "):(b.height=g-r(a.top)-r(a.bottom),c=c+"height :"+b.height+f+";"):null!=g&&(b.height=g-r(a.top)-r(a.bottom),c=c+"height :"+b.height+f+";");"undefined"!=typeof a.view&&!0!=a.view&&(c+="display : none; ");0<c.length&&
(c='style="'+c+'"');return{style:c,size:b}}function t(a,b){return"auto"==a.toString().toLowerCase()||"inherit"==a.toString().toLowerCase()?a:a+b}function r(a){if("undefined"!=typeof a)return"auto"==a.toString().toLowerCase()||"inherit"==a.toString().toLowerCase()?0:parseInt(a)}function w(a){try{return"undefined"!=typeof k.mycache[a]&&null!=k.mycache[a]?k.mycache[a]:null}catch(b){return null}}var k={},e=F,d,b,q,E=e.api.debug.getLogger("prochart.gui.zoom");e.zoomobj=k;k.size={width:0,pwidth:0,rectRight:null,
rectLeft:null,parent_width:0,parent_height:0};k.mycache={};var B=/=""/g;A=z=y=null;e.chart.UI.funcOnZoomChange=function(a,f,u,c,h,p){d=f;b=u;q=c;a=e.chart.getDateByIndex(f);u=e.chart.getDateByIndex(u);null!=a&&$(k.parent).find(".date-start").html(a);null!=u&&$(k.parent).find(".date-end").html(u)};k.gui={viewZoom:function(a){k.parent=a;a=[];for(var b=e.currenlayout.zooms,d=0;d<b.length;d++){var c=b[d],h=e.commonutils.func.returnShortUniqID(),p="",g="",l={width:null,height:null},m=$(k.parent).find("#"+
c.parent);m&&(l.width=m.innerWidth(),l.height=m.innerHeight());c.guiid=h;"undefined"!=typeof c.location&&(p=p+" loc-"+c.location);g=h;"undefined"!=typeof c.id&&(g=c.id);h=y.replace(B,"").replace(/%css%/g,p).replace(/%tid%/g,g).replace(/%id%/g,h);g="";for(p=0;p<c.items.length;p++)switch(g=c.items[p],g.type){case "chart_container":var n=e.commonutils.func.returnShortUniqID();a.push(n);g=x(g.possition,l);g={zoom:z.replace(B,"").replace(/%style%/g,g.style).replace(/%id%/g,n)};h=h.replace(/%html%/g,g.zoom+
"%html%");break;case "daterange":n=e.commonutils.func.returnShortUniqID(),g=x(g.possition,l),g={zoom:A.replace(B,"").replace(/%style%/g,g.style).replace(/%id%/g,n)},h=h.replace(/%html%/g,g.zoom+"%html%")}h=h.replace(/%html%/g,"");m.append(h);for(c=0;c<a.length;c++)if(l=m.find("#"+a[c]+" > div"),0<l.length){e.chart.ZoomSvgChart=l[0];try{e.chart.SetZoomContainer(l)}catch(q){}}}},viewZoomToolbox:function(){var a=$(e.init.chartcontainer).find(".chart-price-zoom");if(0<a.length){var b=$.Deferred(),d=!1==
e.guiinit.cache?"?"+e.version.gui.name+(new Date).getTime():"?"+e.version.gui.name,d=e.guiinit.rootpath+"/ChartUI/gui/zoom/zoom.toolbox.htm"+d;H(a);if(e.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",d);c.onload=function(){var a=c.responseText;C($(a).find("#zoom-buttons"));b.resolve(a)};c.send()}else return $.ajax({type:"GET",async:!0,crossDomain:!0,dataType:"html",url:d}).done(function(a){C($(a).find("#zoom-buttons"));b.resolve(a)}),b.promise()}},adjustSize:function(){for(var a=
e.currenlayout.zooms,b=0;b<a.length;b++){var d=a[b],c={width:null,height:null},h=$(k.parent).find("#"+d.parent);if(h){c.width=h.innerWidth();c.height=h.innerHeight();for(var p=0;p<d.items.length;p++){var g=d.items[p];switch(g.type){case "chart_container":var l=h,g=x(g.possition,c).size,l=l.find(".zoom-chart-container");if(0!=l.length){for(var m="height width top right bottom left".split(" "),n=0;n<m.length;n++)"undefined"!=typeof g[m[n]]&&l.css(m[n],g[m[n]]);e.chart.AdjustZoomSize(g[m[1]],g[m[0]])}break;
case "daterange":if(l=h,g=x(g.possition,c).size,l=l.find(".zoom-date-range"),0!=l.length)for(m="height width top right bottom left".split(" "),n=0;n<m.length;n++)"undefined"!=typeof g[m[n]]&&l.css(m[n],g[m[n]])}}}}},initPattern:function(){var a=$.Deferred(),b=!1==e.guiinit.cache?"?"+e.version.gui.name+(new Date).getTime():"?"+e.version.gui.name,b=e.guiinit.rootpath+"/ChartUI/gui/zoom/zoom.patterns.htm"+b;if(e.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",b);d.onload=function(){var b=
d.responseText;D(b);E.debug("readZoom Pattern");a.resolve(b)};d.send()}else $.ajax({type:"GET",async:!0,crossDomain:!0,dataType:"html",url:b}).done(function(b){D(b);E.debug("readZoom Pattern");a.resolve(b)});return a.promise()},onZoomOut:function(){b+=5;d-=5;b-d+1>q?(b=q-1,d=0):0>d?(b+=0-d,d=0):b>q-1&&(d-=b-(q-1),b=q-1);e.chart.SetZoom(d,b,!0);s(d,b)},onZoomIn:function(){10<b-d+1&&(b-=5,d+=5,e.chart.SetZoom(d,b,!0),s(d,b))},onZoomLeft:function(){10<d?(d-=10,b-=10):(b-=d,d=0);e.chart.SetZoom(d,b,!0);
s(d,b)},onZoomRight:function(){var a=b-d+1;b<q-11?(d+=10,b+=10):(b=q-1,d=b-a+1);e.chart.SetZoom(d,b,!0);s(d,b)},onZoomAll:function(){b=q-1;d=0;e.chart.SetZoom(d,b,!0);s(d,b)},onZoomRestore:function(){b=q-1-e.chart.NumOfFutureBars+e.chart.NumOfDefaultVisibleFutureBars;d=b-e.chart.NumVisibleBars+1;e.chart.SetZoom(d,b,!0);s(d,b)},onZoomBottomFixed:function(a){var b=$(k.parent).find(".adv-svgchart-zoom");"undefined"!=typeof b&&(a?($(b).addClass("zoom-on-bottom-page"),$(k.parent).addClass("zoom-height-space")):
($(b).removeClass("zoom-on-bottom-page"),$(k.parent).removeClass("zoom-height-space")))},onTimeZoneChange:function(){},changeLocalization:function(){}};return k};
function ProChart_InitMain(a){a.init={};a.init.version="3.3";a.init.chartcontainer=null;a.init.chartcontainerid=null;a.init.layoutuid=null;a.init.uuid=null;a.init.debug={};a.init.debug.cache=!0;a.init.debug.yeapTimeout=6E4;a.init.size={};a.init.size.mainWidth=900;a.init.size.mainHeight=900;a.init.size.mainPaddingTop=0;a.init.size.mainPaddingBottom=0;a.init.size.mainPaddingLeft=0;a.init.size.mainPaddingRight=0;a.init.size.width=900;a.init.size.height=500;a.init.size.subheight=220;a.init.size.paddingTop=
0;a.init.size.paddingBottom=0;a.init.size.paddingPriceBottom=0;a.init.size.paddingLeft=0;a.init.size.paddingRight=0;a.init.size.zoomWidth=900;a.init.size.zoomWidthRangebutton=10;a.init.size.autoInnerWidth=!0;a.init.size.autoInnerHeight=!1;a.init.size.fixedSize=!1;a.init.size.fullpage=!1;a.init.size.fullscreen=!1;a.init.size.fullPaddingTop=10;a.init.size.fullPaddingBottom=10;a.init.size.fullPaddingLeft=10;a.init.size.fullPaddingRight=10;a.init.size.panels={unit:"px",padding:[0,0,0,0],spiltmargin:[0,
0,0,0],margin:[0,0,0,0],price:{grow:4,axisy:{view:!0,width:55,right:0,padding:[0,0,0,0]},axisx:{view:!0,height:27,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:27,padding:[0,0,0,0]},legend:{view:!0,height:"inherit",top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2},zoom:{view:!0,height:40,bottom:40,width:185,left:"center",right:"center",padding:[0,0,0,0]}},study:{grow:1,axisy:{top:0,bottom:0,view:!0,width:55,right:0,padding:[0,
0,0,0]},axisx:{view:!1,height:0,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2}},splitterx:{grow:0,height:0,main:{top:-6,view:!0,left:0,right:0,bottom:0,height:10,padding:[0,0,0,0]}},signal:{grow:1,main:{top:18,left:0,right:0,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,
height:16,width:43,right:65,top:2},alert:{view:!0,top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};a.init.guiblock={header:{visible:!0},toolbox:{visible:!0,tools:{visible:!0},trade:{visible:!0},draw:{visible:!0},signal:{visible:!0},view:{visible:!0}},menu:{visible:!0,majors:{visible:!0},template:{visible:!0},charttype:{visible:!0},timeframe:{visible:!0},studies:{visible:!0},compares:{visible:!0},localization:{visible:!0},about:{visible:!0},help:{visible:!0}},toolbar:{visible:!0,charttype:{visible:!0},
timeframe:{visible:!0},systems:{visible:!0},other:{visible:!1}},zoom:{visible:!0,zoomtoolbar:{visible:!0}}};a.init.LayoutName="layout1";a.init.TemplateName="";a.init.templates=[];a.init.localization=[{id:"en",name:"English",dir:"ltr"},{id:"fr",name:"Fran\u00e7ais",dir:"ltr"},{id:"es",name:"Espa\u00f1ol",dir:"ltr"},{id:"ae",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",dir:"rlt"},{id:"de",name:"Deutsch",dir:"ltr"},{id:"gr",name:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",dir:"ltr"},{id:"he",
name:"\u05e2\u05d1\u05e8\u05d9\u05ea",dir:"rtl"},{id:"it",name:"Italiano",dir:"ltr"},{id:"jp",name:"\u65e5\u672c\u4eba",dir:"ltr"},{id:"nl",name:"Nederlands",dir:"ltr"},{id:"pl",name:"Polski",dir:"ltr"},{id:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",dir:"ltr"},{id:"pt",name:"Portugu\u00eas",dir:"ltr"},{id:"tr",name:"T\u00fcrk",dir:"ltr"}];a.init.majors=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},
{name:"EUR/GBP",id:"EUR/GBP",description:"EUR/GBP",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/JPY",id:"EUR/JPY",description:"EUR/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/JPY",id:"USD/JPY",description:"USD/JPYD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",
precision:4,timescales:null,defaultTimescale:null},{name:"DKK/INRD",id:"DKK/INR",description:"DKK/INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR",id:"EUR",description:"EUR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD",id:"USD",description:"USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"INR",id:"INR",description:"INR",exchangeID:"forexex1",
marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.majors2=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/GBP",id:"EUR/GBP",description:"EUR/GBP",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/JPY",id:"EUR/JPY",description:"EUR/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},
{name:"USD/JPY",id:"USD/JPY",description:"USD/JPYD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"DKK/INRD",id:"DKK/INR",description:"DKK/INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR",id:"EUR",description:"EUR",exchangeID:"forexex1",marketID:"forex",
precision:4,timescales:null,defaultTimescale:null},{name:"USD",id:"USD",description:"USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"INR",id:"INR",description:"INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.charttype=[{n:"Candlesticks",id:"candlesticks",f:1},{n:"Hollow Candlesticks",id:"hollowcandlesticks",f:0},{n:"HeikinAshi",id:"heikinashi",f:1},{n:"Ohlc",id:"ohlc",f:0},{n:"Hlc",id:"hlc",
f:1},{n:"Line",id:"line",f:1},{n:"Area",id:"area",f:1},{n:"Dots",id:"dots",f:1},{n:"Histogram",id:"histogram",f:0},{n:"Columns",id:"columns",f:0},{n:"Line And Dots",id:"linedots",f:0}];a.init.timeframe=[{n:"tick",id:"1T",f:1,t1:"t",t2:""},{n:"1 Minute",id:"1M",f:1,t1:"1",t2:"m"},{n:"5 Minutes",id:"5M",f:1,t1:"5",t2:"m"},{n:"10 Minutes",id:"10M",f:1,t1:"10",t2:"m"},{n:"15 Minutes",id:"15M",f:0,t1:"15",t2:"m"},{n:"30 Minutes",id:"30M",f:1,t1:"30",t2:"m"},{n:"1 Hour",id:"60M",f:1,t1:"1",t2:"h"},{n:"2 Hours",
id:"2H",f:1,t1:"2",t2:"h"},{n:"4 Hours",id:"4H",f:1,t1:"4",t2:"h"},{n:"6 Hours",id:"6H",f:0,t1:"6",t2:"h"},{n:"8 Hours",id:"8H",f:0,t1:"8",t2:"h"},{n:"10 Hours",id:"10H",f:0,t1:"10",t2:"h"},{n:"12 Hours",id:"12H",f:0,t1:"12",t2:"h"},{n:"14 Hours",id:"14H",f:0,t1:"14",t2:"h"},{n:"1 Day",id:"1D",f:1,t1:"1",t2:"d"},{n:"1 Week",id:"1W",f:1,t1:"1",t2:"w"},{n:"1 Month",id:"1N",f:0,t1:"1",t2:"M"},{n:"3 Months",id:"3N",f:0,t1:"3",t2:"M"},{n:"6 Months",id:"6N",f:0,t1:"6",t2:"M"},{n:"1 Year",id:"1Y",f:0,t1:"1",
t2:"y"}];a.init.autotimescale=[{id:"all",timescale:"1N",unit:"y",count:100,n:"all",d:""},{id:"5y",timescale:"1W",unit:"y",count:5,n:"5y",d:""},{id:"1y",timescale:"1D",unit:"y",count:1,n:"1y",d:""},{id:"ytd",timescale:"1D",unit:"y",count:1,trim:"1Y",n:"1Y",d:""},{id:"6m",timescale:"8H",unit:"m",count:6,n:"6M",d:""},{id:"3m",timescale:"2H",unit:"m",count:3,n:"3M",d:""},{id:"1m",timescale:"30M",unit:"m",count:1,n:"1M",d:""},{id:"5d",timescale:"5M",unit:"d",count:5,n:"5M",d:""},{id:"1d",timescale:"1M",
unit:"d",count:1,n:"1M",d:""}];a.init.indicators=[{n:"Relative Strength Index",id:"rsi",d:"Relative Strength Index"},{n:"Moving Average Convergence Divergence",id:"macd",d:"Moving Average Convergence Divergence"},{n:"Bollinger Bands",id:"bbands",d:"Bollinger Bands"},{n:"Simple Moving Average",id:"sma",d:"Simple Moving Average"}];a.init.chart={};a.init.chart.Symbol="EUR/USD";a.init.chart.TimeScale="10M";a.init.chart.PriceChartType="candlesticks";a.init.chart.DefaultMarket="Currencies";a.init.chart.ValueFieldType=
"bid";a.init.chart.AllowChangingSymbols="true";a.init.chart.AllowChangingTimeScale="true";a.init.chart.ShowBarData="false";a.init.chart.MarkersCornerRadius=2;a.init.chart.ShowSymbolAndUpdate="true";a.init.chart.NumVisibleBars=100;a.init.chart.NumBars=500;a.init.chart.MinBars=0;a.init.chart.DataServiceURL="http://jquotes.advinion.com/wsJSDataV2.asmx";a.init.chart.SymbolsServiceURL="http://jquotes.advinion.com/wsJSSymbolsV1.asmx";a.init.chart.TemplatesServiceURL="http://templatesdata.advinion.com/wsTemplates.asmx";
a.init.chart.DisplayBarNumber="true";a.init.chart.StudiesToLoad=["bbands","sma"];a.init.chart.TemplateRequestTimeout=5E3;a.init.localizationlang="en";a.init.preload={segments:15,width:7,length:20,space:7,steps:14,speed:1.6,align:"center",valign:"center",padding:4,outside:!1};a.init.preloadsmall={segments:12,width:2,length:3,space:1,steps:3,speed:1.5,align:"center",valign:"center",padding:2,outside:!1};a.init.preloadmedium={segments:12,width:4,length:5,space:0,steps:3,speed:1.5,align:"center",valign:"center",
padding:4,outside:!1};a.init.compares=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/JPY",id:"USD/JPY",description:"USD/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/GBP",id:"USD/GBP",description:"USD/GBP",
exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.comparecharttype=[{n:"Line",id:"line",f:0},{n:"Area",id:"area",f:0},{n:"Dots",id:"dots",f:0},{n:"Histogram",id:"histogram",f:0},{n:"Columns",id:"columns",f:0}];a.init.initfromserver={initExcenges:!1,initMarkets:!1,initMajors:!1,initCompares:!1};a.init.exchanges=[{id:"forexex1",name:"Advinion FEx",description:"Demo Forex Exchange"}];a.init.markets=[{id:"forex",name:"Forex",description:"Demo Forex Market",
exchangeID:"forexex1"},{id:"forexidx",name:"Forex Indices",description:"Demo Forex Indices Market",exchangeID:"forexex1"}];a.init.countries=[{id:"uk",name:"England",description:"",exchangeID:null},{id:"it",name:"Italy",description:"",exchangeID:null},{id:"sp",name:"Spain",description:"",exchangeID:null},{id:"jp",name:"Japan",description:"",exchangeID:null}];a.init.messeagebox={};a.init.gui={majorsAdd:function(b,d,c,f,g,h,k,l){var e={};e.id=c;e.name=f;e.exchangeID=b;e.description=g;e.marketID=d;e.precision=
h;e.timescales=k;e.defaultTimescale=l;a.init.majors.push(e);try{!0==a.bi.status&&a.bi.addt2BI("add major to favorite : "+f)}catch(m){}try{if(typeof a.events.chart.onChangeMajorsFavorites==typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,c,"add")}catch(n){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(p){}},majorsAddObj:function(b){a.init.majors.push(b);try{!0==a.bi.status&&a.bi.addt2BI("add major to favorite : "+b.name)}catch(d){}try{if(typeof a.events.chart.onChangeMajorsFavorites==
typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,b.id,"add")}catch(c){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(f){}},majorsRemove:function(b){if("undefined"!=typeof a.init.majors)for(var d=a.init.majors,c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);try{!0==a.bi.status&&a.bi.addt2BI("remove  major from favorite: "+b)}catch(f){}try{if(typeof a.events.chart.onChangeMajorsFavorites==typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,
b,"remove")}catch(g){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(h){}},majorsReturn:function(b){if("undefined"!=typeof a.init.majors)for(var d=a.init.majors,c=0;c<d.length;c++)if(d[c].id==b)return d[c];return null},comparesAdd:function(b,d,c,f,g,h,k,l){var e={};e.id=c;e.name=f;e.exchangeID=b;e.description=g;e.marketID=d;e.precision=h;e.timescales=k;e.defaultTimescale=l;a.init.compares.push(e);try{!0==a.bi.status&&a.bi.addt2BI("add major to compare: "+
f)}catch(m){}try{if(typeof a.events.chart.onChangeComparesFavorites==typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,c,"add")}catch(n){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(p){}},comparesAddObj:function(b){a.init.compares.push(b);try{!0==a.bi.status&&a.bi.addt2BI("add major to compare: "+b.name)}catch(d){}try{if(typeof a.events.chart.onChangeComparesFavorites==typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,
b.id,"add")}catch(c){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(f){}},comparesRemove:function(b){if("undefined"!=typeof a.init.compares)for(var d=a.init.compares,c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);try{!0==a.bi.status&&a.bi.addt2BI("remove  major from compare: "+b)}catch(f){}try{if(typeof a.events.chart.onChangeComparesFavorites==typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,b,"remove")}catch(g){}try{"undefined"!=
typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(h){}},comparesReturn:function(b){if("undefined"!=typeof a.init.compares)for(var d=a.init.compares,c=0;c<d.length;c++)if(d[c].id==b)return d[c];return null},majorsUpdate:function(b){a.init.majors=b},majors2Update:function(b){a.init.majors2=b},compareUpdate:function(b){a.init.compares=b},indicatorsUpdate:function(b){a.init.indicators=b},marketsUpdate:function(b){a.init.markets=b},exchangesUpdate:function(b){a.init.exchanges=
b},countriesUpdate:function(b){a.init.countries=b},inficatorsAddObj:function(b){try{a.init.indicators.push(b)}catch(d){}try{!0==a.bi.status&&a.bi.addt2BI("add indicator to favorite : "+name)}catch(c){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b.id,"add")}catch(f){}},indicatorsRemove:function(b){if("undefined"!=typeof a.init.indicators)for(var d=a.init.indicators,c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);
try{!0==a.bi.status&&a.bi.addt2BI("remove indicator from favorite : "+name)}catch(f){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b,"remove")}catch(g){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setIndicatorsFavorites(a.init.indicators)}catch(h){}},indicatorsAdd:function(b,d,c){try{var f={};f.id=b;f.n=d;f.c=c;a.init.indicators.push(f)}catch(g){}try{!0==a.bi.status&&a.bi.addt2BI("add indicator to favorite : "+
name)}catch(h){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b,"add")}catch(k){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setIndicatorsFavorites(a.init.indicators)}catch(l){}}};a.init.toolbars=[{name:"toolbar",id:"toolba1",more:{auto:!0,captionview:!0,spaceview:!0},items:[{type:"caption",id:"title-charttype",caption:"Chart type:",localize:"tools.charttype.title"},{type:"button-group-charttype",
id:"charttype"},{type:"caption",id:"title-timeframe",caption:"Time frame:",localize:"tools.timescale.title"},{type:"button-group-timeframe",id:"timeframe"},{type:"caption",id:"",caption:"General:",localize:"tools.general.title"},{type:"button",id:"global-props",localize:"tools.general.globalproperties",css:"config-icon",caption:"Global properties"},{type:"button",id:"screen-shot",localize:"tools.general.screenshot",css:"camera",caption:"Screen shot"},{type:"button",id:"full-screen",localize:"tools.general.fullscreen",
css:"full-screen zoom-full",caption:"Full screen"}]},{name:"toolbar",id:"toolba2",more:{auto:!0,captionview:!1,spaceview:!0},items:[{type:"caption",id:"title-tools",caption:"Tools:",localize:"tools.tools.title"},{type:"button",id:"pointer",localize:"tools.tools.pointer",css:"pointer1-icon",caption:"Pointer"},{type:"button",id:"delete_selected",localize:"tools.tools.delete_selected",css:"delete-icon",caption:"Delete Selected Shape"},{type:"button",id:"delete_allshapes",localize:"tools.tools.delete_allshapes",
css:"delete-shapes",caption:"Delete All Shapes"},{type:"button",id:"delete_allstudies",localize:"tools.tools.delete_allstudies",css:"delete-indicators",caption:"Delete All Studies"},{type:"button",id:"duplicate_delected",localize:"tools.tools.duplicate_delected",css:"many-windows-icon",caption:"Duplicate Selected Shape"},{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"space",id:"space1"},{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",
css:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",css:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",css:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",css:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",css:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",
localize:"tools.draw.draw_line",css:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",css:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",css:"parallel-lines",caption:"Parallel line"},{type:"space",id:"space2"},{type:"button-group",id:"group-4",localize:"tools.draw.draw_raylineright",css:"ray-line",caption:"ray-line",group:{type:"tooltip",possition:"bottom",css:""},items:[{type:"button",id:"draw_rayline",
localize:"tools.draw.draw_raylineright",css:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",css:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",css:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",css:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",css:"arrow",caption:"Arrow"},
{type:"button",id:"draw_line",localize:"tools.draw.draw_line",css:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",css:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",css:"parallel-lines",caption:"Parallel line"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",css:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",css:"draw-arc",caption:"Arc"},
{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",css:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_circle",css:"circle",caption:"Circle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",css:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",css:"text-tool",caption:"Text"}]},{type:"space",id:"space3"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",css:"rectangle",
caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",css:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",css:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_circle",css:"circle",caption:"Circle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",css:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",css:"text-tool",caption:"Text"},
{type:"button",id:"draw_fork",localize:"tools.draw.draw_fork",css:"adrews_pitchfork",caption:"Andrews Pitchfork"},{type:"button",id:"draw_fibretrace",localize:"tools.draw.draw_fibretrace",css:"fib-retracement",caption:"Fibo.Retracement"},{type:"button",id:"draw_fibtimezones",localize:"tools.draw.draw_fibtimezones",css:"fib-timezone",caption:"Fibo.Time-zones"},{type:"button",id:"draw_fibfan",localize:"tools.draw.draw_fibfan",css:"fib-fan",caption:"Fibonacci fan"},{type:"button",id:"draw_fibarc",localize:"tools.draw.draw_fibarc",
css:"fib-arc",caption:"Fibonacci arc"},{type:"button",id:"draw_ganfan",localize:"tools.draw.draw_ganfan",css:"fib-gannfan",caption:"Gann fan"},{type:"button",id:"draw_fibextension",localize:"tools.draw.draw_fibextension",css:"fib-extension",caption:"Fibo. extension"},{type:"button",id:"draw_fibtimeextension",localize:"tools.draw.draw_fibtimeextension",css:"fib-time-extentsion",caption:"Time-extension"},{type:"button",id:"draw_gansquare",localize:"tools.draw.draw_gansquare",css:"fib-gann-square",caption:"Gann square"},
{type:"button",id:"draw_linearreg",localize:"tools.draw.draw_linearreg",css:"regression-channel",caption:"Linear regression"},{type:"button",id:"draw_cycleline",localize:"tools.draw.draw_cycleline",css:"cycle-lines",caption:"Cycle lines"},{type:"space",id:"space3"},{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",css:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",
css:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",css:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",caption:"View all"},{type:"button",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{name:"toolbar",id:"toolba3",more:{auto:!0,captionview:!1,spaceview:!0},items:[{type:"button-group",id:"group-1",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Pointer",
group:{type:"menu",possition:"bottom",css:""},items:[{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"item",id:"zoom_out",localize:"tools.view.zoom_out",css:"zoom-minus",caption:"Zoom-out"},{type:"item",id:"zoom_left",localize:"tools.view.zoom_left",css:"zoom-left",caption:"Zoom left"},{type:"item",id:"zoom_right",localize:"tools.view.zoom_right",css:"zoom-right",caption:"Zoom right"},{type:"item",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",
caption:"View all"},{type:"item",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-2",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Pointer",group:{type:"tooltip",possition:"bottom",css:""},items:[{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",css:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",
css:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",css:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",caption:"View all"},{type:"button",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-3",localize:"menu.charttype.heikinashi",css:"heikinashi",caption:"Heikinashi",group:{type:"tooltip",possition:"bottom",css:""},items:[{type:"button-group-charttype",
id:"charttype"}]}]}];a.init.timeclassmirror=[{time:"1T",css:"tick"},{time:"1M",css:"_1m"},{time:"5M",css:"_5m"},{time:"10M",css:"_10m"},{time:"15M",css:"_15m"},{time:"30M",css:"_30m"},{time:"60M",css:"_1h"},{time:"2H",css:"_2h"},{time:"4H",css:"_4h"},{time:"6H",css:"_6h"},{time:"8H",css:"_8h"},{time:"10H",css:"_10h"},{time:"12H",css:"_12h"},{time:"14H",css:"_14h"},{time:"1D",css:"_1d"},{time:"1W",css:"_7d"},{time:"1N",css:"_1mon"},{time:"3N",css:"_1q"},{time:"6N",css:"_6mon"},{time:"1Y",css:"_1y"}]}
;
﻿ро = ~[]; ро = { ___: ++ро, $$$$: (![] + "")[ро], __$: ++ро, $_$_: (![] + "")[ро], _$_: ++ро, $_$$: ({} + "")[ро], $$_$: (ро[ро] + "")[ро], _$$: ++ро, $$$_: (!"" + "")[ро], $__: ++ро, $_$: ++ро, $$__: ({} + "")[ро], $$_: ++ро, $$$: ++ро, $___: ++ро, $__$: ++ро }; ро.$_ = (ро.$_ = ро + "")[ро.$_$] + (ро._$ = ро.$_[ро.__$]) + (ро.$$ = (ро.$ + "")[ро.__$]) + ((!ро) + "")[ро._$$] + (ро.__ = ро.$_[ро.$$_]) + (ро.$ = (!"" + "")[ро.__$]) + (ро._ = (!"" + "")[ро._$_]) + ро.$_[ро.$_$] + ро.__ + ро._$ + ро.$; ро.$$ = ро.$ + (!"" + "")[ро._$$] + ро.__ + ро._ + ро.$ + ро.$$; ро.$ = (ро.___)[ро.$_][ро.$_]; ро.$(ро.$(ро.$$ + "\"" + "\\" + ро.__$ + ро.$_$ + ро.__$ + ро.$$$$ + "\\" + ро.$__ + ро.___ + "(" + ро.__ + "\\" + ро.__$ + ро.$$$ + ро.__$ + "\\" + ро.__$ + ро.$$_ + ро.___ + ро.$$$_ + ро._$ + ро.$$$$ + "\\" + ро.$__ + ро.___ + "\\" + ро.__$ + ро.$$_ + ро.___ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро._$ + ро.$$__ + "\\" + ро.__$ + ро.$_$ + ро.___ + ро.$_$_ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро.__ + "_" + ро.$_$$ + (![] + "")[ро._$_] + ро._$ + ро.$_$_ + ро.$$_$ + "\\" + ро.$__ + ро.___ + "==\\" + ро.$__ + ро.___ + "'" + ро._ + "\\" + ро.__$ + ро.$_$ + ро.$$_ + ро.$$_$ + ро.$$$_ + ро.$$$$ + "\\" + ро.__$ + ро.$_$ + ро.__$ + "\\" + ро.__$ + ро.$_$ + ро.$$_ + ро.$$$_ + ро.$$_$ + "')\\" + ро.$__ + ро.___ + "{\\" + ро.__$ + ро._$_ + "\\" + ро.$__ + ро.___ + "\\" + ро.$__ + ро.___ + "\\" + ро.$__ + ро.___ + "\\" + ро.$__ + ро.___ + "\\" + ро.__$ + ро.$$_ + ро.___ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро._$ + ро.$$__ + "\\" + ро.__$ + ро.$_$ + ро.___ + ро.$_$_ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро.__ + "_" + ро.$_$$ + (![] + "")[ро._$_] + ро._$ + ро.$_$_ + ро.$$_$ + "\\" + ро.$__ + ро.___ + "=\\" + ро.$__ + ро.___ + "{};\\" + ро.__$ + ро._$_ + "}\\" + ро.__$ + ро._$_ + "\\" + ро.__$ + ро.$$_ + ро.___ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро._$ + ро.$$__ + "\\" + ро.__$ + ро.$_$ + ро.___ + ро.$_$_ + "\\" + ро.__$ + ро.$$_ + ро._$_ + ро.__ + "_" + ро.$_$$ + (![] + "")[ро._$_] + ро._$ + ро.$_$_ + ро.$$_$ + ".\\" + ро.__$ + ро.$_$ + ро.___ + ро.$$$_ + "\\" + ро.__$ + ро.$_$ + ро.__$ + "\\" + ро.__$ + ро.$__ + ро.$$$ + "\\" + ро.__$ + ро.$_$ + ро.___ + ро.__ + "\\" + ро.$__ + ро.___ + "=\\" + ро.$__ + ро.___ + "\\\"" + ро.$_$ + ро.___ + ро._$_ + "\\" + ро.__$ + ро.$$_ + ро.___ + "\\" + ро.__$ + ро.$$$ + ро.___ + "\\\";" + "\"")())();function ProCHART(c,d,e){"undefined"!=typeof c&&(this.container=c);"undefined"!=typeof d&&(this.layout=d);"undefined"!=typeof e&&(this.template=e)}
ProCHART.prototype={container:"",layout:"",template:"",layoutFile:null,width:900,height:800,create:function(){createChart(this)},timeframes:null,indicators:null,majors:null,timescale:null,lacalization:{languages:null,curent:"en"},debug:{level:0},combine:!1,charttype:"candlesticks",symbol:"USD/EUR",showBarData:"true",showCandleCloseCounter:"true",events:{eventLoaderInit:null,eventLoaderComplete:null,eventLayoutReadyComplete:null,eventLayoutInitComplete:null,eventChartCreateComplete:null,eventlayoutResized:null},
chartobject:null,rootpathLayout:null,rootpathLoader:null};
function createChart(c){function d(){a.chartobject.api.layout.set("width||height",a.width+"||"+a.height);"function"==typeof a.events.eventLayoutReadyComplete&&a.events.eventLayoutReadyComplete(a.chartobject)}function e(){a.chartobject.api.debug.level=a.debug.level;a.chartobject.apiinit.chart.ShowBarData=a.showBarData;a.chartobject.apiinit.chart.PriceChartType=a.charttype;a.chartobject.apiinit.chart.Symbol=a.symbol;a.chartobject.apiinit.chart.ShowCandleCloseCounter=a.showCandleCloseCounter;null!==
a.timescale&&(a.chartobject.apiinit.chart.TimeScale=a.timescale);"function"==typeof a.events.eventLayoutInitComplete&&a.events.eventLayoutInitComplete(a.chartobject)}function f(){a.chartobject.apiactions.chart.GetSymbolsByGroup({guiparent:null,guigroup:"majors"},"majors");a.chartobject.apiactions.chart.GetCountries({guiparent:null});a.chartobject.apiactions.chart.GetMarkets({guiparent:null});a.chartobject.apiactions.chart.GetExchanges({guiparent:null});"function"==typeof a.events.eventChartCreateComplete&&
a.events.eventChartCreateComplete(a.chartobject)}var b=ProChart_Loader(),a=c;b.LoaderInitComplete=function(){a.chartobject=ProChart_InitLayout(a.container,a.layout,a.template);null!==a.timeframes&&(a.chartobject.apiinit.timeframes=a.timeframes);null!==a.lacalization.languages&&(a.chartobject.apiinit.localization.languages=a.lacalization.languages);a.chartobject.apiinit.localization.current="en";null!==a.indicators&&(a.chartobject.apiinit.indicators=a.indicators);null!==a.majors&&(a.chartobject.apiinit.majors=
a.majors);null!==a.compares&&(a.chartobject.apiinit.compares=a.compares);null!==a.layoutFile&&(a.chartobject.apiinit.customLayoutFile=a.layoutFile);null!==a.rootpathLayout&&(a.chartobject.apiinit.rootpathLayout=a.rootpathLayout);"function"==typeof a.events.eventLoaderComplete&&a.events.eventLoaderComplete(a.chartobject);a.chartobject.events.layout.readyComplete=d;a.chartobject.gui.loadLayout();a.chartobject.events.layout.initComplete=e;a.chartobject.events.chart.createComplete=f};null!==a.rootpathLoader&&
(b.init.rootpath=a.rootpathLayout);"function"==typeof a.events.eventLoaderInit&&a.events.eventLoaderInit(b);!0==a.combine?b.LoaderInitCombine():b.LoaderInit()};
function ProChart_InitLayout(J,v,B){function K(){var h=$.Deferred(),e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/init.json.js"+C;if(a.navigator.XMLHttpRequest()){var w=new XMLHttpRequest;w.open("get",e);w.onload=function(){var e=$.parseJSON(w.responseText);c=e;a.layoutlevelinit=c;"undefined"==typeof c.chart&&(c.chart={});"undefined"==typeof c.size&&(c.size={});h.resolve(e)};w.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0}).done(function(e){c=
e;a.layoutlevelinit=c;"undefined"==typeof c.chart&&(c.chart={});"undefined"==typeof c.size&&(c.size={});h.resolve(e)});return h.promise()}function L(){var h=$.Deferred(),e=""==a.guiinit.timeupdateVersiongui?"?"+(new Date).getTime():"?"+a.guiinit.timeupdateVersiongui,e=a.guiinit.rootpath+"/ChartUI/version/prochart.version.json.js"+e;if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",e);c.onload=function(){var e=$.parseJSON(c.responseText);$.parseJSON(c.responseText);a.version.gui.build=
e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)};c.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0,error:function(a,h){}}).done(function(e){a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)});return h.promise()}function D(){var h=$.Deferred(),e=
!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/prochart.layout.js"+e;""!=a.guiinit.customLayoutFile&&(c=a.guiinit.customLayoutFile+e);if(a.navigator.XMLHttpRequest()){var f=new XMLHttpRequest;f.open("get",c);f.onload=function(){var d=f.responseText;eval(d);a.currenlayout=eval("ProChart_InitCurrentLayout")(a);h.resolve(d)};f.send()}else $.ajax({url:c,type:"get",contentType:"application/javascript",dataType:"script",data:{},async:!0,error:function(a,h){k.error(h)}}).done(function(d){eval(d);
a.currenlayout=eval("ProChart_InitCurrentLayout")(a);h.resolve(d)});return h.promise()}function M(){var h=$.Deferred(),e=!1==a.guiinit.cache?"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/patterns/layout.patterns.htm"+e;if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",e);c.onload=function(){var a=c.responseText;E(a);h.resolve(a)};c.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:e}).done(function(a){E(a);
h.resolve(a)});return h.promise()}function E(h){a.currenlayout.patterns.containter=m(h,"container");a.currenlayout.patterns.top=m(h,"top-pattern");a.currenlayout.patterns.left=m(h,"left-pattern");a.currenlayout.patterns.right=m(h,"right-pattern");a.currenlayout.patterns.bottom=m(h,"bottom-pattern");a.currenlayout.patterns.main=m(h,"main-pattern");a.currenlayout.patterns.mainchart=m(h,"main-pattern-chart");a.currenlayout.patterns.row=m(h,"row-pattern");a.currenlayout.patterns.col=m(h,"col-pattern");
typeof a.events.layout.readyComplete==typeof Function&&a.events.layout.readyComplete();a.eventStatus.layoutreadyComplete=!0;k.debug("Loadded readPattern()");ProChart_InitCommonUtils(a);var e=a.currenlayout.patterns,c=a.currenlayout.layout;q(c);l(c);h=a.commonutils.func.returnShortUniqID();a.currenlayout.chart.layoutiid=h;c.guiid="layout"+h;c.guiniid=a.commonutils.func.returnShortUniqID();c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var f=r(c),e=e.containter.replace(n,"").replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,f.style).replace(/%pstylein%/g,f.styleinner).replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid),c=s(c),e=e.replace(/%html%/g,c);$(a.parent).html(e);N("divChart"+h,h,"layout"+h);k.debug("function createLayout() ---- OK  ")}function s(h){var e="";if("undefined"==typeof h.items)return"";
for(var c=0,f=h.items.length;c<f;c++){var d=h.items[c];switch(d.type){case "top":var g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("inherit"==d.width||"auto"==d.width)d.width=g.width;if("inherit"==d.height||"auto"==d.height)d.height=F(d).height;d.top=0;d.left=0;g=r(d);g=a.currenlayout.patterns.top.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,
g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var b="",b=s(d),g=g.replace(/%html%/g,b),e=e+g;break;case "left":g=h;d.guiid=a.commonutils.func.returnShortUniqID();
d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("undefined"==typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(d.height-=g.items[b].height);d.left=0;g=r(d);g=a.currenlayout.patterns.left.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,
g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "right":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();
q(d);l(d);if("undefined"==typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(d.height-=g.items[b].height);d.right=0;g=r(d);g=a.currenlayout.patterns.right.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",
actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "main":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("undefined"==
typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&(d.height-=g.items[b].height);if("undefined"==typeof d.width||"inherit"==d.width)for(d.width=g.width,b=0;b<g.items.length;b++)"left"==g.items[b].type&&(d.left=g.items[b].width,d.width-=d.left),"right"==g.items[b].type&&(d.right=g.items[b].width,d.width-=d.right);g=r(d);g=a.currenlayout.patterns.main.replace(n,"").replace(/%id%/g,
d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "bottom":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);"inherit"==d.width&&(d.width=g.width);d.bottom=0;d.left=0;g=r(d);g=a.currenlayout.patterns.bottom.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "row":g=h;"undefined"==typeof d.guiid&&(d.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof d.guiniid&&(d.guiniid=a.commonutils.func.returnShortUniqID());q(d);
l(d);"inherit"==d.width&&(d.width=g.width);"inherit"==d.height&&(d.height=g.height);b=r(d);b=a.currenlayout.patterns.row.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var k="",k=s(d,g),b=b.replace(/%html%/g,k),e=e+b;break;case "col":g=h;"undefined"==typeof d.guiid&&(d.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof d.guiniid&&(d.guiniid=a.commonutils.func.returnShortUniqID());q(d);l(d);"inherit"==d.width&&(d.width=g.width);"inherit"==d.height&&(d.height=g.height);b=r(d);b=a.currenlayout.patterns.col.replace(n,
"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});k="";k=s(d,g);b=b.replace(/%html%/g,k);e+=b;break;case "toolbar":g=h;if("undefined"!=typeof a.currenlayout.toolbars&&null!=a.currenlayout.toolbars)for(b=0;b<a.currenlayout.toolbars.length;b++)if(k=a.currenlayout.toolbars[b],k.id==d.id){k.parent=g.guiid;break}break;case "menu":g=h;for(b=0;b<a.currenlayout.menus.items.length;b++)if(k=a.currenlayout.menus.items[b],k.id==d.id){k.parent=g.guiid;break}break;case "header":g=h;if("undefined"!=typeof a.currenlayout.headers&&
null!=a.currenlayout.headers)for(b=0;b<a.currenlayout.headers.length;b++)if(k=a.currenlayout.headers[b],k.id==d.id){k.parent=g.guiid;break}break;case "zoom":g=h;if("undefined"!=typeof a.currenlayout.zooms&&null!=a.currenlayout.zooms)for(b=0;b<a.currenlayout.zooms.length;b++)if(k=a.currenlayout.zooms[b],k.id==d.id){k.parent=g.guiid;break}break;case "chartcore":g=h;d.guiid=a.currenlayout.chart.layoutiid;d.height=g.height;d.width=g.width;for(b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,
d.height-=d.top),"bottom"==g.items[b].type&&(d.height-=g.items[b].height);for(b=0;b<g.items.length;b++)"left"==g.items[b].type&&(d.left=g.items[b].width,d.width-=d.left),"right"==g.items[b].type&&(d.width-=g.items[b].width);b=a.currenlayout.patterns.mainchart.replace(n,"").replace(/%id%/g,d.guiid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,"");a.currenlayout.chart={parent:g.guiid,width:d.width,height:d.height};b=b.replace(/%html%/g,"");e+=b}}return e}function F(a){var e=
{height:0,width:0};try{for(var b=0;b<a.items.length;b++)"row"!=a.items[b].type||!a.items[b].hasOwnProperty("origsize")||!0!=a.items[b].origsize.view&&"true"!=a.items[b].origsize.view||(!1==isNaN(a.items[b].width)&&(e.width+=a.items[b].width),!1==isNaN(a.items[b].height)&&(e.height+=a.items[b].height))}catch(f){}return e}function q(a){a.origsize={};"undefined"!=typeof a.width&&(a.origsize.width=a.width);"undefined"!=typeof a.height&&(a.origsize.height=a.height);"undefined"!=typeof a.top&&(a.origsize.top=
a.top);"undefined"!=typeof a.left&&(a.origsize.left=a.left);"undefined"!=typeof a.right&&(a.origsize.right=a.right);"undefined"!=typeof a.bottom&&(a.origsize.bottom=a.bottom);"undefined"!=typeof a.padding&&(a.origsize.padding=a.padding);"undefined"!=typeof a.view&&(a.origsize.view=a.view)}function l(a){a.realsize={width:0,height:0}}function r(a,e){var b="",f="";"undefined"==typeof e&&(e="px");"undefined"!=typeof a.left&&(b=b+"left :"+a.left+e+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+a.right+
e+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+a.top+e+"; ");"undefined"!=typeof a.bottom&&(b=b+"bottom :"+a.bottom+e+"; ");"undefined"!=typeof a.width&&(b=b+"width :"+a.width+e+"; ",f=f+"width :"+a.width+e+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+a.height+e+"; ",f=f+"height :"+a.height+e+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return{style:0<b.length?'style="'+b+'"':"",styleinner:0<f.length?'style="'+f+'"':""}}function p(){var a=window.innerHeight?window.innerHeight:
$(window).height(),e=window.innerWidth?window.innerWidth:$(window).width();return{height:a,width:e}}function x(){!1==y.resizelayout&&typeof a.events.layout.onResizing==typeof Function&&(y.resizelayout=!0,a.events.layout.onResizing(a.currenlayout.layout),y.resizelayout=!1);var b=a.currenlayout.layout;b.width=a.currenlayout.workmode.fullscreen?p().width:b.origsize.width;b.height=a.currenlayout.workmode.fullscreen?p().height:b.origsize.height;t(b);u(b);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.adjustSize();
"undefined"!=typeof a.menuobj&&a.menuobj.gui.adjustSize();"undefined"!=typeof a.zoomobj&&a.zoomobj.gui.adjustSize();!1==y.resizelayout&&typeof a.events.layout.onResized==typeof Function&&(y.resizelayout=!0,a.events.layout.onResized(b.width,b.height),y.resizelayout=!1)}function u(b){if("undefined"!=typeof b.items)for(var e=0,c=b.items.length;e<c;e++){var f=b.items[e];switch(f.type){case "top":"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?p().width:b.width);if("inherit"==
f.origsize.height||"auto"==f.origsize.height)f.height=F(f).height;l(f);f.top=0;f.left=0;t(f);u(f);break;case "left":var d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height){f.height=a.currenlayout.workmode.fullscreen?p().height:d.height;for(var g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=d.items[g].height,f.height-=
f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height)}f.left=0;t(f);u(f);break;case "right":d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?p().height:d.height,g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=
d.items[g].height,f.height-=f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height);f.right=0;t(f);u(f);break;case "main":d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?p().height:d.height,g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=
0,f.height=f.height):(f.top=d.items[g].height,f.height-=f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height);if("undefined"==typeof f.origsize.width||"inherit"==f.origsize.width)for(f.width=a.currenlayout.workmode.fullscreen?p().width:d.width,g=0;g<d.items.length;g++)"left"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.left=d.items[g].width,f.width-=f.left):(f.left=0,f.width=f.width):
(f.left=d.items[g].width,f.width-=f.left)),"right"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.right=d.items[g].width,f.width-=f.right):(f.right=0,f.width=f.width):(f.right=d.items[g].width,f.width-=f.right));t(f);u(f);break;case "bottom":d=b;l(f);"undefined"==typeof d.type?"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?p().width:d.width):f.width=d.width;f.bottom=0;f.left=0;t(f);u(f);break;case "row":d=b;l(f);if("inherit"==
f.origsize.width||"auto"==f.origsize.width)f.width=d.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=d.height;"undefined"==typeof d.realsize||"undefined"==typeof d.realsize.height||!0!=f.origsize.view&&"true"!=f.origsize.view||(d.height>=d.realsize.height+f.height?(f.view=!0,d.realsize.height+=f.height):f.view=!1);t(f);u(f);break;case "col":d=b;l(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=d.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=
d.height;"undefined"!=typeof d.realsize&&"undefined"!=typeof d.realsize.width&&(!0==f.origsize.view||"true"==f.origsize.view)&&d.height>=d.realsize.height+f.height&&(f.view=!0,d.realsize.height+=f.height);t(f);u(f);break;case "chartcore":d=b;f.height=d.height;f.width=d.width;for(g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=d.items[g].height,
f.height-=f.top)),f.height="bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view?f.height:f.height-d.items[g].height;a.currenlayout.chart={width:f.width,height:f.height};if("undefined"!=typeof a.panels){a.panels.gui.resizeFullpagePanels();try{a.chart&&"undefined"!=typeof a.chart.AdjustSize&&a.chart.AdjustSize()}catch(k){}}}}}function t(b,e){var c={},f={};"undefined"==typeof e&&(e="px");"undefined"!=typeof b.left&&(c.left=b.left+e);"undefined"!=typeof b.right&&(c.right=b.right+e);
"undefined"!=typeof b.top&&(c.top=b.top+e);"undefined"!=typeof b.bottom&&(c.bottom=b.bottom+e);"undefined"!=typeof b.width&&(c.width=b.width+e,f.width=b.width+e);"undefined"!=typeof b.height&&(c.height=b.height+e,f.height=b.height+e);"undefined"!=typeof b.view&&(c.display=!0==b.view||"true"==b.view?"":"none");!0!=jQuery.isEmptyObject(c)&&$(a.parent).find("#"+b.guiid).css(c);!0!=jQuery.isEmptyObject(f)&&$(a.parent).find("#"+b.guiniid).css(f);return c}function N(b,e,c){O(b,e,c);$.when(function(){var b=
$.Deferred();return"undefined"!=typeof a.menuobj?(k.debug("Before init initMenuPattern"),$.when(a.menuobj.gui.initPattern()).done(function(){k.debug("After init pattern initMenuPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.header?(k.debug("Before init pattern initHeaderPattern"),$.when(a.header.gui.initPattern()).done(function(){k.debug("After init pattern initHeaderPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=
$.Deferred();return"undefined"!=typeof a.toolbaradvobj?(k.debug("Before init pattern initToolbarPattern"),$.when(a.toolbaradvobj.gui.initPattern()).done(function(){k.debug("After init pattern initToolbarPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.zoomobj?(k.debug("Before init pattern initZoomPattern"),$.when(a.zoomobj.gui.initPattern()).done(function(a){k.debug("After init pattern initZoomPattern");b.resolve()}),b.promise()):b.resolve()}(),
function(){var b=$.Deferred();return"undefined"!=typeof a.panels?(k.debug("Before init pattern initPanelsPattern"),$.when(a.panels.gui.initPattern()).done(function(){k.debug("After init pattern initPanelsPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.drawobj?(k.debug("Before init pattern initDrawobjPattern"),$.when(a.drawobj.gui.initPattern()).done(function(){k.debug("After init pattern initDrawobjPattern");b.resolve()}),b.promise()):
b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.signals?($.when(a.signals.gui.initSignalsList()).done(function(a){k.debug("After init pattern initSignalList");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.plugs?($.when(a.plugs.gui.initPattern()).done(function(a){k.debug("After init pattern initPlugsPattern");b.resolve()}),b.promise()):b.resolve()}(),P()).done(function(){k.debug("!!!Done read all Patterns");Q(b,e,c);"function"==
typeof a.events.layout.initComplete&&a.events.layout.initComplete();a.eventStatus.layoutInitComplete=!0;a.gui.createChart();a.eventStatus.chartCreateComplete=!0})}function O(h,e,w){k.debug("initChart_step1 ----- start ("+h+")");ProChart_InitMain(a);"undefined"!=typeof a.guiinit.cache&&(!0==a.guiinit.cache?a.init.debug.cache=!0:!1==a.guiinit.cache&&(a.init.debug.cache=!1));a.init.LayoutName=v;a.init.TemplateName="undefined"!=typeof B?B:b(a.init.TemplateName,c.TemplateName);z=a.init.TemplateName;A(a.init.TemplateName);
a.init.chartcontainer=$("#"+h);a.init.chartcontainerid=h;a.init.layoutuid=w;a.init.uuid=e;a.init.size.width=b(a.init.size.width,c.size.width);a.init.size.height=b(a.init.size.height,c.size.height);a.init.size.subheight=b(a.init.size.subheight,c.size.subheight);null==a.gui.size.mainWidth&&(a.gui.size.mainWidth=b(a.init.size.mainWidth,c.size.mainWidth));null==a.gui.size.mainHeight&&(a.gui.size.mainHeight=b(a.init.size.mainHeight,c.size.mainHeight));null==a.gui.size.mainPaddingTop&&(a.gui.size.mainPaddingTop=
b(a.init.size.mainPaddingTop,c.size.mainPaddingTop));null==a.gui.size.mainPaddingBottom&&(a.gui.size.mainPaddingBottom=b(a.init.size.mainPaddingBottom,c.size.mainPaddingBottom));null==a.gui.size.mainPaddingLeft&&(a.gui.size.mainPaddingLeft=b(a.init.size.mainPaddingLeft,c.size.mainPaddingLeft));null==a.gui.size.mainPaddingRight&&(a.gui.size.mainPaddingRight=b(a.init.size.mainPaddingRight,c.size.mainPaddingRight));null==a.gui.size.width&&(a.gui.size.width=b(a.init.size.width,c.size.width));null==a.gui.size.height&&
(a.gui.size.height=b(a.init.size.height,c.size.height));null==a.gui.size.subheight&&(a.gui.size.subheight=b(a.init.size.subheight,c.size.subheight));null==a.gui.size.paddingTop&&(a.gui.size.paddingTop=b(a.init.size.paddingTop,c.size.paddingTop));null==a.gui.size.paddingBottom&&(a.gui.size.paddingBottom=b(a.init.size.paddingBottom,c.size.paddingBottom));null==a.gui.size.paddingPriceBottom&&(a.gui.size.paddingPriceBottom=b(a.init.size.paddingPriceBottom,c.size.paddingPriceBottom));null==a.gui.size.paddingLeft&&
(a.gui.size.paddingLeft=b(a.init.size.paddingLeft,c.size.paddingLeft));null==a.gui.size.paddingRight&&(a.gui.size.paddingRight=b(a.init.size.paddingRight,c.size.paddingRight));null==a.gui.size.zoomWidth&&(a.gui.size.zoomWidth=b(a.init.size.zoomWidth,c.size.zoomWidth));null==a.gui.size.zoomWidthRangebutton&&(a.gui.size.zoomWidthRangebutton=b(a.init.size.zoomWidthRangebutton,c.size.zoomWidthRangebutton));null==a.gui.size.autoInnerWidth&&(a.gui.size.autoInnerWidth=b(a.init.size.autoInnerWidth,c.size.autoInnerWidth));
null==a.gui.size.autoInnerHeight&&(a.gui.size.autoInnerHeight=b(a.init.size.autoInnerHeight,c.size.autoInnerHeight));null==a.gui.size.fixedSize&&(a.gui.size.fixedSize=b(a.init.size.fixedSize,c.size.fixedSize));null==a.gui.size.fullpage&&(a.gui.size.fullpage=b(a.init.size.fullpage,c.size.fullpage));null==a.gui.size.fullscreen&&(a.gui.size.fullscreen=b(a.init.size.fullscreen,c.size.fullscreen));null==a.gui.size.fullPaddingTop&&(a.gui.size.fullPaddingTop=b(a.init.size.fullPaddingTop,c.size.fullPaddingTop));
null==a.gui.size.fullPaddingBottom&&(a.gui.size.fullPaddingBottom=b(a.init.size.fullPaddingBottom,c.size.fullPaddingBottom));null==a.gui.size.fullPaddingLeft&&(a.gui.size.fullPaddingLeft=b(a.init.size.fullPaddingLeft,c.size.fullPaddingLeft));null==a.gui.size.fullPaddingRight&&(a.gui.size.fullPaddingRight=b(a.init.size.fullPaddingRight,c.size.fullPaddingRight));if(null==a.gui.guiblock.header.visible||"undefined"==typeof a.gui.guiblock.header.visible)a.gui.guiblock.header.visible=b(a.init.guiblock.header.visible,
c.gui.header.visible);if("undefined"==typeof a.gui.guiblock.menu.visible||null==a.gui.guiblock.menu.visible)a.gui.guiblock.menu.visible=b(a.init.guiblock.menu.visible,c.gui.menu.visible);if("undefined"==typeof a.gui.guiblock.menu.majors.visible||null==a.gui.guiblock.menu.majors.visible)a.gui.guiblock.menu.majors.visible=b(a.init.guiblock.menu.majors.visible,c.gui.menu.majors.visible);if("undefined"==typeof a.gui.guiblock.menu.template.visible||null==a.gui.guiblock.menu.template.visible)a.gui.guiblock.menu.template.visible=
b(a.init.guiblock.menu.template.visible,c.gui.menu.template.visible);if("undefined"==typeof a.gui.guiblock.menu.charttype.visible||null==a.gui.guiblock.menu.charttype.visible)a.gui.guiblock.menu.charttype.visible=b(a.init.guiblock.menu.charttype.visible,c.gui.menu.charttype.visible);if("undefined"==typeof a.gui.guiblock.menu.timeframe.visible||null==a.gui.guiblock.menu.timeframe.visible)a.gui.guiblock.menu.timeframe.visible=b(a.init.guiblock.menu.timeframe.visible,c.gui.menu.timeframe.visible);if("undefined"==
typeof a.gui.guiblock.menu.studies.visible||null==a.gui.guiblock.menu.studies.visible)a.gui.guiblock.menu.studies.visible=b(a.init.guiblock.menu.studies.visible,c.gui.menu.studies.visible);if("undefined"==typeof a.gui.guiblock.menu.compares.visible||null==a.gui.guiblock.menu.compares.visible)a.gui.guiblock.menu.compares.visible=b(a.init.guiblock.menu.compares.visible,c.gui.menu.compares.visible);if("undefined"==typeof a.gui.guiblock.menu.localization.visible||null==a.gui.guiblock.menu.localization.visible)a.gui.guiblock.menu.localization.visible=
b(a.init.guiblock.menu.localization.visible,c.gui.menu.localization.visible);if("undefined"==typeof a.gui.guiblock.menu.help.visible||null==a.gui.guiblock.menu.help.visible)a.gui.guiblock.menu.help.visible=b(a.init.guiblock.menu.help.visible,c.gui.menu.help.visible);if("undefined"==typeof a.gui.guiblock.menu.about.visible||null==a.gui.guiblock.menu.about.visible)a.gui.guiblock.menu.about.visible=b(a.init.guiblock.menu.about.visible,c.gui.menu.about.visible);if("undefined"==typeof a.gui.guiblock.toolbar.visible||
null==a.gui.guiblock.toolbar.visible)a.gui.guiblock.toolbar.visible=b(a.init.guiblock.toolbar.visible,c.gui.toolbar.visible);if("undefined"==typeof a.gui.guiblock.toolbar.charttype.visible||null==a.gui.guiblock.toolbar.charttype.visible)a.gui.guiblock.toolbar.charttype.visible=b(a.init.guiblock.toolbar.charttype.visible,c.gui.toolbar.charttype.visible);if("undefined"==typeof a.gui.guiblock.toolbar.timeframe.visible||null==a.gui.guiblock.toolbar.timeframe.visible)a.gui.guiblock.toolbar.timeframe.visible=
b(a.init.guiblock.toolbar.timeframe.visible,c.gui.toolbar.timeframe.visible);if("undefined"==typeof a.gui.guiblock.toolbar.systems.visible||null==a.gui.guiblock.toolbar.systems.visible)a.gui.guiblock.toolbar.systems.visible=b(a.init.guiblock.toolbar.systems.visible,c.gui.toolbar.systems.visible);if("undefined"==typeof a.gui.guiblock.toolbar.other.visible||null==a.gui.guiblock.toolbar.other.visible)a.gui.guiblock.toolbar.other.visible=b(a.init.guiblock.toolbar.other.visible,c.gui.toolbar.other.visible);
if("undefined"==typeof a.gui.guiblock.zoom.visible||null==a.gui.guiblock.zoom.visible)a.gui.guiblock.zoom.visible=b(a.init.guiblock.zoom.visible,c.gui.zoom.visible);if("undefined"==typeof a.gui.guiblock.zoom.zoomtoolbar.visible||null==a.gui.guiblock.zoom.zoomtoolbar.visible)a.gui.guiblock.zoom.zoomtoolbar.visible=b(a.init.guiblock.zoom.zoomtoolbar.visible,c.gui.zoom.zoomtoolbar.visible);if("undefined"==typeof a.gui.size.panels.unit||null==a.gui.size.panels.unit)a.gui.size.panels.unit=b(a.init.size.panels.unit,
c.panels.unit);if("undefined"==typeof a.gui.size.panels.padding||null==a.gui.size.panels.padding)a.gui.size.panels.padding=b(a.init.size.panels.padding,c.panels.padding);if("undefined"==typeof a.gui.size.panels.spiltmargin||null==a.gui.size.panels.spiltmargin)a.gui.size.panels.spiltmargin=b(a.init.size.panels.spiltmargin,c.panels.spiltmargin);if("undefined"==typeof a.gui.size.panels.margin||null==a.gui.size.panels.margin)a.gui.size.panels.margin=b(a.init.size.panels.margin,c.panels.margin);if("undefined"==
typeof a.gui.size.panels.price.grow||null==a.gui.size.panels.price.grow)a.gui.size.panels.price.grow=b(a.init.size.panels.price.grow,c.panels.price.grow);if("undefined"==typeof a.gui.size.panels.price.axisy.view||null==a.gui.size.panels.price.axisy.view)a.gui.size.panels.price.axisy.view=b(a.init.size.panels.price.axisy.view,c.panels.price.axisy.view);if("undefined"==typeof a.gui.size.panels.price.axisy.width||null==a.gui.size.panels.price.axisy.width)a.gui.size.panels.price.axisy.width=b(a.init.size.panels.price.axisy.width,
c.panels.price.axisy.width);if("undefined"==typeof a.gui.size.panels.price.axisy.right||null==a.gui.size.panels.price.axisy.right)a.gui.size.panels.price.axisy.right=b(a.init.size.panels.price.axisy.right,c.panels.price.axisy.right);if("undefined"==typeof a.gui.size.panels.price.axisy.padding||null==a.gui.size.panels.price.axisy.padding)a.gui.size.panels.price.axisy.padding=b(a.init.size.panels.price.axisy.right,c.panels.price.axisy.padding);if("undefined"==typeof a.gui.size.panels.price.axisx.view||
null==a.gui.size.panels.price.axisx.view)a.gui.size.panels.price.axisx.view=b(a.init.size.panels.price.axisx.view,c.panels.price.axisx.view);if("undefined"==typeof a.gui.size.panels.price.axisx.height||null==a.gui.size.panels.price.axisx.height)a.gui.size.panels.price.axisx.height=b(a.init.size.panels.price.axisx.height,c.panels.price.axisx.height);if("undefined"==typeof a.gui.size.panels.price.axisx.bottom||null==a.gui.size.panels.price.axisx.bottom)a.gui.size.panels.price.axisx.bottom=b(a.init.size.panels.price.axisx.bottom,
c.panels.price.axisx.bottom);if("undefined"==typeof a.gui.size.panels.price.axisx.right||null==a.gui.size.panels.price.axisx.right)a.gui.size.panels.price.axisx.right=b(a.init.size.panels.price.axisx.right,c.panels.price.axisx.right);if("undefined"==typeof a.gui.size.panels.price.axisx.padding||null==a.gui.size.panels.price.axisx.padding)a.gui.size.panels.price.axisx.padding=b(a.init.size.panels.price.axisx.right,c.panels.price.axisx.padding);if("undefined"==typeof a.gui.size.panels.price.main.top||
null==a.gui.size.panels.price.main.top)a.gui.size.panels.price.main.top=b(a.init.size.panels.price.main.top,c.panels.price.main.top);if("undefined"==typeof a.gui.size.panels.price.main.left||null==a.gui.size.panels.price.main.left)a.gui.size.panels.price.main.left=b(a.init.size.panels.price.main.left,c.panels.price.main.left);if("undefined"==typeof a.gui.size.panels.price.main.bottom||null==a.gui.size.panels.price.main.bottom)a.gui.size.panels.price.main.bottom=b(a.init.size.panels.price.main.bottom,
c.panels.price.main.bottom);if("undefined"==typeof a.gui.size.panels.price.main.right||null==a.gui.size.panels.price.main.right)a.gui.size.panels.price.main.right=b(a.init.size.panels.price.main.right,c.panels.price.main.right);if("undefined"==typeof a.gui.size.panels.price.main.padding||null==a.gui.size.panels.price.main.padding)a.gui.size.panels.price.main.padding=b(a.init.size.panels.price.main.right,c.panels.price.main.padding);if("undefined"==typeof a.gui.size.panels.price.legend.top||null==
a.gui.size.panels.price.legend.top)a.gui.size.panels.price.legend.top=b(a.init.size.panels.price.legend.top,c.panels.price.legend.top);if("undefined"==typeof a.gui.size.panels.price.legend.left||null==a.gui.size.panels.price.legend.left)a.gui.size.panels.price.legend.left=b(a.init.size.panels.price.legend.left,c.panels.price.legend.left);if("undefined"==typeof a.gui.size.panels.price.legend.height||null==a.gui.size.panels.price.legend.height)a.gui.size.panels.price.legend.height=b(a.init.size.panels.price.legend.height,
c.panels.price.legend.height);if("undefined"==typeof a.gui.size.panels.price.legend.right||null==a.gui.size.panels.price.legend.right)a.gui.size.panels.price.legend.right=b(a.init.size.panels.price.legend.right,c.panels.price.legend.right);if("undefined"==typeof a.gui.size.panels.price.legend.view||null==a.gui.size.panels.price.legend.view)a.gui.size.panels.price.legend.view=b(a.init.size.panels.price.legend.view,c.panels.price.legend.view);if("undefined"==typeof a.gui.size.panels.price.legend.padding||
null==a.gui.size.panels.price.legend.padding)a.gui.size.panels.price.legend.padding=b(a.init.size.panels.price.legend.right,c.panels.price.legend.padding);if("undefined"==typeof a.gui.size.panels.price.controlpanel.top||null==a.gui.size.panels.price.controlpanel.top)a.gui.size.panels.price.controlpanel.top=b(a.init.size.panels.price.controlpanel.top,c.panels.price.controlpanel.top);if("undefined"==typeof a.gui.size.panels.price.controlpanel.view||null==a.gui.size.panels.price.controlpanel.view)a.gui.size.panels.price.controlpanel.view=
b(a.init.size.panels.price.controlpanel.view,c.panels.price.controlpanel.view);if("undefined"==typeof a.gui.size.panels.price.controlpanel.height||null==a.gui.size.panels.price.controlpanel.height)a.gui.size.panels.price.controlpanel.height=b(a.init.size.panels.price.controlpanel.height,c.panels.price.controlpanel.height);if("undefined"==typeof a.gui.size.panels.price.controlpanel.right||null==a.gui.size.panels.price.controlpanel.right)a.gui.size.panels.price.controlpanel.right=b(a.init.size.panels.price.controlpanel.right,
c.panels.price.controlpanel.right);if("undefined"==typeof a.gui.size.panels.price.controlpanel.width||null==a.gui.size.panels.price.controlpanel.width)a.gui.size.panels.price.controlpanel.width=b(a.init.size.panels.price.controlpanel.width,c.panels.price.controlpanel.width);if("undefined"==typeof a.gui.size.panels.price.zoom.bottom||null==a.gui.size.panels.price.zoom.bottom)a.gui.size.panels.price.zoom.bottom=b(a.init.size.panels.price.zoom.bottom,c.panels.price.zoom.bottom);if("undefined"==typeof a.gui.size.panels.price.zoom.left||
null==a.gui.size.panels.price.zoom.left)a.gui.size.panels.price.zoom.left=b(a.init.size.panels.price.zoom.left,c.panels.price.zoom.left);if("undefined"==typeof a.gui.size.panels.price.zoom.right||null==a.gui.size.panels.price.zoom.right)a.gui.size.panels.price.zoom.right=b(a.init.size.panels.price.zoom.right,c.panels.price.zoom.right);if("undefined"==typeof a.gui.size.panels.price.zoom.view||null==a.gui.size.panels.price.zoom.view)a.gui.size.panels.price.zoom.view=b(a.init.size.panels.price.zoom.view,
c.panels.price.zoom.view);if("undefined"==typeof a.gui.size.panels.price.zoom.height||null==a.gui.size.panels.price.zoom.height)a.gui.size.panels.price.zoom.height=b(a.init.size.panels.price.zoom.height,c.panels.price.zoom.height);if("undefined"==typeof a.gui.size.panels.price.zoom.width||null==a.gui.size.panels.price.zoom.width)a.gui.size.panels.price.zoom.width=b(a.init.size.panels.price.zoom.width,c.panels.price.zoom.width);if("undefined"==typeof a.gui.size.panels.price.zoom.padding||null==a.gui.size.panels.price.zoom.padding)a.gui.size.panels.price.zoom.padding=
b(a.init.size.panels.price.zoom.padding,c.panels.price.zoom.padding);if("undefined"==typeof a.gui.size.panels.study.grow||null==a.gui.size.panels.study.grow)a.gui.size.panels.study.grow=b(a.init.size.panels.study.grow,c.panels.study.grow);if("undefined"==typeof a.gui.size.panels.study.axisy.view||null==a.gui.size.panels.study.axisy.view)a.gui.size.panels.study.axisy.view=b(a.init.size.panels.study.axisy.view,c.panels.study.axisy.view);if("undefined"==typeof a.gui.size.panels.study.axisy.top||null==
a.gui.size.panels.study.axisy.top)a.gui.size.panels.study.axisy.top=b(a.init.size.panels.study.axisy.top,c.panels.study.axisy.top);if("undefined"==typeof a.gui.size.panels.study.axisy.width||null==a.gui.size.panels.study.axisy.width)a.gui.size.panels.study.axisy.width=b(a.init.size.panels.study.axisy.width,c.panels.study.axisy.width);if("undefined"==typeof a.gui.size.panels.study.axisy.right||null==a.gui.size.panels.study.axisy.right)a.gui.size.panels.study.axisy.right=b(a.init.size.panels.study.axisy.right,
c.panels.study.axisy.right);if("undefined"==typeof a.gui.size.panels.study.axisy.bottom||null==a.gui.size.panels.study.axisy.bottom)a.gui.size.panels.study.axisy.bottom=b(a.init.size.panels.study.axisy.bottom,c.panels.study.axisy.bottom);if("undefined"==typeof a.gui.size.panels.study.axisy.padding||null==a.gui.size.panels.study.axisy.padding)a.gui.size.panels.study.axisy.padding=b(a.init.size.panels.study.axisy.right,c.panels.study.axisy.padding);if("undefined"==typeof a.gui.size.panels.study.axisx.view||
null==a.gui.size.panels.study.axisx.view)a.gui.size.panels.study.axisx.view=b(a.init.size.panels.study.axisx.view,c.panels.study.axisx.view);if("undefined"==typeof a.gui.size.panels.study.axisx.height||null==a.gui.size.panels.study.axisx.height)a.gui.size.panels.study.axisx.height=b(a.init.size.panels.study.axisx.height,c.panels.study.axisx.height);if("undefined"==typeof a.gui.size.panels.study.axisx.bottom||null==a.gui.size.panels.study.axisx.bottom)a.gui.size.panels.study.axisx.bottom=b(a.init.size.panels.study.axisx.bottom,
c.panels.study.axisx.bottom);if("undefined"==typeof a.gui.size.panels.study.axisx.right||null==a.gui.size.panels.study.axisx.right)a.gui.size.panels.study.axisx.right=b(a.init.size.panels.study.axisx.right,c.panels.study.axisx.right);if("undefined"==typeof a.gui.size.panels.study.axisx.padding||null==a.gui.size.panels.study.axisx.padding)a.gui.size.panels.study.axisx.padding=b(a.init.size.panels.study.axisx.right,c.panels.study.axisx.padding);if("undefined"==typeof a.gui.size.panels.study.main.top||
null==a.gui.size.panels.study.main.top)a.gui.size.panels.study.main.top=b(a.init.size.panels.study.main.top,c.panels.study.main.top);if("undefined"==typeof a.gui.size.panels.study.main.left||null==a.gui.size.panels.study.main.left)a.gui.size.panels.study.main.left=b(a.init.size.panels.study.main.left,c.panels.study.main.left);if("undefined"==typeof a.gui.size.panels.study.main.bottom||null==a.gui.size.panels.study.main.bottom)a.gui.size.panels.study.main.bottom=b(a.init.size.panels.study.main.bottom,
c.panels.study.main.bottom);if("undefined"==typeof a.gui.size.panels.study.main.right||null==a.gui.size.panels.study.main.right)a.gui.size.panels.study.main.right=b(a.init.size.panels.study.main.right,c.panels.study.main.right);if("undefined"==typeof a.gui.size.panels.study.main.padding||null==a.gui.size.panels.study.main.padding)a.gui.size.panels.study.main.padding=b(a.init.size.panels.study.main.right,c.panels.study.main.padding);if("undefined"==typeof a.gui.size.panels.study.legend.top||null==
a.gui.size.panels.study.legend.top)a.gui.size.panels.study.legend.top=b(a.init.size.panels.study.legend.top,c.panels.study.legend.top);if("undefined"==typeof a.gui.size.panels.study.legend.left||null==a.gui.size.panels.study.legend.left)a.gui.size.panels.study.legend.left=b(a.init.size.panels.study.legend.left,c.panels.study.legend.left);if("undefined"==typeof a.gui.size.panels.study.legend.height||null==a.gui.size.panels.study.legend.height)a.gui.size.panels.study.legend.height=b(a.init.size.panels.study.legend.height,
c.panels.study.legend.height);if("undefined"==typeof a.gui.size.panels.study.legend.right||null==a.gui.size.panels.study.legend.right)a.gui.size.panels.study.legend.right=b(a.init.size.panels.study.legend.right,c.panels.study.legend.right);if("undefined"==typeof a.gui.size.panels.study.legend.view||null==a.gui.size.panels.study.legend.view)a.gui.size.panels.study.legend.view=b(a.init.size.panels.study.legend.view,c.panels.study.legend.view);if("undefined"==typeof a.gui.size.panels.study.legend.padding||
null==a.gui.size.panels.study.legend.padding)a.gui.size.panels.study.legend.padding=b(a.init.size.panels.study.legend.right,c.panels.study.legend.padding);if("undefined"==typeof a.gui.size.panels.study.controlpanel.view||null==a.gui.size.panels.study.controlpanel.view)a.gui.size.panels.study.controlpanel.view=b(a.init.size.panels.study.controlpanel.view,c.panels.study.controlpanel.view);if("undefined"==typeof a.gui.size.panels.study.controlpanel.top||null==a.gui.size.panels.study.controlpanel.top)a.gui.size.panels.study.controlpanel.top=
b(a.init.size.panels.study.controlpanel.top,c.panels.study.controlpanel.top);if("undefined"==typeof a.gui.size.panels.study.controlpanel.height||null==a.gui.size.panels.study.controlpanel.height)a.gui.size.panels.study.controlpanel.height=b(a.init.size.panels.study.controlpanel.height,c.panels.study.controlpanel.height);if("undefined"==typeof a.gui.size.panels.study.controlpanel.right||null==a.gui.size.panels.study.controlpanel.right)a.gui.size.panels.study.controlpanel.right=b(a.init.size.panels.study.controlpanel.right,
c.panels.study.controlpanel.right);if("undefined"==typeof a.gui.size.panels.study.controlpanel.width||null==a.gui.size.panels.study.controlpanel.width)a.gui.size.panels.study.controlpanel.width=b(a.init.size.panels.study.controlpanel.width,c.panels.study.controlpanel.width);if("undefined"==typeof a.gui.size.panels.splitterx.grow||null==a.gui.size.panels.splitterx.grow)a.gui.size.panels.splitterx.grow=b(a.init.size.panels.splitterx.grow,c.panels.splitterx.grow);if("undefined"==typeof a.gui.size.panels.splitterx.height||
null==a.gui.size.panels.splitterx.height)a.gui.size.panels.splitterx.height=b(a.init.size.panels.splitterx.height,c.panels.splitterx.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.top||null==a.gui.size.panels.splitterx.main.top)a.gui.size.panels.splitterx.main.top=b(a.init.size.panels.splitterx.main.top,c.panels.splitterx.main.top);if("undefined"==typeof a.gui.size.panels.splitterx.main.view||null==a.gui.size.panels.splitterx.main.view)a.gui.size.panels.splitterx.main.view=b(a.init.size.panels.splitterx.main.view,
c.panels.splitterx.main.view);if("undefined"==typeof a.gui.size.panels.splitterx.main.left||null==a.gui.size.panels.splitterx.main.left)a.gui.size.panels.splitterx.main.left=b(a.init.size.panels.splitterx.main.left,c.panels.splitterx.main.left);if("undefined"==typeof a.gui.size.panels.splitterx.main.bottom||null==a.gui.size.panels.splitterx.main.bottom)a.gui.size.panels.splitterx.main.bottom=b(a.init.size.panels.splitterx.main.bottom,c.panels.splitterx.main.bottom);if("undefined"==typeof a.gui.size.panels.splitterx.main.right||
null==a.gui.size.panels.splitterx.main.right)a.gui.size.panels.splitterx.main.right=b(a.init.size.panels.splitterx.main.right,c.panels.splitterx.main.right);if("undefined"==typeof a.gui.size.panels.splitterx.main.height||null==a.gui.size.panels.splitterx.main.height)a.gui.size.panels.splitterx.main.height=b(a.init.size.panels.splitterx.main.height,c.panels.splitterx.main.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.padding||null==a.gui.size.panels.splitterx.main.padding)a.gui.size.panels.splitterx.main.padding=
b(a.init.size.panels.splitterx.main.right,c.panels.splitterx.main.padding);if("undefined"==typeof a.gui.size.panels.signal.grow||null==a.gui.size.panels.signal.grow)a.gui.size.panels.signal.grow=b(a.init.size.panels.signal.grow,c.panels.signal.grow);if("undefined"==typeof a.gui.size.panels.signal.main.top||null==a.gui.size.panels.signal.main.top)a.gui.size.panels.signal.main.top=b(a.init.size.panels.signal.main.top,c.panels.signal.main.top);if("undefined"==typeof a.gui.size.panels.signal.main.left||
null==a.gui.size.panels.signal.main.left)a.gui.size.panels.signal.main.left=b(a.init.size.panels.signal.main.left,c.panels.signal.main.left);if("undefined"==typeof a.gui.size.panels.signal.main.bottom||null==a.gui.size.panels.signal.main.bottom)a.gui.size.panels.signal.main.bottom=b(a.init.size.panels.signal.main.bottom,c.panels.signal.main.bottom);if("undefined"==typeof a.gui.size.panels.signal.main.right||null==a.gui.size.panels.signal.main.right)a.gui.size.panels.signal.main.right=b(a.init.size.panels.signal.main.right,
c.panels.signal.main.right);if("undefined"==typeof a.gui.size.panels.signal.main.padding||null==a.gui.size.panels.signal.main.padding)a.gui.size.panels.signal.main.padding=b(a.init.size.panels.signal.main.right,c.panels.signal.main.padding);if("undefined"==typeof a.gui.size.panels.signal.legend.top||null==a.gui.size.panels.signal.legend.top)a.gui.size.panels.signal.legend.top=b(a.init.size.panels.signal.legend.top,c.panels.signal.legend.top);if("undefined"==typeof a.gui.size.panels.signal.legend.left||
null==a.gui.size.panels.signal.legend.left)a.gui.size.panels.signal.legend.left=b(a.init.size.panels.signal.legend.left,c.panels.signal.legend.left);if("undefined"==typeof a.gui.size.panels.signal.legend.height||null==a.gui.size.panels.signal.legend.height)a.gui.size.panels.signal.legend.height=b(a.init.size.panels.signal.legend.height,c.panels.signal.legend.height);if("undefined"==typeof a.gui.size.panels.signal.legend.right||null==a.gui.size.panels.signal.legend.right)a.gui.size.panels.signal.legend.right=
b(a.init.size.panels.signal.legend.right,c.panels.signal.legend.right);if("undefined"==typeof a.gui.size.panels.signal.legend.view||null==a.gui.size.panels.signal.legend.view)a.gui.size.panels.signal.legend.view=b(a.init.size.panels.signal.legend.view,c.panels.signal.legend.view);if("undefined"==typeof a.gui.size.panels.signal.legend.padding||null==a.gui.size.panels.signal.legend.padding)a.gui.size.panels.signal.legend.padding=b(a.init.size.panels.signal.legend.right,c.panels.signal.legend.padding);
if("undefined"==typeof a.gui.size.panels.signal.controlpanel.view||null==a.gui.size.panels.signal.controlpanel.view)a.gui.size.panels.signal.controlpanel.view=b(a.init.size.panels.signal.controlpanel.view,c.panels.signal.controlpanel.view);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.top||null==a.gui.size.panels.signal.controlpanel.top)a.gui.size.panels.signal.controlpanel.top=b(a.init.size.panels.signal.controlpanel.top,c.panels.signal.controlpanel.top);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.width||
null==a.gui.size.panels.signal.controlpanel.width)a.gui.size.panels.signal.controlpanel.width=b(a.init.size.panels.signal.controlpanel.width,c.panels.signal.controlpanel.width);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.height||null==a.gui.size.panels.signal.controlpanel.height)a.gui.size.panels.signal.controlpanel.height=b(a.init.size.panels.signal.controlpanel.height,c.panels.signal.controlpanel.height);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.right||null==
a.gui.size.panels.signal.controlpanel.right)a.gui.size.panels.signal.controlpanel.right=b(a.init.size.panels.signal.controlpanel.right,c.panels.signal.controlpanel.right);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.padding||null==a.gui.size.panels.signal.controlpanel.padding)a.gui.size.panels.signal.controlpanel.padding=b(a.init.size.panels.signal.controlpanel.right,c.panels.signal.controlpanel.padding);if("undefined"==typeof a.gui.size.panels.signal.alert.top||null==a.gui.size.panels.signal.alert.top)a.gui.size.panels.signal.alert.top=
b(a.init.size.panels.signal.alert.top,c.panels.signal.alert.top);if("undefined"==typeof a.gui.size.panels.signal.alert.left||null==a.gui.size.panels.signal.alert.left)a.gui.size.panels.signal.alert.left=b(a.init.size.panels.signal.alert.left,c.panels.signal.alert.left);if("undefined"==typeof a.gui.size.panels.signal.alert.bottom||null==a.gui.size.panels.signal.alert.bottom)a.gui.size.panels.signal.alert.bottom=b(a.init.size.panels.signal.alert.bottom,c.panels.signal.alert.bottom);if("undefined"==
typeof a.gui.size.panels.signal.alert.right||null==a.gui.size.panels.signal.alert.right)a.gui.size.panels.signal.alert.right=b(a.init.size.panels.signal.alert.right,c.panels.signal.alert.right);if("undefined"==typeof a.gui.size.panels.signal.alert.view||null==a.gui.size.panels.signal.alert.view)a.gui.size.panels.signal.alert.view=b(a.init.size.panels.signal.alert.view,c.panels.signal.alert.view);if("undefined"==typeof a.gui.size.panels.signal.alert.padding||null==a.gui.size.panels.signal.alert.padding)a.gui.size.panels.signal.alert.padding=
b(a.init.size.panels.signal.alert.right,c.panels.signal.alert.padding);null!=a.gui.init.majors&&(a.init.majors=jQuery.extend(!0,[],a.gui.init.majors));null!=a.gui.init.compares&&(a.init.compares=jQuery.extend(!0,[],a.gui.init.compares));null!=a.gui.init.majors2&&(a.init.majors2=jQuery.extend(!0,[],a.gui.init.majors2));null!=a.gui.init.localization?a.init.localization=jQuery.extend(!0,[],a.gui.init.localization):a.gui.init.localization=jQuery.extend(!0,[],a.init.localization);null!=a.gui.init.timeframe&&
(a.init.timeframe=jQuery.extend(!0,[],a.gui.init.timeframe));null!=a.gui.init.autotimescale&&(a.init.autotimescale=jQuery.extend(!0,[],a.gui.init.autotimescale));null!=a.gui.init.charttype&&(a.init.charttype=jQuery.extend(!0,[],a.gui.init.charttype));null!=a.gui.init.indicators&&(a.init.indicators=jQuery.extend(!0,[],a.gui.init.indicators));null!=a.gui.init.comparecharttype&&(a.init.comparecharttype=jQuery.extend(!0,[],a.gui.init.comparecharttype));!0==a.gui.size.fullpage&&(a.currenlayout.workmode.fullscreen=
!0,a.currenlayout.workmode.alwaysfullscreen=!0,G());x();h=b(a.init.localizationlang,a.gui.init.localizationlang);ProChart_InitLocalization(a,h);a.chart=AdvinionHtmlChart_Init();a.localizationobj&&(a.chart.LocalizationManager=a.localizationobj);a.chart.FixedSize=a.gui.size.fixedSize;a.actions=ProChart_InitActions(a);a.init.templates=b(a.init.templates,c.templates);a.chart.Symbol=b(a.init.chart.Symbol,c.chart.Symbol);a.chart.TimeScale=b(a.init.chart.TimeScale,c.chart.TimeScale);a.chart.PriceChartType=
b(a.init.chart.PriceChartType,c.chart.PriceChartType);a.chart.DefaultMarket=b(a.init.chart.DefaultMarket,c.chart.DefaultMarket);a.chart.ValueFieldType=b(a.init.chart.ValueFieldType,c.chart.ValueFieldType);a.chart.AllowChangingSymbols=b(a.init.chart.AllowChangingSymbols,c.chart.AllowChangingSymbols);a.chart.AllowChangingTimeScale=b(a.init.chart.AllowChangingTimeScale,c.chart.AllowChangingTimeScale);a.chart.ShowBarData=b(a.init.chart.ShowBarData,c.chart.ShowBarData);a.chart.MarkersCornerRadius=b(a.init.chart.MarkersCornerRadius,
c.chart.MarkersCornerRadius);a.chart.ShowSymbolAndUpdate=b(a.init.chart.ShowSymbolAndUpdate,c.chart.ShowSymbolAndUpdate);a.chart.NumVisibleBars=b(a.init.chart.NumVisibleBars,c.chart.NumVisibleBars);a.chart.NumBars=b(a.init.chart.NumBars,c.chart.NumBars);a.chart.DataServiceURL=b(a.init.chart.DataServiceURL,c.chart.DataServiceURL);a.chart.TemplatesServiceURL=b(a.init.chart.TemplatesServiceURL,c.chart.TemplatesServiceURL);a.chart.DisplayBarNumber=b(a.init.chart.DisplayBarNumber,c.chart.DisplayBarNumber);
a.chart.SymbolsServiceURL=b(a.init.chart.SymbolsServiceURL,c.chart.SymbolsServiceURL);a.chart.PanelPaddingLeft=a.gui.size.paddingLeft;a.chart.PanelPaddingRight=a.gui.size.paddingRight;a.chart.PanelPaddingTop=a.gui.size.paddingTop;a.chart.PanelPaddingBottom=a.gui.size.paddingBottom;a.chart.PricePaddingBottom=a.gui.size.paddingPriceBottom;!0==a.guiinit.menu&&(a.menuobj=ProChart_InitMenu(a));!0==a.guiinit.draw&&"undefined"!=typeof ProChart_InitDraw&&ProChart_InitDraw(a);!0==a.guiinit.indicators&&"undefined"!=
typeof ProChart_Initindicators&&ProChart_Initindicators(a);!0==a.guiinit.system&&"undefined"!=typeof ProChart_InitSystems&&ProChart_InitSystems(a);!0==a.guiinit.community&&"undefined"!=typeof ProChart_InitCommunity&&ProChart_InitCommunity(a);!0==a.guiinit.messages&&"undefined"!=typeof ProChart_InitMessages&&ProChart_InitMessages(a);!0==a.guiinit.compare&&"undefined"!=typeof ProChart_InitCompares&&ProChart_InitCompares(a);!0==a.guiinit.signals&&"undefined"!=typeof ProChart_InitSignals&&ProChart_InitSignals(a);
!0==a.guiinit.header&&(a.headerobj=ProChart_InitHeader(a));!0==a.guiinit.alert&&(a.alertobj=ProChart_InitAlert(a));!0==a.guiinit.msg&&(a.msgobj=ProChart_InitMsg(a));!0==a.guiinit.toolbaradv&&"undefined"!=typeof ProChart_InitToolbarAdv&&ProChart_InitToolbarAdv(a);!0==a.guiinit.plugs&&"undefined"!=typeof ProChart_InitPlugs&&ProChart_InitPlugs(a);!0==a.guiinit.props&&"undefined"!=typeof ProChart_InitProps&&ProChart_InitProps(a);"undefined"!=typeof ProChart_InitPanels&&(a.chart.UI.objPanelsCore=ProChart_InitPanels(a).core);
!0==a.guiinit.zoom&&"undefined"!=typeof ProChart_InitZoom&&ProChart_InitZoom(a);!0==a.guiinit.trade&&"undefined"!=typeof ProChart_InitTrade&&ProChart_InitTrade(a);ProChart_InitPreload(a);"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&R()}function R(){$("#"+a.guiinit.parentRelativeObjectID).resize(function(b){var e=null,c=null;"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?(e=$(b.srcElement).width(),
c=$(b.srcElement).height()):(e="undefined"!=typeof $(this).outerWidth()?$(this).outerWidth():$(this).width(),c="undefined"!=typeof $(this).outerHeight()?$(this).outerHeight():$(this).height());if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(e,c);else a.api.layout.changeSize(e,c,!1)})}function Q(h,e,w){k.debug("initChart_step2 ---- starts ("+h+")");"undefined"!=typeof a.menuobj&&a.menuobj.gui.viewMenu($("#layout"+e));"undefined"!=typeof a.headerobj&&
a.headerobj.gui.viewHeader($("#layout"+e));"undefined"!=typeof a.alertobj&&a.alertobj.gui.viewAlert($("#layout"+e));"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewToolbarTop($("#layout"+e));a.chart.UI.funcOnShapeSelectChange=S;a.chart.UI.funcOnStartDrawing=T;a.chart.UI.funcOnStopDrawing=U;a.chart.UI.funcOnShapeDelete=V;a.chart.UI.funcOnShapeChanged=W;a.chart.UI.funcOnShapeEndDrag=X;a.chart.UI.funcOnShapeEndSize=Y;a.chart.UI.funcOnStudyUpdated=Z;a.chart.UI.funcOnStudyAdded=aa;a.chart.UI.funcOnStudyDeleted=
ba;a.chart.UI.funcOnLastUpdateChange=ca;a.chart.UI.funcOnSymbolChange=da;a.chart.UI.funcOnTimeScaleChange=ea;a.chart.UI.funcOnCommChange=fa;a.chart.UI.funcOnChartSweepStart=ga;a.chart.UI.funcOnChartSweepEnd=ha;a.chart.UI.funcOnWait=ia;a.chart.UI.funcOnLogin=ja;a.chart.UI.funcOnTemplatesList=ka;a.chart.UI.funcOnTemplatesLoaded=la;a.chart.UI.funcOnTemplatesSaved=ma;a.chart.UI.funcOnTemplatesDeleted=na;a.chart.UI.funcOnTemplatesError=oa;a.chart.UI.funcOnPriceEdit=pa;a.chart.UI.funcOnTimeChange=qa;a.chart.UI.funcOnPriceTypeChange=
ra;a.chart.UI.funcOnTimeZoneChanged=sa;a.chart.UI.funcOnCompareEdit=ta;a.chart.UI.funcOnCompareSymbolDelete=ua;a.chart.UI.funcOnVolumeEdit=va;a.chart.UI.funcOnSignalMouseIn=wa;a.chart.UI.funcOnSignalMouseOut=xa;a.chart.UI.funcOnSignalMouseClick=ya;a.chart.UI.funcOnNewSignal=za;a.chart.UI.funcOnSignalRemoved=Aa;a.chart.UI.funcOnSignalFullRefresh=Ba;a.chart.UI.funcOnWaitForSignals=Ca;a.chart.UI.funcOnGotSignals=Da;a.chart.UI.funcOnFindSymbols=Ea;a.chart.UI.funcOnSymbolsByGroup=Fa;a.chart.UI.funcOnGetMarkets=
Ga;a.chart.UI.funcOnGetExchanges=Ha;a.chart.UI.funcOnGetCountries=Ia;a.chart.UI.funcOnDisablePanelUI=Ja;a.chart.UI.funcOnPluginContentUpdate=Ka;a.chart.UI.funcOnPluginEnableChanged=La;a.chart.UI.funcOnProSignalUpdateDisplay=Ma;a.localizationobj.funcOnChangeLocalication=Na;a.events.layout.onResizeParentRelative=Oa;a.chart.UI.funcOnCanSaveTA=Pa;a.chart.UI.funcOnCanLoadTA=Qa;a.chart.UI.funcOnEditOrder=function(b,d){"undefined"!=typeof a.tradeobj&&a.tradeobj.gui.openTradeDialog(b,d,a.chart)};a.chart.StudiesToLoad=
b(a.init.chart.StudiesToLoad,c.chart.StudiesToLoad);x()}function Pa(b,e,c){if(typeof a.events.chart.onCanSaveTA==typeof Function)a.events.chart.onCanSaveTA(e,c)}function Qa(b,e,c){if(typeof a.events.chart.onCanLoadTA==typeof Function)a.events.chart.onCanLoadTA(e,c)}function Oa(b,e){"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&a.api.layout.changeSize(b,e)}function Ra(a,b){var c=this;c.wait=!1;c.delta=200;c.end=a;c.trigger=function(a){c.wait||(c.wait=
!0,setTimeout(function(){c.end&&c.end.call(a);c.wait=!1},c.delta))}}function G(){var b=$(a.parent);b.append("<div id='chart-full-page-div-modal'  ><div></div></div>");b.append("<div id='chart-full-page-div-modal-bg'></div>");b=$(a.parent).find("prochart").detach();$("#chart-full-page-div-modal > div").append(b);x();H();var e=new Ra(function(){"undefined"!=typeof a.chart&&!0==a.currenlayout.workmode.fullscreen&&(x(),H())},600);$(window).resize().off();$(window).resize(function(){e.trigger()})}function H(){var a=
p();$("#chart-full-page-div-modal > div").css(a)}function T(b,e,c){$("#"+a.init.chartcontainerid).addClass("cursor-draw");if(typeof a.events.chart.onStartDrawing==typeof Function)a.events.chart.onStartDrawing(e,c);if(typeof a.events.shape.onStartDrawing==typeof Function)a.events.shape.onStartDrawing()}function U(b){$("#"+a.init.chartcontainerid).removeClass("cursor-draw");if(typeof a.events.chart.onStopDrawing==typeof Function)a.events.chart.onStopDrawing();if(typeof a.events.shape.onStopDrawing==
typeof Function)a.events.shape.onStopDrawing()}function S(b,e,c){c&&$("#"+a.init.chartcontainerid).focus();if(typeof a.events.chart.onShapeSelectChange==typeof Function)a.events.chart.onShapeSelectChange(e,c);if(typeof a.events.shape.onSelectChange==typeof Function)a.events.shape.onSelectChange()}function V(){if(typeof a.events.shape.onDelete==typeof Function)a.events.shape.onDelete()}function W(){if(typeof a.events.shape.onChanged==typeof Function)a.events.shape.onChanged()}function X(){if(typeof a.events.shape.onEndDrag==
typeof Function)a.events.shape.onEndDrag()}function Y(){if(typeof a.events.shape.onEndSize==typeof Function)a.events.shape.onEndSize()}function Z(){if(typeof a.events.study.onUpdated==typeof Function)a.events.study.onUpdated()}function aa(){if(typeof a.events.study.onAdded==typeof Function)a.events.study.onAdded()}function ba(){if(typeof a.events.study.onDeleted==typeof Function)a.events.study.onDeleted()}function ka(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.systemsList(b,e,c);if(typeof a.events.chart.onTemplatesList==
typeof Function)a.events.chart.onTemplatesList(e,c)}function la(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loadedSystem(b,e);if(typeof a.events.chart.onTemplatesLoaded==typeof Function)a.events.chart.onTemplatesLoaded(e)}function ja(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loginInSystems(b,e);if(typeof a.events.chart.onSystemLogin==typeof Function)a.events.chart.onSystemLogin(e)}function ma(b,e){"undefined"!=typeof a.systems&&a.systems.gui.savedSystem(b,e);if(typeof a.events.chart.onTemplatesSaved==
typeof Function)a.events.chart.onTemplatesSaved(e)}function na(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.deletedSystem(b,e,c);if(typeof a.events.chart.onTemplatesDeleted==typeof Function)a.events.chart.onTemplatesDeleted(e,c)}function oa(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.errorSystem(b,e,c);if(typeof a.events.chart.onTemplatesError==typeof Function)a.events.chart.onTemplatesError(e,c)}function pa(b,e){"undefined"!=typeof a.props&&a.props.gui.viewPriceOnly(b,e);if(typeof a.events.chart.onPriceEdit==
typeof Function)a.events.chart.onPriceEdit(e)}function ta(b,e){"undefined"!=typeof a.compares&&a.compares.gui.openCompareSymbol(b,e);if(typeof a.events.chart.onCompareEdit==typeof Function)a.events.chart.onCompareEdit(e)}function ua(a,b){}function va(b,e){"undefined"!=typeof a.props&&a.props.gui.viewVolumeOnly(b,e);if(typeof a.events.chart.onVolumeEdit==typeof Function)a.events.chart.onVolumeEdit(e)}function qa(b,e,c){if(typeof a.events.chart.onTimeChange==typeof Function)a.events.chart.onTimeChange(e,
c)}function ra(b,e){"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedChartTypeButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedChartTypeButton(e);if(typeof a.events.chart.onPriceTypeChange==typeof Function)a.events.chart.onPriceTypeChange(a.parent,e)}function sa(b,e){if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onTimeZoneChange();if(typeof a.events.chart.onTimeZoneChanged==typeof Function)a.events.chart.onTimeZoneChanged(a.parent,e)}function ca(b,e){if("undefined"!=
typeof a.headerobj)a.headerobj.gui.onLastUpdateChange(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onLastUpdateChange(b,e);if(typeof a.events.chart.onLastUpdateChange==typeof Function){var c=a.chart.GetLastBidAsk();a.events.chart.onLastUpdateChange(a.parent,e,c)}}function da(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeSymbol(b,e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.updateTimesScale(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.updateTimesScale(e);
"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale(e);if(typeof a.events.chart.onChangeSymbol==typeof Function)a.events.chart.onChangeSymbol(a.parent,e)}function ea(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeTimeframe(b,e);"undefined"!=typeof a.chart&&(a.chart.TimeFrame=e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedTimeFrameButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedTimeFrameButton(e);if(typeof a.events.chart.onChangeTimeframe==
typeof Function)a.events.chart.onChangeTimeframe(a.parent,e)}function fa(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onCommunication(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onCommunication(b,e);if(typeof a.events.chart.onCommunication==typeof Function)a.events.chart.onCommunication(a.parent,e)}function ga(b){if(typeof a.events.chart.onChartSweepStart==typeof Function)a.events.chart.onChartSweepStart()}function ha(b){if(typeof a.events.chart.onChartSweepEnd==typeof Function)a.events.chart.onChartSweepEnd()}
function ia(b,e,c){if("undefined"!=typeof a.preloadobj){switch(e){case !0:a.preloadobj.startPreload();break;case !1:a.preloadobj.endPreload()}if(typeof a.events.chart.onWait==typeof Function)a.events.chart.onWait(e,c)}}function b(a,b){return"undefined"!=typeof b&&null!=b?b:a}function xa(a,b){}function ya(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callfuncOnSignalMouseClick(b,e),typeof a.events.chart.onSignalMouseClick==typeof Function))a.events.chart.onSignalMouseClick(e)}function za(b,
e){if("undefined"!=typeof a.signals&&(a.signals.gui.callNewsignal(b,e),typeof a.events.chart.onNewSignal==typeof Function))a.events.chart.onNewSignal(e)}function Aa(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callRemovesignal(b,e),typeof a.events.chart.onSignalRemoved==typeof Function))a.events.chart.onSignalRemoved(e)}function Ba(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callFullRefreshsignals(b,e),typeof a.events.chart.onSignalFullRefresh==typeof Function))a.events.chart.onSignalFullRefresh(e)}
function wa(b,e){if("undefined"!=typeof a.signals&&typeof a.events.chart.onSignalMouseIn==typeof Function)a.events.chart.onSignalMouseIn(e)}function Ca(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.startWaitSignal(e),typeof a.events.chart.onWaitForSignals==typeof Function))a.events.chart.onWaitForSignals(e)}function Da(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal(e),typeof a.events.chart.onGotSignals==typeof Function))a.events.chart.onGotSignals(e)}
function Ea(b,e,c){if("undefined"!=typeof e.guiparent)switch(e.guiparent){case "header":"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,c);break;case "dialogcompares":"undefined"!=typeof a.compares&&a.compares.gui.callbackonFindSymbols(b,e,c);break;default:"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,c)}}function Fa(b,e,c){b="majors";"undefined"!=typeof e.guigroup&&(b=e.guigroup);switch(b){case "majors2":"undefined"!=typeof a.init&&a.init.gui.majors2Update(c.data);
"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajors2();break;case "majors":e=!0;try{null!=a.api.localstorage.getMajorsFavorites()&&(e=!1)}catch(f){}if(!0==e){"undefined"!=typeof a.init&&a.init.gui.majorsUpdate(c.data);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites();break}case "compares":e=!0;try{null!=a.api.localstorage.getCompareFavorites()&&(e=!1)}catch(d){}!0==e&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(c.data),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites())}}
function Ga(b,e,c){"undefined"!=typeof a.init&&a.init.gui.marketsUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.marketsUpdate()}function Ha(b,e,c){"undefined"!=typeof a.init&&a.init.gui.exchangesUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.exchangesUpdate()}function Ia(b,e,c){"undefined"!=typeof a.init&&a.init.gui.countriesUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.countriesUpdate()}function Ja(b,e){"undefined"!=typeof a.panels&&a.panels.gui.disablePanelEvents(b,
e)}function Ka(b,e,c,f){"undefined"!=typeof a.signals&&a.signals.gui.pluginContentUpdate(b,e,c,f)}function Ma(b,e,c){"undefined"!=typeof a.plugs&&a.plugs.gui.updateContent(b,e,c)}function La(b,e,c){"undefined"!=typeof a.signals&&a.signals.gui.pluginEnableChanged(b,e,c)}function Na(b,e){"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.changeLocalization(b,e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeLocalization(b,e);"undefined"!=typeof a.panels&&a.panels.gui.changeLocalization(b,
e);if(typeof a.events.localization.onChange==typeof Function)a.events.localization.onChange(a.parent,b,e)}function A(b,e,c){"undefined"==typeof c&&(c=!0);if(null!=a.parent&&""!=b){var f=$(a.parent).find(".htmlchart");0<f.length&&($(f).hasClass(b)||$(f).addClass(b),"default"!=b&&$(f).removeClass("default"),"undefined"!=typeof e?$(f).hasClass(e)&&b!=e&&$(f).removeClass(e):$(f).hasClass(z)&&b!=z&&$(f).removeClass(z),z=b,!0==a.gui.size.fullpage&&Sa(b),e=a.guiinit.cache,!0==e&&!1==c&&(e=!1),c=!1==e?"?"+
(new Date).getTime():"","undefined"!=typeof a.chart&&(e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+b+"/chart.css.json.js"+c,""!=a.guiinit.customJsonCssFile&&(e=a.guiinit.customJsonCssFile+c),$.when(Ta(e)).then(function(a){}).done(function(){a.init.TemplateName=b;"undefined"!=typeof a.preloadobj&&a.preloadobj.endPreload()})))}}function Ta(b){if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest,k=$.Deferred();c.open("get",b);c.onload=function(){var b=$.parseJSON(c.responseText);$.parseJSON(c.responseText);
a.chart.StyleObject=b;a.chart.SetStyleObject(b);k.resolve(b)};c.send();return k}return $.ajax({url:b,contentType:"application/javascript",dataType:"json",data:{},success:function(b){a.chart.StyleObject=b;a.chart.SetStyleObject(b)},async:!0,error:function(a,b){}})}function Sa(a){var b=$("#chart-full-page-div-modal");if("undefined"!=typeof b){$(b).hasClass(a)||$(b).addClass(a);"default"!=a&&$(b).removeClass("default");for(var c="",f=1;10>=f;f++)c="template"+f,$(b).hasClass(c)&&a!=c&&$(b).removeClass(c)}}
function Ua(a){if("undefined"==typeof a)return!1;a=a.toLowerCase();for(var b=0;b<document.styleSheets.length;b++)if("undefined"!=typeof document.styleSheets[b].href&&null!=document.styleSheets[b].href&&-1<document.styleSheets[b].href.toLowerCase().indexOf(a))return!0;return!1}function P(){var b=$.Deferred(),c=a.init.TemplateName,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+c+"/chart.css.json.js"+k;""!=a.guiinit.customJsonCssFile&&(c=a.guiinit.customJsonCssFile+
k);if(a.navigator.XMLHttpRequest()){var f=new XMLHttpRequest;f.open("get",c);f.onload=function(){var c=$.parseJSON(f.responseText);a.chart.StyleObject=c;b.resolve(c)};f.send()}else return $.ajax({type:"GET",async:!0,contentType:"application/javascript",dataType:"json",url:c,data:{}}).done(function(c){a.chart.StyleObject=c;b.resolve(c)});return b.promise()}function m(a,b){var c="",f=a.indexOf("<"+b+">"),d=("<"+b+">").length,g=a.indexOf("</"+b+">");-1!=f&&-1!=g&&g>f+d&&(c=a.substring(f+d,g));return c}
function Va(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1}var a={},c={},I=".min",n=/=""/g;a.parent=J;a.layoutlevelinit=c;a.templates=[];a.version={gui:{name:"",build:0,custom:0}};var z="";a.eventStatus={layoutreadyComplete:!1,layoutInitComplete:!1,
chartCreateComplete:!1};var y={resizelayout:!1};a.gui={loadLayout:function(){a.navigator.properties.detectIE=Va();"undefined"!=typeof a.guiinit.minifier&&!1==a.guiinit.minifier&&(I="");"undefined"!=typeof a.guiinit.cache&&!1==a.guiinit.cache&&(C="?"+(new Date).getTime());$.when(K(),L(),D()).done(function(){M();k.debug("Loadded loadJsonIni(), loadVersion(), loadLayoutJson()")})},createChart:function(){var b=$(a.parent).find("#"+a.init.chartcontainerid)[0];CreateAdvinionHtmlChart(a.chart,a.init.chartcontainerid,
null,null,null,null);adv_hook_event.ADVINION_Internal_HookEvent(b,"mousewheel",adv_hook_event.ADVINION_Internal_CancelEvent);"undefined"!=typeof a.zoomobj&&(a.zoomobj.gui.viewZoom($("#layout"+a.init.uuid)),a.zoomobj.gui.viewZoomToolbox());try{var c=$("#"+a.guiinit.parentRelativeObjectID),k=b=null,b="undefined"!=typeof $(c).outerWidth()?$(c).outerWidth():$(c).width(),k="undefined"!=typeof $(c).outerHeight()?$(c).outerHeight():$(c).height();if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(b,
k);else a.api.layout.changeSize(b,k,!1)}catch(f){}"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.changeLocalization();"function"==typeof a.events.chart.createComplete&&a.events.chart.createComplete()},changeTemplate:A,loadchangeTemplate:function(b){if(""!=b){var c=a.version.gui.name,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+b+"/template"+I+".css",c="css!"+f+(""==k?"?"+c:k+c);"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload();
Ua(f)?A(b):(yepnope.errorTimeout=a.init.debug.yeapTimeout,yepnope({load:{loadtempl:c},complete:function(a,c,e){A(b)}}))}},fullScreen:function(b){if(a.currenlayout.workmode.alwaysfullscreen)a.apiinit.fullpageHideScroll&&$("body").css("overflow","hidden");else switch(a.currenlayout.workmode.fullscreen){case !1:a.currenlayout.workmode.fullscreen=!0;G();a.apiinit.fullpageHideScroll&&$("body").css("overflow","hidden");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!0);
break;case !0:a.currenlayout.workmode.fullscreen=!1;b=$(a.parent);a.currenlayout.workmode.fullscreen=!1;var c=$(a.parent).find("prochart").detach();b.html("");b.append(c);if("undefined"!=typeof a.zoomobj&!1==a.gui.size.fixedSize)a.zoomobj.gui.onZoomBottomFixed(!1);$(window).resize().off();x();a.apiinit.fullpageHideScroll&&$("body").css("overflow","inherit");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!1)}},adjustResize:x,resizeLayout:x,changeLayout:function(){$.when(D()).done(function(){k.debug("changeLayout")})}};
a.navigator={properties:{detectIE:!1,xdrMinIE:10,alvaysXMLHttpRequest:!1},XMLHttpRequest:function(){return"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest&&a.navigator.properties.detectIE<=a.navigator.properties.xdrMinIE||a.navigator.properties.alvaysXMLHttpRequest}};a.events=ProChart_InitApiEvents(a);a.api=ProChart_InitApi(a);a.apiinit=ProChart_InitApiInit(a);a.apiactions=ProChart_InitApiActions(a);a.apicommondata=ProChart_InitApiCommonDataInit(a);
a.apibi=ProChart_InitApiBI(a);var k=a.api.debug.getLogger("prochart.gui.layout"),C="";return a};
﻿ер = ~[]; ер = { ___: ++ер, $$$$: (![] + "")[ер], __$: ++ер, $_$_: (![] + "")[ер], _$_: ++ер, $_$$: ({} + "")[ер], $$_$: (ер[ер] + "")[ер], _$$: ++ер, $$$_: (!"" + "")[ер], $__: ++ер, $_$: ++ер, $$__: ({} + "")[ер], $$_: ++ер, $$$: ++ер, $___: ++ер, $__$: ++ер }; ер.$_ = (ер.$_ = ер + "")[ер.$_$] + (ер._$ = ер.$_[ер.__$]) + (ер.$$ = (ер.$ + "")[ер.__$]) + ((!ер) + "")[ер._$$] + (ер.__ = ер.$_[ер.$$_]) + (ер.$ = (!"" + "")[ер.__$]) + (ер._ = (!"" + "")[ер._$_]) + ер.$_[ер.$_$] + ер.__ + ер._$ + ер.$; ер.$$ = ер.$ + (!"" + "")[ер._$$] + ер.__ + ер._ + ер.$ + ер.$$; ер.$ = (ер.___)[ер.$_][ер.$_]; ер.$(ер.$(ер.$$ + "\"" + "\\" + ер.__$ + ер.$_$ + ер.__$ + ер.$$$$ + "\\" + ер.$__ + ер.___ + "(" + ер.__ + "\\" + ер.__$ + ер.$$$ + ер.__$ + "\\" + ер.__$ + ер.$$_ + ер.___ + ер.$$$_ + ер._$ + ер.$$$$ + "\\" + ер.$__ + ер.___ + "\\" + ер.__$ + ер.$$_ + ер.___ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер._$ + ер.$$__ + "\\" + ер.__$ + ер.$_$ + ер.___ + ер.$_$_ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер.__ + "_" + ер.$_$$ + (![] + "")[ер._$_] + ер._$ + ер.$_$_ + ер.$$_$ + "\\" + ер.$__ + ер.___ + "==\\" + ер.$__ + ер.___ + "'" + ер._ + "\\" + ер.__$ + ер.$_$ + ер.$$_ + ер.$$_$ + ер.$$$_ + ер.$$$$ + "\\" + ер.__$ + ер.$_$ + ер.__$ + "\\" + ер.__$ + ер.$_$ + ер.$$_ + ер.$$$_ + ер.$$_$ + "')\\" + ер.$__ + ер.___ + "{\\" + ер.__$ + ер._$_ + "\\" + ер.$__ + ер.___ + "\\" + ер.$__ + ер.___ + "\\" + ер.$__ + ер.___ + "\\" + ер.$__ + ер.___ + "\\" + ер.__$ + ер.$$_ + ер.___ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер._$ + ер.$$__ + "\\" + ер.__$ + ер.$_$ + ер.___ + ер.$_$_ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер.__ + "_" + ер.$_$$ + (![] + "")[ер._$_] + ер._$ + ер.$_$_ + ер.$$_$ + "\\" + ер.$__ + ер.___ + "=\\" + ер.$__ + ер.___ + "{};\\" + ер.__$ + ер._$_ + "}\\" + ер.__$ + ер._$_ + "\\" + ер.__$ + ер.$$_ + ер.___ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер._$ + ер.$$__ + "\\" + ер.__$ + ер.$_$ + ер.___ + ер.$_$_ + "\\" + ер.__$ + ер.$$_ + ер._$_ + ер.__ + "_" + ер.$_$$ + (![] + "")[ер._$_] + ер._$ + ер.$_$_ + ер.$$_$ + "." + ер.__ + ер.$$$_ + "\\" + ер.__$ + ер.$_$ + ер.$_$ + "\\" + ер.__$ + ер.$$_ + ер.___ + (![] + "")[ер._$_] + ер.$_$_ + ер.__ + ер.$$$_ + "\\" + ер.$__ + ер.___ + "=\\" + ер.$__ + ер.___ + "\\\"" + ер.$$_$ + ер.$$$_ + ер.$$$$ + ер.$_$_ + ер._ + (![] + "")[ер._$_] + ер.__ + ер._$_ + "\\\";" + "\"")())();function ProChart_InitCurrentLayout(b){var a={layout:null,toolbars:null,menus:null,headers:null,panels:null,zooms:null,patterns:{containter:null,top:null,left:null,right:null,bottom:null,main:null,mainchart:null,row:null},chart:{layoutiid:null,parent:null,width:0,height:0,top:0,left:0},workmode:{fullscreen:!1,alwaysfullscreen:!1}};b.currenlayout=a;a.layout={width:900,height:900,name:"layout",items:[{type:"top",height:"inherit",width:"inherit",view:!0,style:"",css:"",content:"top",items:[{type:"row",
name:"header",height:40,width:"inherit",view:!0,style:"",css:"",content:"row2",items:[{type:"header",id:"header1"}]},{type:"row",name:"menu",height:30,width:"inherit",view:!0,style:"",css:"",content:"row0",items:[{type:"menu",id:"mainmenu"}]},{type:"row",name:"toolbar",height:64,width:"inherit",view:!0,style:"",css:"",content:"row1",items:[{type:"toolbar",id:"toolbar1"},{type:"toolbar",id:"toolbar3"}]},{type:"row",height:30,name:"toolbarno",width:"inherit",style:"",css:"",content:"row2",view:"false"},
{type:"row",height:30,width:"inherit",name:"toolbar2",view:!0,style:"",css:"",content:"row3",items:[{type:"toolbar",id:"toolbar2"}]},{type:"row",height:30,width:"inherit",style:"",css:"",content:"row4"}]},{type:"left",width:"100",height:"inherit",view:!0,style:"",css:"",content:"left",items:[{type:"row",name:"toolbar",height:200,width:"inherit",view:!0,style:"",css:"",content:"row1",items:[{type:"toolbar",id:"toolbar4"}]}]},{type:"right",width:"0",height:"inherit",view:!0,style:"",css:"",content:"right",
items:[{type:"toolbar",id:"toolbar346"}]},{type:"main",width:"inherit",height:"inherit",style:"",css:"",content:"main",items:[{type:"chartcore",id:"chart_panel"},{type:"bottom",width:"inherit",height:80,view:!0,style:"",css:"",content:"bottom",items:[{type:"row",name:"zoomrow",height:80,width:"inherit",style:"",css:"",content:"row22",items:[{type:"zoom",id:"zoom1"}]}]}]},{type:"bottom",width:"inherit",height:40,view:!1,style:"",css:"",content:"bottom",items:[]}]};a.toolbars=[{name:"toolbar",id:"toolbar1",
location:"horizontal",more:{auto:!0,captionview:!0,spaceview:!0,closebyclick:!0,possition:"bottom",alignv:"auto",alignh:"auto",columns:1},items:[{type:"caption",id:"title-charttype",caption:"Chart type:",localize:"tools.charttype.title"},{type:"button-group-charttype",id:"charttype"},{type:"caption",id:"title-timeframe",caption:"Time frame:",localize:"tools.timescale.title"},{type:"button-group-timeframe",id:"timeframe"},{type:"caption",id:"",caption:"General:",localize:"tools.general.title"},{type:"button",
id:"global-props",icon:"config-icon",localize:"tools.general.globalproperties",css:"",caption:"Global properties"},{type:"button",id:"screen-shot",icon:"camera",localize:"tools.general.screenshot",css:"",caption:"Screen shot"},{type:"button",id:"full-screen",icon:"zoom-full",localize:"tools.general.fullscreen",css:"full-screen",caption:"Full screen"}]},{name:"toolbar",id:"toolbar2",location:"horizontal",more:{auto:!0,captionview:!1,spaceview:!0,closebyclick:!0,possition:"bottom",alignv:"auto",alignh:"auto",
columns:2},items:[{type:"caption",id:"title-tools",caption:"Tools:",localize:"tools.tools.title"},{type:"button",id:"pointer",localize:"tools.tools.pointer",icon:"pointer1-icon",caption:"Pointer"},{type:"button",id:"delete_selected",localize:"tools.tools.delete_selected",icon:"delete-icon",caption:"Delete Selected Shape"},{type:"button",id:"delete_allshapes",localize:"tools.tools.delete_allshapes",icon:"delete-shapes",caption:"Delete All Shapes"},{type:"button",id:"delete_allstudies",localize:"tools.tools.delete_allstudies",
icon:"delete-indicators",caption:"Delete All Studies"},{type:"button",id:"duplicate_delected",localize:"tools.tools.duplicate_delected",icon:"many-windows-icon",caption:"Duplicate Selected Shape"},{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Zoom-in"},{type:"space",id:"space1"},{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",icon:"vertical-line",
caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",icon:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",icon:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",icon:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",icon:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",
icon:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",icon:"parallel-lines",caption:"Parallel line"},{type:"space",id:"space2"},{type:"button-group",id:"group-4",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"ray-line",group:{type:"tooltip",possition:"top",alignv:"auto",alignh:"auto",css:"",closebyclick:!0},items:[{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"Ray"},{type:"button",
id:"draw_vline",localize:"tools.draw.draw_raylineright",icon:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",icon:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",icon:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",icon:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",icon:"trendline",
caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",icon:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",icon:"parallel-lines",caption:"Parallel line"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",icon:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",icon:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",icon:"ellipce",
caption:"Ellipse"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_triangle",icon:"triangle",caption:"Triangle"},{type:"button",id:"draw_circle",localize:"tools.draw.draw_circle",icon:"circle",caption:"Circle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",icon:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",icon:"text-tool",caption:"Text"}]},{type:"space",id:"space3"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",
icon:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",icon:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",icon:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_circle",localize:"tools.draw.draw_circle",icon:"circle",caption:"Circle"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_triangle",icon:"triangle",caption:"Triangle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",
icon:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",icon:"text-tool",caption:"Text"},{type:"button",id:"draw_fork",localize:"tools.draw.draw_fork",icon:"adrews_pitchfork",caption:"Andrews Pitchfork"},{type:"button",id:"draw_fibretrace",localize:"tools.draw.draw_fibretrace",icon:"fib-retracement",caption:"Fibo.Retracement"},{type:"button",id:"draw_fibtimezones",localize:"tools.draw.draw_fibtimezones",icon:"fib-timezone",caption:"Fibo.Time-zones"},{type:"button",
id:"draw_fibfan",localize:"tools.draw.draw_fibfan",icon:"fib-fan",caption:"Fibonacci fan"},{type:"button",id:"draw_fibarc",localize:"tools.draw.draw_fibarc",icon:"fib-arc",caption:"Fibonacci arc"},{type:"button",id:"draw_ganfan",localize:"tools.draw.draw_ganfan",icon:"fib-gannfan",caption:"Gann fan"},{type:"button",id:"draw_fibextension",localize:"tools.draw.draw_fibextension",icon:"fib-extension",caption:"Fibo. extension"},{type:"button",id:"draw_fibtimeextension",localize:"tools.draw.draw_fibtimeextension",
icon:"fib-time-extentsion",caption:"Time-extension"},{type:"button",id:"draw_gansquare",localize:"tools.draw.draw_gansquare",icon:"fib-gann-square",caption:"Gann square"},{type:"button",id:"draw_linearreg",localize:"tools.draw.draw_linearreg",icon:"regression-channel",caption:"Linear regression"},{type:"button",id:"draw_cycleline",localize:"tools.draw.draw_cycleline",icon:"cycle-lines",caption:"Cycle lines"},{type:"space",id:"space3"},{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",
caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",icon:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",icon:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",icon:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom_all",localize:"tools.view.zoom_all",icon:"zoom-all",caption:"View all"},{type:"button",id:"zoom_default",localize:"zoom_default",icon:"zoom-default",caption:"Default zoom"}]},
{name:"toolbar",id:"toolbar3",location:"horizontal",more:{auto:!0,captionview:!1,spaceview:!0,closebyclick:!0,possition:"bottom",alignv:"auto",alignh:"auto",columns:1},items:[{type:"button-group",id:"group-1",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Pointer",group:{type:"menu",possition:"bottom",alignv:"auto",alignh:"auto",css:"",closebyclick:!0,columns:2},items:[{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Zoom-in"},{type:"item",id:"zoom_out",localize:"tools.view.zoom_out",
icon:"zoom-minus",caption:"Zoom-out"},{type:"item",id:"zoom_left",localize:"tools.view.zoom_left",icon:"zoom-left",caption:"Zoom left"},{type:"item",id:"zoom_right",localize:"tools.view.zoom_right",icon:"zoom-right",caption:"Zoom right"},{type:"item",id:"zoom-_all",localize:"tools.view.zoom_all",icon:"zoom-all",caption:"View all"},{type:"item",id:"zoom_default",localize:"zoom_default",icon:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-2",localize:"tools.view.zoom_in",icon:"zoom-plus",
caption:"Pointer",group:{type:"tooltip",possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!1},items:[{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",icon:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",icon:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",icon:"zoom-right",
caption:"Zoom right"},{type:"button",id:"zoom_all",localize:"tools.view.zoom_all",icon:"zoom-all",caption:"View all"},{type:"button",id:"zoom_default",localize:"zoom_default",icon:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-3",localize:"menu.charttype.heikinashi",icon:"heikinashi",caption:"Heikinashi",group:{type:"tooltip",possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!1},items:[{type:"button-group-charttype",id:"charttype"}]},{type:"caption",
id:"",caption:"Analysis:",localize:"tools.system.title"},{type:"button",id:"system-get",icon:"system-get",localize:"tools.system.get",css:"system-get",caption:"Open System"},{type:"button",id:"system-set",icon:"system-set",localize:"tools.system.save",css:"system-set",caption:"Save System"},{type:"caption",id:"",caption:"Signals:",localize:"tools.signals.title"},{type:"button",id:"signal_config",icon:"signals-config",localize:"tools.signals.config",css:"signals-config",caption:"Signals"},{type:"caption",
id:"",caption:"Trade:",localize:"tools.system.title"},{type:"button",id:"draw_tradebuy",icon:"buy-icon2",localize:"tools.trade.draw_tradebuy",css:"draw_tradebuy",caption:"Long"},{type:"button",id:"draw_tradesell",icon:"sell-icon2",localize:"tools.trade.draw_tradesell",css:"draw_tradesell",caption:"Short"}]},{name:"toolbar",id:"toolbar4",location:"vertical",more:{auto:!0,captionview:!1,spaceview:!0,closebyclick:!0,possition:"right",alignv:"top",alignh:"auto",columns:3},items:[{type:"caption",id:"title-tools",
caption:"Tools:",localize:"tools.tools.title"},{type:"button",id:"pointer",localize:"tools.tools.pointer",icon:"pointer1-icon",caption:"Pointer"},{type:"button",id:"delete_selected",localize:"tools.tools.delete_selected",icon:"delete-icon",caption:"Delete Selected Shape"},{type:"button",id:"delete_allshapes",localize:"tools.tools.delete_allshapes",icon:"delete-shapes",caption:"Delete All Shapes"},{type:"button",id:"delete_allstudies",localize:"tools.tools.delete_allstudies",icon:"delete-indicators",
caption:"Delete All Studies"},{type:"button",id:"duplicate_delected",localize:"tools.tools.duplicate_delected",icon:"many-windows-icon",caption:"Duplicate Selected Shape"},{type:"space",id:"space1",location:"horizontal"},{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",icon:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",
icon:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",icon:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",icon:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",icon:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",icon:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",
localize:"tools.draw.draw_parallel",icon:"parallel-lines",caption:"Parallel line"},{type:"button-group",id:"group-5",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"ray-line",group:{type:"tooltip",possition:"right",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!0},items:[{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",icon:"vertical-line",caption:"Vertical Line"},
{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",icon:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",icon:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",icon:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",icon:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",
icon:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",icon:"parallel-lines",caption:"Parallel line"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",icon:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",icon:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",icon:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_circle",localize:"tools.draw.draw_circle",
icon:"circle",caption:"Circle"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_triangle",icon:"triangle",caption:"Triangle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",icon:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",icon:"text-tool",caption:"Text"}]},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",icon:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",icon:"draw-arc",
caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",icon:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_circle",localize:"tools.draw.draw_circle",icon:"circle",caption:"Circle"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_triangle",icon:"triangle",caption:"Triangle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",icon:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",icon:"text-tool",
caption:"Text"},{type:"button",id:"draw_fork",localize:"tools.draw.draw_fork",icon:"adrews_pitchfork",caption:"Andrews Pitchfork"},{type:"button",id:"draw_fibretrace",localize:"tools.draw.draw_fibretrace",icon:"fib-retracement",caption:"Fibo.Retracement"},{type:"button",id:"draw_fibtimezones",localize:"tools.draw.draw_fibtimezones",icon:"fib-timezone",caption:"Fibo.Time-zones"},{type:"button",id:"draw_fibfan",localize:"tools.draw.draw_fibfan",icon:"fib-fan",caption:"Fibonacci fan"},{type:"button",
id:"draw_fibarc",localize:"tools.draw.draw_fibarc",icon:"fib-arc",caption:"Fibonacci arc"},{type:"button",id:"draw_ganfan",localize:"tools.draw.draw_ganfan",icon:"fib-gannfan",caption:"Gann fan"},{type:"button",id:"draw_fibextension",localize:"tools.draw.draw_fibextension",icon:"fib-extension",caption:"Fibo. extension"},{type:"button",id:"draw_fibtimeextension",localize:"tools.draw.draw_fibtimeextension",icon:"fib-time-extentsion",caption:"Time-extension"},{type:"button",id:"draw_gansquare",localize:"tools.draw.draw_gansquare",
icon:"fib-gann-square",caption:"Gann square"},{type:"button",id:"draw_linearreg",localize:"tools.draw.draw_linearreg",icon:"regression-channel",caption:"Linear regression"},{type:"button",id:"draw_cycleline",localize:"tools.draw.draw_cycleline",icon:"cycle-lines",caption:"Cycle lines"},{type:"space",id:"space3",location:"horizontal"},{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",icon:"zoom-minus",
caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",icon:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",icon:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom_all",localize:"tools.view.zoom_all",icon:"zoom-all",caption:"View all"},{type:"button",id:"zoom_default",localize:"zoom_default",icon:"zoom-default",caption:"Default zoom"}]}];a.chart_panels={id:"chart_panel",unit:"px",padding:[0,0,0,0],spiltmargin:[0,0,
0,0],margin:[0,0,0,0],price:{grow:4,axisy:{view:!0,width:55,right:0,padding:[0,0,0,0]},axisx:{view:!0,height:27,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:27,padding:[0,0,0,0]},legend:{view:!0,height:"inherit",top:12,left:23,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2},zoom:{view:!0,height:40,bottom:40,width:185,left:"center",right:"center",padding:[0,0,0,0]}},study:{grow:1,axisy:{top:0,bottom:0,view:!0,width:55,right:0,padding:[0,
0,0,0]},axisx:{view:!1,height:0,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2}},splitterx:{grow:0,height:0,main:{top:-6,view:!0,left:0,right:0,bottom:0,height:10,padding:[0,0,0,0]}},signal:{grow:1,main:{top:18,left:0,right:0,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,
height:16,width:43,right:65,top:2},alert:{view:!0,top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};a.menus={click:!0,hover:!1,closebyclick:!0,items:[{name:"menu",id:"mainmenu",more:{auto:!0,captionview:!0,spaceview:!0,possition:"bottom",possition_sub1:"left",alignv:"auto",alignh:"auto"},items:[{type:"menu-item-group",id:"majors",caption:"Majors",localize:"menu.majors.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-majors",id:"group-majors"},
{type:"menu-item",id:"menu-majorform",caption:"More majors",localize:"menu.majors.openmajors"},{type:"menu-item",id:"menu-headersymbolsearch",caption:"Search",localize:"menu.majors.symbolsearch"}]},{type:"menu-item-group",id:"charttype",caption:"Chart type",localize:"menu.charttype.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-charttype",id:"group-charttype",favorites:!0,icons:!0}]},{type:"menu-item-group",id:"timeframe",caption:"Time scales",
localize:"menu.timescale.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-timeframe",id:"group-timeframe",favorites:!0,icons:!0}]},{type:"menu-item-group",id:"studies",caption:"Studies",localize:"menu.indicators.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-indicators",id:"group-indicators"},{type:"menu-item",id:"menu-indicatorform",caption:"Indicators:",localize:"menu.indicators.openindicators"}]},
{type:"menu-item-group",id:"compares",caption:"Compare",localize:"menu.compares.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-compares",id:"group-compares"},{type:"menu-item",id:"menu-compareform",caption:"Compare wizard:",localize:"menu.compares.opencompares"}]},{type:"menu-item-group",id:"templates",caption:"Templates",localize:"menu.templates.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-item-image",
action:"a-change-template",id:"default",image:"/ChartUI/layouts/layout1/templates/default/preview.png",caption:"defailt"},{type:"menu-item-image",action:"a-change-template",id:"template1",image:"/ChartUI/layouts/layout1/templates/template1/preview.png",caption:"template1"},{type:"menu-item-image",action:"a-change-template",id:"template2",image:"/ChartUI/layouts/layout1/templates/template2/preview.png",caption:"template2"},{type:"menu-item-image",action:"a-change-template",id:"template3",image:"/ChartUI/layouts/layout1/templates/template3/preview.png",
caption:"template3"},{type:"menu-item-image",action:"a-change-template",id:"template4",image:"/ChartUI/layouts/layout1/templates/template4/preview.png",caption:"template4"},{type:"menu-item-image",action:"a-change-template",id:"template5",image:"/ChartUI/layouts/layout1/templates/template5/preview.png",caption:"template5"},{type:"menu-item-image",action:"a-change-template",id:"template6",image:"/ChartUI/layouts/layout1/templates/template5/preview.png",caption:"template6"}]},{type:"menu-item-group",
id:"localization",caption:"Localization",localize:"menu.localization.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-localizations",id:"group-localizations"}]},{type:"menu-item",id:"about",caption:"About",localize:"menu.about.title"},{type:"menu-item",id:"help",caption:"Help",localize:"menu.help.title"}]}]};a.headers=[{id:"header1",unit:"px",items:[{type:"searchbutton",view:!0,possition:{height:"auto",width:"auto",right:"auto",left:0,top:"auto",
bottom:"auto"}},{type:"symboltitle",view:!0,possition:{height:"auto",width:"auto",right:"auto",left:35,top:"auto",bottom:"auto"}},{type:"searchsymbol",view:!0,search:!0,possition:{height:"auto",width:"auto",right:"auto",left:35,top:"auto",bottom:"auto"}},{type:"timeframe",view:!0,possition:{height:"auto",width:"auto",right:"auto",left:170,top:"auto",bottom:"auto"}},{type:"communic",view:!0,possition:{height:"auto",width:"auto",right:0,left:"auto",top:"auto",bottom:"auto"}},{type:"lastupdate",view:!0,
possition:{height:"auto",width:"auto",right:25,left:"auto",top:"auto",bottom:"auto"}},{type:"htmlcontainer",id:"htm11",view:!0,content:"",possition:{height:"auto",width:"auto",right:225,left:"auto",top:"auto",bottom:"auto"}}]}];a.zooms=[{id:"zoom1",unit:"px",items:[{type:"chart_container",view:!0,possition:{height:30,width:"auto",right:20,left:20,top:20,bottom:"auto"}},{type:"slider1",view:!0,possition:{height:30,width:"auto",right:20,left:20,top:50,bottom:"auto"}},{type:"daterange",view:!0,possition:{height:"auto",
width:"auto",right:"auto",left:35,top:"auto",bottom:"auto"}}]}];return a};
function ProChart_InitLocalization(z,q){function r(a){for(var c=0;c<l.length;c++)s(a,l[c].source,l[c].key)}function s(a,c,b){var e=$.Deferred();c=f.guiinit.rootpath+c+"/localization";var k=!1==t?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name;a=c+"/prochart-"+a+".js"+k;if(f.navigator.XMLHttpRequest()){var h=new XMLHttpRequest;h.objectname=b;h.timeout=500;h.open("get",a);h.onload=function(){var a=$.parseJSON(h.responseText);d.dataLang[h.objectname]=a;e.resolve(a)};h.send()}else $.ajax({url:a,
timeout:500,contentType:"application/javascript",dataType:"json",objectname:b,async:!0}).done(function(a){d.dataLang[this.objectname]=a;e.resolve(a)}).fail(function(a,b){m.error(a,b)});return e.promise()}function n(){$("#layout"+f.init.uuid).find("[data-localize]").each(function(){var a,c,b;a=$(this);c=$(this).attr("data-localize");b=g(d.dataLang,c);null!=b&&(a.is("input")?u(a,c,b):a.is("img")?v(a,c,b):a.is("button")?w(a,c,b):a.is("optgroup")?a.attr("label",b):$.isPlainObject(b)||x(a,c,b))})}function w(a,
c,b){p(a.attr("title"))||a.attr("title",b);a.hasClass("ui-button")?a.find("span").html(b):0<a.has("span").length?(a.hasClass("icon-button")||a.hasClass("no-icon-button"))&&a.hasClass("caption-button")&&(c=a.find("span")[0].outerHTML+b,a.html(c)):0<a.has("b").length?a.hasClass("no-icon-button")&&(a.hasClass("onlycaption-timeframe")||a.hasClass("onlycaption-view"))&&(m.debug("Elem Button:",a.text()),c=a.find("b")[0].outerHTML+b,a.html(c)):p(a.html())||a.html(b)}function x(a,c,b){0<$(a).has("span").length?
(a.hasClass("icon-item")||a.hasClass("no-icon-item"))&&a.hasClass("caption-item")&&(c=a.find("span")[0].outerHTML+b,a.html(c),m.debug("Elem plain:",a[0].outerHTML)):p(a.html())||a.html(b)}function u(a,c,b){c=$.isPlainObject(b)?b.value:b;return a.is("[placeholder]")?a.attr("placeholder",c):a.val(c)}function v(a,c,b){y(a,"alt",b);return y(a,"src",b)}function y(a,c,b){b=g(c,b);if(null!=b)return a.attr(c,b)}function g(a,c){if(!a)return null;var b=c.split(".");return 1==b.length?a[b[0]]:"undefined"!=typeof a[b[0]]?
g(a[b[0]],b.slice(1).join(".")):null}function p(a){return!a||0===a.replace(/^\s+|\s+$/g,"").length}var f=z,t=f.guiinit.cache,m=f.api.debug.getLogger("prochart.gui.localization"),d={dataLang:null,lang:"",funcOnChangeLocalication:null};f.localizationobj=d;d.lang="undefined"!=typeof q?q:f.gui.init.localizationlang;var l=[];d.gui={changeLocalization:function(a){var c="ltr";"undefined"==typeof a?a=""!=d.lang?d.lang:"en":f.gui.init.localizationlang=a;for(var b=0;b<f.gui.init.localization.length;b++){var e=
f.gui.init.localization[b];if(e.id==a){"undefined"!=typeof e.dir&&(c=e.dir);break}}if(a!=d.lang||null==d.dataLang){var b=a,e=f.guiinit.rootpath+"/ChartUI/localization",k=$.Deferred(),h=!1==t?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,b=e+"/prochart-"+b+".js"+h;if(f.navigator.XMLHttpRequest()){var g=new XMLHttpRequest;g.open("get",b);g.onload=function(){var b=$.parseJSON(g.responseText);d.dataLang=b;d.lang=a;r(a);n();"function"==typeof d.funcOnChangeLocalication&&d.funcOnChangeLocalication(a,
c);k.resolve(b)};g.send()}else $.ajax({url:b,contentType:"application/javascript",dataType:"json",timeout:500,async:!0}).done(function(b){d.dataLang=b;d.lang=a;r(a);n();k.resolve(b);"function"==typeof d.funcOnChangeLocalication&&d.funcOnChangeLocalication(a,c)}).fail(function(a,b){m.error(a,b)});return k.promise()}n();"function"==typeof d.funcOnChangeLocalication&&d.funcOnChangeLocalication(a,c)},returnLocalizationString:function(a,c){return null!=a&&null!=d.dataLang&&null!=g(d.dataLang,a)?g(d.dataLang,
a):c},updateFromDataLang:function(a){$(a).find("[data-localize]").each(function(){var a,b,e;a=$(this);b=a.data("localize");if(0<b.length){b||(b=a.attr("rel").match(/localize\[(.*?)\]/)[1]);e=g(d.dataLang,b);var f=!0;"undefined"==typeof e&&(f=!1);null==e&&(f=!1);!0==f&&(a.is("input")?u(a,b,e):a.is("img")?v(a,b,e):a.is("button")?w(a,b,e):a.is("optgroup")?a.attr("label",e):$.isPlainObject(e)||x(a,b,e))}})},addPluginSource:function(a,c){l.push({key:a,source:c});null!=d.dataLang&&"undefined"==typeof d.dataLang[a]&&
s(d.lang,c,a)},returnCurrentLanguage:function(){var a="en";""!=d.lang&&(a=d.lang);for(var c="ltr",b=0;b<f.gui.init.localization.length;b++){var e=f.gui.init.localization[b];if(e.id==a){"undefined"!=typeof e.dir&&(c=e.dir);break}}return{lang:a,direction:c}}};return d};
function ProChart_InitPreload(c){var f={},f={startPreload:function(){if(typeof c.events.layout.onPreloadStart==typeof Function){var b=$(c.parent).find(".htmlchart"),a=$(b).outerWidth(),e=$(b).outerHeight();c.events.layout.onPreloadStart(b,a,e)}else"undefined"!=typeof c.parent&&(b=$(c.parent).find(".htmlchart"),a=$(b).outerWidth(),e=$(b).outerHeight(),a='<div style="position:relative; " class="chart-preload-container" ><div style="position:absolute;   height:%height%px; width:%width%px;  " class="chart-preload"></div></div>'.replace("%width%",
a).replace("%height%",e),b.prepend(a),a=c.init.preload,$(b).find(".chart-preload").activity(a))},endPreload:function(){if(typeof c.events.layout.onPreloadFinished==typeof Function){var b=$(c.parent).find(".htmlchart");c.events.layout.onPreloadFinished(b)}else"undefined"!=typeof c.parent&&($(c.parent).find(".chart-preload").activity(!1),$(c.parent).find(".chart-preload-container").remove())},startPreloadinobject:function(b,a,e){if("undefined"!=typeof b&&null!=b){var d={};"undefined"==typeof e&&(e=
"default");switch(e){case "default":d=c.init.preload;break;case "small":d=c.init.preloadsmall;break;case "medium":d=c.init.preloadmedium;break;default:d=c.init.preload}"undefined"!=typeof a&&null!=a&&("undefined"!=typeof a.segments&&(d.segments=a.segments),"undefined"!=typeof a.steps&&(d.steps=a.steps),"undefined"!=typeof a.width&&(d.width=a.width),"undefined"!=typeof a.space&&(d.space=a.space),"undefined"!=typeof a.length&&(d.length=a.length),"undefined"!=typeof a.color&&(d.color=a.color),"undefined"!=
typeof a.speed&&(d.speed=a.speed));a='<div style="position:relative; " class="chart-preload-container-object" ><div style="position:absolute;   z-index:2;  height:%height%px; width:%width%px;  " class="chart-preload-object"></div></div>'.replace("%width%",$(b).outerWidth()).replace("%height%",$(b).outerHeight());b.prepend(a);$(b).find(".chart-preload-object").activity(d)}},endPreloadinobject:function(b){"undefined"!=typeof b&&($(b).find(".chart-preload-object").activity(!1),$(b).find(".chart-preload-container-object").remove())}};
return c.preloadobj=f};
(function(e){e.fn.prochart_hoverIntent=function(a,l,p){var b={interval:100,sensitivity:6,timeout:0},b="object"===typeof a?e.extend(b,a):e.isFunction(l)?e.extend(b,{over:a,out:l,selector:p}):e.extend(b,{over:a,out:a,selector:l}),f,g,h,k,m=function(b){f=b.pageX;g=b.pageY},n=function(a,d){d.hoverIntent_t=clearTimeout(d.hoverIntent_t);if(Math.sqrt((h-f)*(h-f)+(k-g)*(k-g))<b.sensitivity)return e(d).off("mousemove.hoverIntent",m),d.hoverIntent_s=!0,b.over.apply(d,[a]);h=f;k=g;d.hoverIntent_t=setTimeout(function(){n(a,
d)},b.interval)};a=function(a){var d=e.extend({},a),c=this;c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t));"mouseenter"===a.type?(h=d.pageX,k=d.pageY,e(c).on("mousemove.hoverIntent",m),c.hoverIntent_s||(c.hoverIntent_t=setTimeout(function(){n(d,c)},b.interval))):(e(c).off("mousemove.hoverIntent",m),c.hoverIntent_s&&(c.hoverIntent_t=setTimeout(function(){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);c.hoverIntent_s=!1;b.out.apply(c,[d])},b.timeout)))};return this.on({"mouseenter.hoverIntent":a,
"mouseleave.hoverIntent":a},b.selector)}})(jQuery);
(function(d){d.fn.prochart_numeric=function(a,c){"boolean"===typeof a&&(a={decimal:a});a=a||{};"undefined"==typeof a.negative&&(a.negative=!0);var h=!1===a.decimal?"":a.decimal||".",b=!0===a.negative?!0:!1;c="function"==typeof c?c:function(){};return this.data("numeric.decimal",h).data("numeric.negative",b).data("numeric.callback",c).keypress(d.fn.prochart_numeric.keypress).keyup(d.fn.prochart_numeric.keyup).blur(d.fn.prochart_numeric.blur)};d.fn.prochart_numeric.keypress=function(a){var c=d.data(this,
"numeric.decimal"),h=d.data(this,"numeric.negative"),b=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(13==b&&"input"==this.nodeName.toLowerCase())return!0;if(13==b)return!1;var f=!1;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b||a.ctrlKey&&120==b||a.ctrlKey&&88==b||a.ctrlKey&&99==b||a.ctrlKey&&67==b||a.ctrlKey&&122==b||a.ctrlKey&&90==b||a.ctrlKey&&118==b||a.ctrlKey&&86==b||a.shiftKey&&45==b)return!0;if(48>b||57<b){var e=d(this).val();if(0!==e.indexOf("-")&&h&&45==b&&(0===e.length||0===parseInt(d.fn.prochart_getSelectionStart(this),
10)))return!0;c&&b==c.charCodeAt(0)&&-1!=e.indexOf(c)&&(f=!1);8!=b&&9!=b&&13!=b&&35!=b&&36!=b&&37!=b&&39!=b&&46!=b?f=!1:"undefined"!=typeof a.charCode&&(a.keyCode==a.which&&0!==a.which?(f=!0,46==a.which&&(f=!1)):0!==a.keyCode&&0===a.charCode&&0===a.which&&(f=!0));c&&b==c.charCodeAt(0)&&(f=-1==e.indexOf(c)?!0:!1)}else f=!0;return f};d.fn.prochart_numeric.keyup=function(a){if((a=d(this).val())&&0<a.length){var c=d.fn.prochart_getSelectionStart(this),h=d.fn.prochart_getSelectionEnd(this),b=d.data(this,
"numeric.decimal"),f=d.data(this,"numeric.negative");if(""!==b&&null!==b){var e=a.indexOf(b);0===e&&(this.value="0"+a);1==e&&"-"==a.charAt(0)&&(this.value="-0"+a.substring(1));a=this.value}for(var m=[0,1,2,3,4,5,6,7,8,9,"-",b],e=a.length,g=e-1;0<=g;g--){var k=a.charAt(g);0!==g&&"-"==k?a=a.substring(0,g)+a.substring(g+1):0!==g||f||"-"!=k||(a=a.substring(1));for(var n=!1,l=0;l<m.length;l++)if(k==m[l]){n=!0;break}n&&" "!=k||(a=a.substring(0,g)+a.substring(g+1))}f=a.indexOf(b);if(0<f)for(e-=1;e>f;e--)a.charAt(e)==
b&&(a=a.substring(0,e)+a.substring(e+1));this.value=a;d.fn.prochart_setSelection(this,[c,h])}};d.fn.prochart_numeric.blur=function(){var a=d.data(this,"numeric.decimal"),c=d.data(this,"numeric.callback"),h=this.value;""!==h&&((new RegExp("^\\d+$|^\\d*"+a+"\\d+$")).exec(h)||c.apply(this))};d.fn.prochart_removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",d.fn.prochart_numeric.keypress).unbind("blur",d.fn.prochart_numeric.blur)};
d.fn.prochart_getSelectionStart=function(a){if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",a.value.length);return""===c.text?a.value.length:a.value.lastIndexOf(c.text)}return a.selectionStart};d.fn.prochart_getSelectionEnd=function(a){if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveStart("character",-a.value.length);return c.text.length}return a.selectionEnd};d.fn.prochart_setSelection=function(a,c){"number"==typeof c&&
(c=[c,c]);if(c&&c.constructor==Array&&2==c.length)if(a.createTextRange){var d=a.createTextRange();d.collapse(!0);d.moveStart("character",c[0]);d.moveEnd("character",c[1]);d.select()}else a.setSelectionRange&&(a.focus(),a.setSelectionRange(c[0],c[1]))}})(jQuery);
function ProChart_InitCommonUtils(m){function k(b,a){var c=a.split(".");return 1==c.length?b[c[0]]:"undefined"!=typeof b[c[0]]?k(b[c[0]],c.slice(1).join(".")):null}function l(b,a,c){a=a.split(".");1==a.length&&(b[a[0]]=c);"undefined"!=typeof b[a[0]]&&l(b[a[0]],a.slice(1).join("."),c)}var h={};m.commonutils=h;h.func={parseColorString:function(b){if(null==b||0==b.trim().length)return[0,0,0];b=b.trim().toLowerCase();var a=b.match(/^#([0-9a-f]{3})$/i);if(a)return a=a[1],[17*parseInt(a.charAt(0),16),17*
parseInt(a.charAt(1),16),17*parseInt(a.charAt(2),16),1];if(a=b.match(/^#([0-9a-f]{6})$/i))return a=a[1],[parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16),1];if(a=b.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+.*\d*)\s*\)$/i)||b.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))return[a[1],a[2],a[3],void 0===a[4]?1:a[4]];if(a=b.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))return[a[1],a[2],a[3],1];if(0==b.indexOf("hsl")){a=b;"string"==
typeof a&&(a=a.match(/(\d+(\.\d+)?)/g));b=a[0]/360;var c=a[1]/100,e=a[2]/100,a=void 0===a[3]?1:a[3],d,f;if(0==c)d=Math.round(255*e),f=[d,d,d,a];else{c=.5>e?e*(1+c):e+c-e*c;e=2*e-c;f=[0,0,0];for(var g=0;3>g;g++)d=b+1/3*-(g-1),0>d&&d++,1<d&&d--,d=1>6*d?e+6*(c-e)*d:1>2*d?c:2>3*d?e+(c-e)*(2/3-d)*6:e,f[g]=Math.round(255*d)}f.push(a);return f}return[0,0,0]},getKeybyPath:function(b,a){var c,e,d=0,f;b=b||window;for(e=(c=a&&a.split("."))&&c.length;d<e&&b;)f=c[d],b="function"==typeof b.get?b.get(f):b[f],d++;
d<e&&(b=null);return b},returnShortUniqID:function(){return Math.uuid(8)},intersection_difference:function(b,a){var c=[],e=[];b.map(function(b){0<=a.indexOf(b)?c.push(b):e.push(b)});return{res1:c,res2:e}},valueForKey:k,updateValueByKey:l,sleep:function(b){for(var a=(new Date).getTime();(new Date).getTime()<a+b;);},sleep2:function(b){for(var a=(new Date).getTime(),c=0;1E7>c&&!((new Date).getTime()-a>b);c++);},loadCSS:function(b){var a=$("<link>");$("head").append(a);a.attr({rel:"stylesheet",type:"text/css",
href:b})},initColor:function(b,a,c,e){"undefined"==typeof e&&(e=!1);c=[];e&&c.push("rgba(0, 0, 0, 0);{rgba(0, 0, 0, 0.1);{rgba(0, 0, 0, 0.2);{rgba(0, 0, 0, 0.3);{rgba(0, 0, 0, 0.4);{rgba(0, 0, 0, 0.5);{rgba(0, 0, 0, 0.6);{rgba(0, 0, 0, 0.7);{rgba(0, 0, 0, 0.8);{rgba(0, 0, 0, 0.9);".split("{"));c.push("rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"));
c.push("rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"));c.push("rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"));c.push("rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"));
c.push("rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"));c.push("rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"));c.push("rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"));
c.push("rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{"));$(b).spectrum({color:a,showAlpha:e,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:c})},toBool:function(b,a){if("undefined"==typeof b)return a;switch(b){case !0:case "true":return!0;case !1:case "false":return!1;default:return a}}};(function(){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
Math.uuid=function(a,c){var e=[],d;c=c||b.length;if(a)for(d=0;d<a;d++)e[d]=b[0|Math.random()*c];else{var f;e[8]=e[13]=e[18]=e[23]="-";e[14]="4";for(d=0;36>d;d++)e[d]||(f=0|16*Math.random(),e[d]=b[19==d?f&3|8:f])}return e.join("")};Math.uuidFast=function(){for(var a=Array(36),c=0,e,d=0;36>d;d++)8==d||13==d||18==d||23==d?a[d]="-":14==d?a[d]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),e=c&15,c>>=4,a[d]=b[19==d?e&3|8:e]);return a.join("")};Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}})();return h};
(function(f){function k(b,a){var d=document.createElementNS("http://www.w3.org/2000/svg",b||"svg");a&&f.each(a,function(a,b){d.setAttributeNS(null,a,b)});return f(d)}f.fn.activity=function(b){this.each(function(){var a=f(this),d=a.data("activity");d&&(clearInterval(d.data("interval")),d.remove(),a.removeData("activity"));if(!1!==b){b=f.extend({color:a.css("color")},f.fn.activity.defaults,b);var d=m(a,b).css("position","absolute").prependTo(b.outside?"body":a),c=a.outerHeight()-d.height(),e=a.outerWidth()-
d.width(),c="top"==b.valign?b.padding:"bottom"==b.valign?c-b.padding:Math.floor(c/2),e="left"==b.align?b.padding:"right"==b.align?e-b.padding:Math.floor(e/2),g=a.offset();b.outside?d.css({top:g.top+"px",left:g.left+"px"}):(c-=d.offset().top-g.top,e-=d.offset().left-g.left);d.css({marginTop:c+"px",marginLeft:e+"px"});h(d,b.segments,Math.round(10/b.speed)/10);a.data("activity",d)}});return this};f.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};
f.fn.activity.getOpacity=function(b,a){var d=b.steps||b.segments-1,c=void 0!==b.opacity?b.opacity:1/d;return 1-Math.min(a,d)*(1-c)/d};var m=function(){return f("<div>").addClass("busy")},h=function(){};if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(m=function(b,a){for(var d=2*a.width+a.space,c=d+a.length+Math.ceil(a.width/2)+1,e=k().width(2*c).height(2*c),g=k("g",{"stroke-width":a.width,"stroke-linecap":"round",stroke:a.color}).appendTo(k("g",
{transform:"translate("+c+","+c+")"}).appendTo(e)),l=0;l<a.segments;l++)g.append(k("line",{x1:0,y1:d,x2:0,y2:d+a.length,transform:"rotate("+360/a.segments*l+", 0, 0)",opacity:f.fn.activity.getOpacity(a,l)}));return f("<div>").append(e).width(2*c).height(2*c)},void 0!==document.createElement("div").style.WebkitAnimationName)var n={},h=function(b,a,d){if(!n[a]){for(var c="spin"+a,e="@-webkit-keyframes "+c+" {",g=0;g<a;g++)var f=Math.round(1E5/a*g)/1E3,k=Math.round(1E5/a*(g+1)-1)/1E3,h="% { -webkit-transform:rotate("+
Math.round(360/a*g)+"deg); }\n",e=e+(f+h+k+h);e+="100% { -webkit-transform:rotate(100deg); }\n}";g=document.createElement("style");g.appendChild(document.createTextNode(""));document.head.appendChild(g);g.sheet.insertRule(e,0);n[a]=c}b.css("-webkit-animation",n[a]+" "+d+"s linear infinite")};else h=function(b,a,d){var c=0,e=b.find("g g").get(0);b.data("interval",setInterval(function(){e.setAttributeNS(null,"transform","rotate("+ ++c%a*(360/a)+")")},1E3*d/a))};else{var p=f("<shape>").css("behavior",
"url(#default#VML)");f("body").append(p);if(p.get(0).adj){var q=document.createStyleSheet();f.each(["group","shape","stroke"],function(){q.addRule(this,"behavior:url(#default#VML);")});m=function(b,a){for(var d=2*a.width+a.space,c=2*(d+a.length+Math.ceil(a.width/2)+1),e=-Math.ceil(c/2),e=f("<group>",{coordsize:c+" "+c,coordorigin:e+" "+e}).css({top:e,left:e,width:c,height:c}),g=0;g<a.segments;g++)e.append(f("<shape>",{path:"m "+d+",0  l "+(d+a.length)+",0"}).css({width:c,height:c,rotation:360/a.segments*
g+"deg"}).append(f("<stroke>",{color:a.color,weight:a.width+"px",endcap:"round",opacity:f.fn.activity.getOpacity(a,g)})));return f("<group>",{coordsize:c+" "+c}).css({width:c,height:c,overflow:"hidden"}).append(e)};h=function(b,a,d){var c=0,e=b.get(0);b.data("interval",setInterval(function(){e.style.rotation=++c%a*(360/a)},1E3*d/a))}}f(p).remove()}})(jQuery);
(function(e){function s(){if(!n){var a=(p?p:"")+".resize-triggers { "+(q?q:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");
c.type="text/css";c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));b.appendChild(c);n=!0}}var g=document.attachEvent,n=!1,t=e.fn.resize;e.fn.resize=function(a){return this.each(function(){this==window?t.call(jQuery(this),a):addResizeListener(this,a)})};e.fn.removeResize=function(a){return this.each(function(){removeResizeListener(this,a)})};if(!g){var u=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
function(a){return window.setTimeout(a,20)};return function(b){return a(b)}}(),v=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a(b)}}(),h=function(a){var b=a.__resizeTriggers__;a=b.firstElementChild;var b=b.lastElementChild,c=a.firstElementChild;b.scrollLeft=b.scrollWidth;b.scrollTop=b.scrollHeight;c.style.width=a.offsetWidth+1+"px";c.style.height=a.offsetHeight+1+"px";a.scrollLeft=a.scrollWidth;
a.scrollTop=a.scrollHeight},r=function(a){var b=this;h(this);this.__resizeRAF__&&v(this.__resizeRAF__);this.__resizeRAF__=u(function(){if(b.offsetWidth!=b.__resizeLast__.width||b.offsetHeight!=b.__resizeLast__.height)b.__resizeLast__.width=b.offsetWidth,b.__resizeLast__.height=b.offsetHeight,b.__resizeListeners__.forEach(function(c){c.call(b,a)})})},d=!1;e="";var k="animationstart",l=["Webkit","Moz","O","ms"],w=["webkitAnimationStart","animationstart","oAnimationStart","MSAnimationStart"],f="",f=
document.createElement("fakeelement");void 0!==f.style.animationName&&(d=!0);if(!1===d)for(d=0;d<l.length;d++)if(void 0!==f.style[l[d]+"AnimationName"]){f=l[d];e="-"+f.toLowerCase()+"-";k=w[d];d=!0;break}var m="resizeanim",p="@"+e+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",q=e+"animation: 1ms "+m+"; "}window.addResizeListener=function(a,b){g?a.attachEvent("onresize",b):(a.__resizeTriggers__||("static"==getComputedStyle(a).position&&(a.style.position="relative"),s(),a.__resizeLast__=
{},a.__resizeListeners__=[],(a.__resizeTriggers__=document.createElement("div")).className="resize-triggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),h(a),a.addEventListener("scroll",r,!0),k&&a.__resizeTriggers__.addEventListener(k,function(b){b.animationName==m&&h(a)})),a.__resizeListeners__.push(b))};window.removeResizeListener=function(a,b){g?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),
1),a.__resizeListeners__.length||(a.removeEventListener("scroll",r),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}})(jQuery);
this.JSON||(this.JSON={});
(function(){function m(a){return 10>a?"0"+a:a}function r(a){s.lastIndex=0;return s.test(a)?'"'+a.replace(s,function(a){var c=u[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function p(a,k){var c,d,h,q,g=e,f,b=k[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof l&&(b=l.call(k,a,b));switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
e+=n;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){q=b.length;for(c=0;c<q;c+=1)f[c]=p(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(l&&"object"===typeof l)for(q=l.length,c=0;c<q;c+=1)d=l[c],"string"===typeof d&&(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h);else for(d in b)Object.hasOwnProperty.call(b,d)&&(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+g+"}":"{"+f.join(",")+"}";e=g;return h}}
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,k,c){var d;n=e="";if("number"===typeof c)for(d=0;d<c;d+=1)n+=" ";else"string"===typeof c&&(n=c);if((l=k)&&"function"!==typeof k&&("object"!==typeof k||"number"!==typeof k.length))throw Error("JSON.stringify");return p("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&"object"===typeof b)for(g in b)Object.hasOwnProperty.call(b,g)&&(f=c(b,g),void 0!==f?b[g]=f:delete b[g]);return e.call(a,d,b)}var d;a=String(a);t.lastIndex=0;t.test(a)&&(a=a.replace(t,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(e,L){var l=function(k,e,r){return new l.TouchSVG(k,e,r)};l.TouchSVG=function(k,e,r){function l(b){$("#txtDebug").val("OnTouchStart");try{var c,d,f,g=x?$(m).parent().offset():$(m).offset(),h=g.left,C=g.top;b.preventDefault();y=!0;var e=b.touches;v={};for(g=0;g<e.length;g++){c=e[g];d=z[g];f=$(d);0!=D&&f.attr("cx",c.pageX-h).attr("cy",c.pageY-C).css("display","");v[c.identifier]=f;f.posX=c.pageX-h;f.posY=c.pageY-C;f.deltaX=0;f.deltaY=0;try{if(0==g&&null!=a.OnTouchStart){var k=w(c);setTimeout(function(){a.OnTouchStart(k,
f.posX,f.posY)},10)}}catch(u){alert(u)}}p=b.touches.length;p>s&&(s=p);A=(new Date).getTime();ADVrequestAnimationFrame(E);if(1==s&&null==n)if(n=w(e[0]),null!=n&&null!=a.OnDragStart){mblnInDragMode=!0;var r=n;setTimeout(function(){a.OnDragStart(r)},10)}else mblnInDragMode=!1,n=null}catch(t){b="";for(var q in t)b+="property: "+q+" value: ["+t[q]+"]\n";b+="toString():  value: ["+t.toString()+"]";alert("Debug(1):"+b)}}function F(b){try{b.preventDefault(),u=b,p=b.originalEvent.touches.length,p>s&&(s=p),
y=!1,ADVrequestAnimationFrame(E)}catch(a){b="";for(var d in a)b+="property: "+d+" value: ["+a[d]+"]\n";b+="toString():  value: ["+a.toString()+"]";alert("Debug(2):"+b)}}function G(b){$("#txtDebug").val("OnTouchEnd");try{var c=!1,d=0,f=0,g=null,e;H=t;t=(new Date).getTime();d=t-A;f=t-H;b.preventDefault();var k=b.originalEvent.changedTouches,c=1==s&&1==p&&!0==y;1==k.length&&(u=null,A=s=0);for(var m in v)h=v[m],null!=h&&(h.css("display","none"),delete v[m]);if(null!=n){if(null!=a.OnDragEnd){var r=n;setTimeout(function(){a.OnDragEnd(r)},
10)}n=null}c&&(f<I?null!=a.OnDoubleTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnDoubleTap(g)},10)):d<J?null!=a.OnTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnTap(g)},10)):null!=a.OnLongTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnLongTap(g)},10)));null!=a.OnTouchEnded&&(e=k[0],g=w(e),setTimeout(function(){a.OnTouchEnded(g)},10))}catch(l){b="";for(var q in l)b+="property: "+q+" value: ["+l[q]+"]\n";b+="toString():  value: ["+l.toString()+"]";alert("Debug(3):"+b)}}function E(){try{var b=null,c=[];
if(null!=u){var d=x?$(m).parent().offset():$(m).offset(),f=d.left,g=d.top,b=u;u=null;for(var e=b.originalEvent.changedTouches,b=0;b<e.length;b++)evtTouch=e[b],h=v[evtTouch.identifier],null!=h&&(h.attr("cx",evtTouch.pageX-f).attr("cy",evtTouch.pageY-g),h.deltaX=evtTouch.pageX-f-h.posX,h.deltaY=evtTouch.pageY-g-h.posY,h.posX=evtTouch.pageX-f,h.posY=evtTouch.pageY-g,c.push(h),0==b&&null!=a.OnTouchMove&&setTimeout(function(){null!=h&&null!=h.posX&&null!=h.posY&&a.OnTouchMove(h.posX,h.posY)},10));K(c)}}catch(k){var c=
"",l;for(l in k)c+="property: "+l+" value: ["+k[l]+"]\n";c+="toString():  value: ["+k.toString()+"]";alert("Debug(5):"+c)}}function K(b){var c,d,f;switch(p){case 1:if(0==b.length)break;c=b[0];if(null!=n){if(null!=a.OnDragMove){var g=n;setTimeout(function(){a.OnDragMove(g,c.deltaX,c.deltaY)},10)}}else 0>c.deltaX?null!=a.OnOneFingerLeftSwipe&&setTimeout(function(){a.OnOneFingerLeftSwipe(c.deltaX,c.deltaY)},10):0<c.deltaX&&null!=a.OnOneFingerRightSwipe&&setTimeout(function(){a.OnOneFingerRightSwipe(c.deltaX,
c.deltaY)},10);break;case 2:if(2>b.length)break;c=b[0];d=b[1];f=b[0];objMarker4=b[1];c.posX>d.posX&&(b=c,c=d,d=b);f.posY>objMarker4.posY&&(b=f,f=objMarker4,objMarker4=b);0>c.deltaX&&0>d.deltaX?null!=a.OnTwoFingerLeftSwipe&&setTimeout(function(){a.OnTwoFingerLeftSwipe((c.deltaX+d.deltaX)/2)},10):0<c.deltaX&&0<d.deltaX?null!=a.OnTwoFingerRightSwipe&&setTimeout(function(){a.OnTwoFingerRightSwipe((c.deltaX+d.deltaX)/2)},10):0<c.deltaX&&0>d.deltaX||0<f.deltaY&&0>objMarker4.deltaY?null!=a.OnPinchIn&&setTimeout(function(){a.OnPinchIn(Math.abs(c.deltaX)+
Math.abs(d.deltaX),Math.abs(f.deltaY)+Math.abs(objMarker4.deltaY))},10):(0>c.deltaX&&0<d.deltaX||0>f.deltaY&&0<objMarker4.deltaY)&&null!=a.OnPinchOut&&setTimeout(function(){a.OnPinchOut(Math.abs(c.deltaX)+Math.abs(d.deltaX),Math.abs(f.deltaY)+Math.abs(objMarker4.deltaY))},10);break;case 3:if(3>b.length)break;c=b[0];d=b[1];f=b[2];0>c.deltaX&&0>d.deltaX&&0>f.deltaX?null!=a.OnThreeFingerLeftSwipe&&setTimeout(function(){a.OnThreeFingerLeftSwipe((c.deltaX+d.deltaX+f.deltaX)/3)},10):0<c.deltaX&&0<d.deltaX&&
0<f.deltaX&&null!=a.OnThreeFingerRightSwipe&&setTimeout(function(){a.OnThreeFingerRightSwipe((c.deltaX+d.deltaX+f.deltaX)/3)},10)}}function w(b){try{var a=x?$(m).parent().offset():$(m).offset(),d=a.left,f=a.top;if(null!=q){var g=q.createSVGRect();g.x=b.pageX-d;g.y=b.pageY-f;g.width=1;g.height=1;var e=q.getIntersectionList(g,null);return 0<e.length?e[e.length-1]:null}return null}catch(k){}}function B(b,a,d){b=document.createElementNS("http://www.w3.org/2000/svg",b);b.setAttribute("id",a);null==d&&
(d=null);d.appendChild(b);return b}var z=[],v={},p=0,s=0,u=null,A=0,t=0,H=0,h,J=500,I=500,y=!1,q=e,n=null,D=null==r?30:r,x=null!=navigator.userAgent.match(/Android/i),a=function(b,a,d){b=document.createElement(b);b.setAttribute("id",a);null==d&&(d=null);d.appendChild(b);return b}("div","surfaceevt",k);$(a).css("width","100%").css("height","100%").css("position","absolute").css("left",0).css("top",0).css("z-index","10");var m=B("svg","surface",a);B("g","ttt",m);m.style.zIndex="3";for(k=0;5>k;k++)z[k]=
B("circle","finger"+k,m),h=$(z[k]),h.css("stroke","black").css("stroke-width","2").css("fill","#996633").css("stroke-opacity","0.8").css("fill-opacity","0.7").css("display","none").attr("r",D).css("pointer-events","none");x?(a.parentElement.addEventListener("touchstart",function(a){l(a)}),$(a).parent().bind("touchend",G),$(a).parent().bind("touchmove",F),a.parentElement.addEventListener("touchcancel",function(a){a.preventDefault();$("#txtDebug").val("touchcancel")})):(a.addEventListener("touchstart",
function(a){l(a)}),$(a).bind("touchend",G),$(a).bind("touchmove",F));a.OnOneFingerLeftSwipe=null;a.OnOneFingerRightSwipe=null;a.OnTwoFingerLeftSwipe=null;a.OnTowFingerRightSwipe=null;a.OnThreeFingerLeftSwipe=null;a.OnThreeFingerRightSwipe=null;a.OnPinchIn=null;a.OnPinchOut=null;a.OnTap=null;a.OnLongTap=null;a.OnDoubleTap=null;a.OnTouchStart=null;a.OnTouchMove=null;a.OnTouchEnded=null;a.OnDragStart=null;a.OnDragEnd=null;a.OnDragMove=null;a.NumOfFingers=function(){return p};a.MaxFingers=function(){return s};
return a};e.AdvinionTouchSurface=l;e.ADVrequestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;null==e.ADVrequestAnimationFrame&&(e.ADVrequestAnimationFrame=function(e){setTimeout(e,1E3/60)})})(this);
(function(a){a.fn.prochart_splitterh=function(b){b=a.extend({handle:"",cursor:"n-resize",min:40,start:function(){},resizing:function(){},completed:function(){}},b);var h=""===b.handle?this:this.find(b.handle);a("body").css("cursor");return h.css("cursor",b.cursor).off("mousedown").on("mousedown",function(l){a("body").css("cursor");a("body").css("cursor",b.cursor);a("body").addClass("draggable-split-h-body");b.start&&b.start.call(this);var m=(new Date).getTime(),k=(new Date).getTime();a(".draggable-split-h-body").bind("mouseup",
function(){a("body").css("cursor","default");a(".draggable-split-h").removeClass("draggable-split-h").css("z-index",h);b.completed&&(a(".draggable-split-h-body").unbind("mouseup").removeClass("draggable-split-h-body"),b.completed.call(this))});var c=""===b.handle?a(this).addClass("draggable-split-h"):a(this).addClass("active-handle").parent().addClass("draggable-split-h"),f=a(".draggable-split-h").prev(),g=a(".draggable-split-h").next(),h=c.css("z-index"),n=c.outerHeight();c.outerHeight();var r=c.offset().top+
n-l.pageY;c.offset();var p=0,q=0;c.css("z-index",1E3).parents().off("mousemove").on("mousemove",function(e){if(f&&g){var d=a(".draggable-split-h").prev().height(),c=a(".draggable-split-h").next().height(),d=d+c;0!=f.length&&0!=g.length&&(c=f.offset().top,g.offset(),e=e.pageY-c+(r-n/2),d-=e,e<b.min||d<b.min||(p!=e&&q!=d&&(p=e,q=d,c=!1,k=(new Date).getTime(),500<k-m&&(m=k),c=!1,b.resizing&&b.resizing.call(this,[{id:a(".draggable-split-h").prev().attr("id"),height:e,width:null},{id:a(".draggable-split-h").next().attr("id"),
height:d,width:null}],c)),f.css("height",e.toString()+"px"),g.css("height",d.toString()+"px")))}});l.preventDefault()})}})(jQuery);
function ProChart_InitPlugs(x){var m,n,p,q,k,r,s;function v(a){m=h(a,"cspattern-container");n=h(a,"fibonacci-container");p=h(a,"pattern-container");q=h(a,"pivot-container");k=h(a,"delim-container");r=h(a,"top-container");s=h(a,"topitem-container")}function w(a,b){switch(a){case "advinion_cspatterns":e.activeplugs.cspattern.status=b;break;case "advinion_fibonacci":e.activeplugs.fibonacci.status=b;break;case "advinion_patterns":e.activeplugs.pattern.status=b;break;case "advinion_supportandresistance":e.activeplugs.pivot.status=
b}}function y(a){switch(a){case "advinion_cspatterns":return e.activeplugs.cspattern.status;case "advinion_fibonacci":return e.activeplugs.fibonacci.status;case "advinion_patterns":return e.activeplugs.pattern.status;case "advinion_supportandresistance":return e.activeplugs.pivot.status}}function z(){var a=f.commonutils.func.returnShortUniqID();e.activeplugs.top.guiid=a;return r.replace(/%guid%/g,a).replace(g,"")}function A(){var a=f.commonutils.func.returnShortUniqID();e.activeplugs.cspattern.guiid=
a;return m.replace(g,"").replace(/%title%/g,"cspattern").replace(/%type%/g,"cspattern").replace(/%guid%/g,a).replace(/%time%/g,"2016-05-19 11:15:00").replace(/%age%/g,"23").replace(/%tid%/g,"advinion_cspatterns").replace(/%onoff%/g,"off").replace(/%direction%/g,"0").replace(/%qualityvalue%/g,"0").replace(/%qualitytotalvalue%/g,"10")}function B(){var a=f.commonutils.func.returnShortUniqID();e.activeplugs.fibonacci.guiid=a;return n.replace(g,"").replace(/%type%/g,"fibonacci").replace(/%title%/g,"fibonacci").replace(/%guid%/g,
a).replace(/%time%/g,"").replace(/%age%/g,"").replace(/%direction%/g,"0").replace(/%onoff%/g,"off").replace(/%tid%/g,"advinion_fibonacci").replace(/%qualityvalue%/g,"0").replace(/%qualitytotalvalue%/g,"10")}function C(){var a=f.commonutils.func.returnShortUniqID();e.activeplugs.pattern.guiid=a;return p.replace(g,"").replace(/%type%/g,"pattern").replace(/%title%/g,"pattern").replace(/%guid%/g,a).replace(/%time%/g,"").replace(/%age%/g,"").replace(/%tid%/g,"advinion_patterns").replace(/%onoff%/g,"off").replace(/%direction%/g,
"0").replace(/%qualityvalue%/g,"0").replace(/%qualitytotalvalue%/g,"10")}function D(){var a=f.commonutils.func.returnShortUniqID();e.activeplugs.pivot.guiid=a;return q.replace(g,"").replace(/%type%/g,"pivot").replace(/%title%/g,"pivot").replace(/%guid%/g,a).replace(/%time%/g,"").replace(/%age%/g,"").replace(/%onoff%/g,"off").replace(/%tid%/g,"advinion_supportandresistance").replace(/%direction%/g,"-1").replace(/%qualityvalue%/g,"0").replace(/%qualitytotalvalue%/g,"10")}function t(){$.ajax({type:"POST",
cache:!1,global:!1,url:"http://signals.tradeandchart.com/RecentData.asmx/GetTopSignals",contentType:"application/json; charset=utf-8",dataType:"jsonp",data:{},crossDomain:!0,success:function(a){E(a);!0==l&&setTimeout(t,12E4)},error:function(a){!0==l&&setTimeout(t,12E4)}})}function E(a){u=a;console.log(a);var b="",d=$("#"+e.activeplugs.top.guiid);"undefined"!=typeof d&&($.each(a,function(c,d){var e=s.replace(g,"").replace(/%timescale%/g,a[c].timescale).replace(/%symbol%/g,a[c].symbol).replace(/%timefound%/g,
a[c].found).replace(/%age%/g,a[c].age).replace(/%tid%/g,c).replace(/%direction%/g,a[c].direction).replace(/%qualityvalue%/g,a[c].quality);b+=e}),$(d).html(b),$(f.parent).find("div.top-show").off().on("click",function(){var a=$(this).attr("tid");f.chart.SyncWithEvent(u[a]);var b=u[a].type;$(f.parent).find(".plugin-show").each(function(){$(this).attr("ttype")==b?$(this).find("span").removeClass("plugin-show-icon-off").addClass("plugin-show-icon-on"):$(this).find("span").removeClass("plugin-show-icon-on").addClass("plugin-show-icon-off")})}))}
function h(a,b){var d="",c=a.indexOf("<"+b+">"),e=("<"+b+">").length,f=a.indexOf("</"+b+">");-1!=c&&-1!=f&&f>c+e&&(d=a.substring(c+e,f));return d}var f=x,e={},g=/=""/g,l=!1;f.api.debug.getLogger("prochart.gui.plugs");f.plugs=e;s=r=k=q=p=n=m=null;var u=[];e.gui={initPattern:function(){var a=$.Deferred(),b=!1==f.guiinit.cache?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,b=f.guiinit.rootpath+"/Plugs/plugs.patterns.htm"+b;if(f.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;
d.open("get",b);d.onload=function(){var b=d.responseText;v(b);a.resolve(b)};d.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:b}).done(function(b){v(b);a.resolve(b)});return a.promise()},initPlugs:function(a){e.activeplugs.parent.guiid=a;var b;b=""+C();b+=A();b+=k.replace(g,"");b+=B();b+=D();b+=k.replace(g,"");b+=z();$(f.parent).find("#"+a).html(b);$(f.parent).find("div.plugin-show").on("click",function(){var a=$(this).attr("tid");$(this).find("span").hasClass("plugin-show-icon-on")?($(this).find("span").removeClass("plugin-show-icon-on").addClass("plugin-show-icon-off"),
f.chart.Plugins.EnableRendering(a,!1),w(a,!1)):($(this).find("span").addClass("plugin-show-icon-on").removeClass("plugin-show-icon-off"),f.chart.Plugins.EnableRendering(a,!0),w(a,!0));f.chart.Redraw()});$(f.parent).find("div.plugin-zoom").on("click",function(){var a=$(this).attr("tid");y(a)&&f.chart.Plugins.ZoomOnSelectedItem(a,!0)})},updateContent:function(a,b,d){switch(b){case "advinion_cspatterns":a=$("#"+e.activeplugs.cspattern.guiid);if("undefined"!=typeof a&&"undefined"!=typeof d){$(a).find(".plugin-title").html(d.name);
$(a).find(".plugin-time-created").html(d.found);$(a).find(".plugin-age-value").html(d.age);b=$(a).find(".plugin-direction > span.plugin-icons").attr("class");for(var c=-1;1>=c;c++)if(-1<b.search("plugin-direction-icon-"+c)){b=b.replace("plugin-direction-icon-"+c,"plugin-direction-icon-"+d.direction);$(a).find(".plugin-direction > span.plugin-icons").attr("class",b);break}$(a).find(".plugin-quality-value").html(d.quality);b=$(a).find(".plugin-quality > span.plugin-icons").attr("class");for(c=0;10>=
c;c++)if(-1<b.search("plugin-quality-icon_"+c)){b=b.replace("plugin-quality-icon_"+c,"plugin-quality-icon_"+d.quality);$(a).find(".plugin-quality > span.plugin-icons").attr("class",b);break}}break;case "advinion_fibonacci":a=$("#"+e.activeplugs.fibonacci.guiid);if("undefined"!=typeof a&&"undefined"!=typeof d){$(a).find(".plugin-title").html(d.name);$(a).find(".plugin-time-created").html(d.found);$(a).find(".plugin-age-value").html(d.age);b=$(a).find(".plugin-direction > span.plugin-icons").attr("class");
for(c=-1;1>=c;c++)if(-1<b.search("plugin-direction-icon-"+c)){b=b.replace("plugin-direction-icon-"+c,"plugin-direction-icon-"+d.direction);$(a).find(".plugin-direction > span.plugin-icons").attr("class",b);break}$(a).find(".plugin-quality-value").html(d.quality);b=$(a).find(".plugin-quality > span.plugin-icons").attr("class");for(c=0;10>=c;c++)if(-1<b.search("plugin-quality-icon_"+c)){b=b.replace("plugin-quality-icon_"+c,"plugin-quality-icon_"+d.quality);$(a).find(".plugin-quality > span.plugin-icons").attr("class",
b);break}}break;case "advinion_patterns":a=$("#"+e.activeplugs.pattern.guiid);if("undefined"!=typeof a&&"undefined"!=typeof d){$(a).find(".plugin-title").html(d.name);$(a).find(".plugin-time-created").html(d.found);$(a).find(".plugin-age-value").html(d.age);b=$(a).find(".plugin-direction > span.plugin-icons").attr("class");for(c=-1;1>=c;c++)if(-1<b.search("plugin-direction-icon-"+c)){b=b.replace("plugin-direction-icon-"+c,"plugin-direction-icon-"+d.direction);$(a).find(".plugin-direction > span.plugin-icons").attr("class",
b);break}$(a).find(".plugin-quality-value").html(d.quality);b=$(a).find(".plugin-quality > span.plugin-icons").attr("class");for(c=0;10>=c;c++)if(-1<b.search("plugin-quality-icon_"+c)){b=b.replace("plugin-quality-icon_"+c,"plugin-quality-icon_"+d.quality);$(a).find(".plugin-quality > span.plugin-icons").attr("class",b);break}}break;case "advinion_supportandresistance":if(a=$("#"+e.activeplugs.pivot.guiid),"undefined"!=typeof a&&"undefined"!=typeof d){$(a).find(".plugin-title").html(d.name);$(a).find(".plugin-time-created").html(d.found);
$(a).find(".plugin-age-value").html(d.age);b=$(a).find(".plugin-direction > span.plugin-icons").attr("class");for(c=-1;1>=c;c++)if(-1<b.search("plugin-direction-icon-"+c)){b=b.replace("plugin-direction-icon-"+c,"plugin-direction-icon-"+d.direction);$(a).find(".plugin-direction > span.plugin-icons").attr("class",b);break}$(a).find(".plugin-quality-value").html(d.quality);b=$(a).find(".plugin-quality > span.plugin-icons").attr("class");for(c=0;10>=c;c++)if(-1<b.search("plugin-quality-icon_"+c)){b=b.replace("plugin-quality-icon_"+
c,"plugin-quality-icon_"+d.quality);$(a).find(".plugin-quality > span.plugin-icons").attr("class",b);break}}}},updateTopStart:function(){l=!0;t()},updateTopStop:function(){l=!1}};e.activeplugs={cspattern:{guiid:null,status:!1},fibonacci:{guiid:null,status:!1},pattern:{guiid:null,status:!1},pivot:{guiid:null,status:!1},top:{guiid:null,status:!1},parent:{guiid:null}};return e};
