function ProChart_InitLayout(J,v,B){function K(){var h=$.Deferred(),e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/init.json.js"+C;if(a.navigator.XMLHttpRequest()){var w=new XMLHttpRequest;w.open("get",e);w.onload=function(){var e=$.parseJSON(w.responseText);c=e;a.layoutlevelinit=c;"undefined"==typeof c.chart&&(c.chart={});"undefined"==typeof c.size&&(c.size={});h.resolve(e)};w.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0}).done(function(e){c=
e;a.layoutlevelinit=c;"undefined"==typeof c.chart&&(c.chart={});"undefined"==typeof c.size&&(c.size={});h.resolve(e)});return h.promise()}function L(){var h=$.Deferred(),e=""==a.guiinit.timeupdateVersiongui?"?"+(new Date).getTime():"?"+a.guiinit.timeupdateVersiongui,e=a.guiinit.rootpath+"/ChartUI/version/prochart.version.json.js"+e;if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",e);c.onload=function(){var e=$.parseJSON(c.responseText);$.parseJSON(c.responseText);a.version.gui.build=
e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)};c.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0,error:function(a,h){}}).done(function(e){a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)});return h.promise()}function D(){var h=$.Deferred(),e=
!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/prochart.layout.js"+e;""!=a.guiinit.customLayoutFile&&(c=a.guiinit.customLayoutFile+e);if(a.navigator.XMLHttpRequest()){var f=new XMLHttpRequest;f.open("get",c);f.onload=function(){var d=f.responseText;eval(d);a.currenlayout=eval("ProChart_InitCurrentLayout")(a);h.resolve(d)};f.send()}else $.ajax({url:c,type:"get",contentType:"application/javascript",dataType:"script",data:{},async:!0,error:function(a,h){k.error(h)}}).done(function(d){eval(d);
a.currenlayout=eval("ProChart_InitCurrentLayout")(a);h.resolve(d)});return h.promise()}function M(){var h=$.Deferred(),e=!1==a.guiinit.cache?"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/patterns/layout.patterns.htm"+e;if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest;c.open("get",e);c.onload=function(){var a=c.responseText;E(a);h.resolve(a)};c.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:e}).done(function(a){E(a);
h.resolve(a)});return h.promise()}function E(h){a.currenlayout.patterns.containter=m(h,"container");a.currenlayout.patterns.top=m(h,"top-pattern");a.currenlayout.patterns.left=m(h,"left-pattern");a.currenlayout.patterns.right=m(h,"right-pattern");a.currenlayout.patterns.bottom=m(h,"bottom-pattern");a.currenlayout.patterns.main=m(h,"main-pattern");a.currenlayout.patterns.mainchart=m(h,"main-pattern-chart");a.currenlayout.patterns.row=m(h,"row-pattern");a.currenlayout.patterns.col=m(h,"col-pattern");
typeof a.events.layout.readyComplete==typeof Function&&a.events.layout.readyComplete();a.eventStatus.layoutreadyComplete=!0;k.debug("Loadded readPattern()");ProChart_InitCommonUtils(a);var e=a.currenlayout.patterns,c=a.currenlayout.layout;q(c);l(c);h=a.commonutils.func.returnShortUniqID();a.currenlayout.chart.layoutiid=h;c.guiid="layout"+h;c.guiniid=a.commonutils.func.returnShortUniqID();c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var f=r(c),e=e.containter.replace(n,"").replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,f.style).replace(/%pstylein%/g,f.styleinner).replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid),c=s(c),e=e.replace(/%html%/g,c);$(a.parent).html(e);N("divChart"+h,h,"layout"+h);k.debug("function createLayout() ---- OK  ")}function s(h){var e="";if("undefined"==typeof h.items)return"";
for(var c=0,f=h.items.length;c<f;c++){var d=h.items[c];switch(d.type){case "top":var g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("inherit"==d.width||"auto"==d.width)d.width=g.width;if("inherit"==d.height||"auto"==d.height)d.height=F(d).height;d.top=0;d.left=0;g=r(d);g=a.currenlayout.patterns.top.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,
g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var b="",b=s(d),g=g.replace(/%html%/g,b),e=e+g;break;case "left":g=h;d.guiid=a.commonutils.func.returnShortUniqID();
d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("undefined"==typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(d.height-=g.items[b].height);d.left=0;g=r(d);g=a.currenlayout.patterns.left.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,
g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "right":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();
q(d);l(d);if("undefined"==typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(d.height-=g.items[b].height);d.right=0;g=r(d);g=a.currenlayout.patterns.right.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",
actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "main":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);if("undefined"==
typeof d.height||"inherit"==d.height)for(d.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,d.height-=d.top),"bottom"==g.items[b].type&&(d.height-=g.items[b].height);if("undefined"==typeof d.width||"inherit"==d.width)for(d.width=g.width,b=0;b<g.items.length;b++)"left"==g.items[b].type&&(d.left=g.items[b].width,d.width-=d.left),"right"==g.items[b].type&&(d.right=g.items[b].width,d.width-=d.right);g=r(d);g=a.currenlayout.patterns.main.replace(n,"").replace(/%id%/g,
d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "bottom":g=h;d.guiid=a.commonutils.func.returnShortUniqID();d.guiniid=a.commonutils.func.returnShortUniqID();q(d);l(d);"inherit"==d.width&&(d.width=g.width);d.bottom=0;d.left=0;g=r(d);g=a.currenlayout.patterns.bottom.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=s(d);g=g.replace(/%html%/g,b);e+=g;break;case "row":g=h;"undefined"==typeof d.guiid&&(d.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof d.guiniid&&(d.guiniid=a.commonutils.func.returnShortUniqID());q(d);
l(d);"inherit"==d.width&&(d.width=g.width);"inherit"==d.height&&(d.height=g.height);b=r(d);b=a.currenlayout.patterns.row.replace(n,"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var k="",k=s(d,g),b=b.replace(/%html%/g,k),e=e+b;break;case "col":g=h;"undefined"==typeof d.guiid&&(d.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof d.guiniid&&(d.guiniid=a.commonutils.func.returnShortUniqID());q(d);l(d);"inherit"==d.width&&(d.width=g.width);"inherit"==d.height&&(d.height=g.height);b=r(d);b=a.currenlayout.patterns.col.replace(n,
"").replace(/%id%/g,d.guiid).replace(/%innid%/g,d.guiniid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);d.fns=[];d.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});k="";k=s(d,g);b=b.replace(/%html%/g,k);e+=b;break;case "toolbar":g=h;if("undefined"!=typeof a.currenlayout.toolbars&&null!=a.currenlayout.toolbars)for(b=0;b<a.currenlayout.toolbars.length;b++)if(k=a.currenlayout.toolbars[b],k.id==d.id){k.parent=g.guiid;break}break;case "menu":g=h;for(b=0;b<a.currenlayout.menus.items.length;b++)if(k=a.currenlayout.menus.items[b],k.id==d.id){k.parent=g.guiid;break}break;case "header":g=h;if("undefined"!=typeof a.currenlayout.headers&&
null!=a.currenlayout.headers)for(b=0;b<a.currenlayout.headers.length;b++)if(k=a.currenlayout.headers[b],k.id==d.id){k.parent=g.guiid;break}break;case "zoom":g=h;if("undefined"!=typeof a.currenlayout.zooms&&null!=a.currenlayout.zooms)for(b=0;b<a.currenlayout.zooms.length;b++)if(k=a.currenlayout.zooms[b],k.id==d.id){k.parent=g.guiid;break}break;case "chartcore":g=h;d.guiid=a.currenlayout.chart.layoutiid;d.height=g.height;d.width=g.width;for(b=0;b<g.items.length;b++)"top"==g.items[b].type&&(d.top=g.items[b].height,
d.height-=d.top),"bottom"==g.items[b].type&&(d.height-=g.items[b].height);for(b=0;b<g.items.length;b++)"left"==g.items[b].type&&(d.left=g.items[b].width,d.width-=d.left),"right"==g.items[b].type&&(d.width-=g.items[b].width);b=a.currenlayout.patterns.mainchart.replace(n,"").replace(/%id%/g,d.guiid).replace(/%css%/g,"undefined"!=typeof d.css?d.css:"").replace(/%pstyle%/g,"");a.currenlayout.chart={parent:g.guiid,width:d.width,height:d.height};b=b.replace(/%html%/g,"");e+=b}}return e}function F(a){var e=
{height:0,width:0};try{for(var b=0;b<a.items.length;b++)"row"!=a.items[b].type||!a.items[b].hasOwnProperty("origsize")||!0!=a.items[b].origsize.view&&"true"!=a.items[b].origsize.view||(!1==isNaN(a.items[b].width)&&(e.width+=a.items[b].width),!1==isNaN(a.items[b].height)&&(e.height+=a.items[b].height))}catch(f){}return e}function q(a){a.origsize={};"undefined"!=typeof a.width&&(a.origsize.width=a.width);"undefined"!=typeof a.height&&(a.origsize.height=a.height);"undefined"!=typeof a.top&&(a.origsize.top=
a.top);"undefined"!=typeof a.left&&(a.origsize.left=a.left);"undefined"!=typeof a.right&&(a.origsize.right=a.right);"undefined"!=typeof a.bottom&&(a.origsize.bottom=a.bottom);"undefined"!=typeof a.padding&&(a.origsize.padding=a.padding);"undefined"!=typeof a.view&&(a.origsize.view=a.view)}function l(a){a.realsize={width:0,height:0}}function r(a,e){var b="",f="";"undefined"==typeof e&&(e="px");"undefined"!=typeof a.left&&(b=b+"left :"+a.left+e+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+a.right+
e+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+a.top+e+"; ");"undefined"!=typeof a.bottom&&(b=b+"bottom :"+a.bottom+e+"; ");"undefined"!=typeof a.width&&(b=b+"width :"+a.width+e+"; ",f=f+"width :"+a.width+e+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+a.height+e+"; ",f=f+"height :"+a.height+e+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return{style:0<b.length?'style="'+b+'"':"",styleinner:0<f.length?'style="'+f+'"':""}}function p(){var a=window.innerHeight?window.innerHeight:
$(window).height(),e=window.innerWidth?window.innerWidth:$(window).width();return{height:a,width:e}}function x(){!1==y.resizelayout&&typeof a.events.layout.onResizing==typeof Function&&(y.resizelayout=!0,a.events.layout.onResizing(a.currenlayout.layout),y.resizelayout=!1);var b=a.currenlayout.layout;b.width=a.currenlayout.workmode.fullscreen?p().width:b.origsize.width;b.height=a.currenlayout.workmode.fullscreen?p().height:b.origsize.height;t(b);u(b);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.adjustSize();
"undefined"!=typeof a.menuobj&&a.menuobj.gui.adjustSize();"undefined"!=typeof a.zoomobj&&a.zoomobj.gui.adjustSize();!1==y.resizelayout&&typeof a.events.layout.onResized==typeof Function&&(y.resizelayout=!0,a.events.layout.onResized(b.width,b.height),y.resizelayout=!1)}function u(b){if("undefined"!=typeof b.items)for(var e=0,c=b.items.length;e<c;e++){var f=b.items[e];switch(f.type){case "top":"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?p().width:b.width);if("inherit"==
f.origsize.height||"auto"==f.origsize.height)f.height=F(f).height;l(f);f.top=0;f.left=0;t(f);u(f);break;case "left":var d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height){f.height=a.currenlayout.workmode.fullscreen?p().height:d.height;for(var g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=d.items[g].height,f.height-=
f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height)}f.left=0;t(f);u(f);break;case "right":d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?p().height:d.height,g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=
d.items[g].height,f.height-=f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height);f.right=0;t(f);u(f);break;case "main":d=b;l(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?p().height:d.height,g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=
0,f.height=f.height):(f.top=d.items[g].height,f.height-=f.top)),"bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view||(f.height-=d.items[g].height);if("undefined"==typeof f.origsize.width||"inherit"==f.origsize.width)for(f.width=a.currenlayout.workmode.fullscreen?p().width:d.width,g=0;g<d.items.length;g++)"left"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.left=d.items[g].width,f.width-=f.left):(f.left=0,f.width=f.width):
(f.left=d.items[g].width,f.width-=f.left)),"right"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.right=d.items[g].width,f.width-=f.right):(f.right=0,f.width=f.width):(f.right=d.items[g].width,f.width-=f.right));t(f);u(f);break;case "bottom":d=b;l(f);"undefined"==typeof d.type?"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?p().width:d.width):f.width=d.width;f.bottom=0;f.left=0;t(f);u(f);break;case "row":d=b;l(f);if("inherit"==
f.origsize.width||"auto"==f.origsize.width)f.width=d.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=d.height;"undefined"==typeof d.realsize||"undefined"==typeof d.realsize.height||!0!=f.origsize.view&&"true"!=f.origsize.view||(d.height>=d.realsize.height+f.height?(f.view=!0,d.realsize.height+=f.height):f.view=!1);t(f);u(f);break;case "col":d=b;l(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=d.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=
d.height;"undefined"!=typeof d.realsize&&"undefined"!=typeof d.realsize.width&&(!0==f.origsize.view||"true"==f.origsize.view)&&d.height>=d.realsize.height+f.height&&(f.view=!0,d.realsize.height+=f.height);t(f);u(f);break;case "chartcore":d=b;f.height=d.height;f.width=d.width;for(g=0;g<d.items.length;g++)"top"==d.items[g].type&&("undefined"!=typeof d.items[g].view?!0==d.items[g].view||"true"==d.items[g].view?(f.top=d.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):(f.top=d.items[g].height,
f.height-=f.top)),f.height="bottom"!=d.items[g].type||!0!=d.items[g].view&&"true"!=d.items[g].view?f.height:f.height-d.items[g].height;a.currenlayout.chart={width:f.width,height:f.height};if("undefined"!=typeof a.panels){a.panels.gui.resizeFullpagePanels();try{a.chart&&"undefined"!=typeof a.chart.AdjustSize&&a.chart.AdjustSize()}catch(k){}}}}}function t(b,e){var c={},f={};"undefined"==typeof e&&(e="px");"undefined"!=typeof b.left&&(c.left=b.left+e);"undefined"!=typeof b.right&&(c.right=b.right+e);
"undefined"!=typeof b.top&&(c.top=b.top+e);"undefined"!=typeof b.bottom&&(c.bottom=b.bottom+e);"undefined"!=typeof b.width&&(c.width=b.width+e,f.width=b.width+e);"undefined"!=typeof b.height&&(c.height=b.height+e,f.height=b.height+e);"undefined"!=typeof b.view&&(c.display=!0==b.view||"true"==b.view?"":"none");!0!=jQuery.isEmptyObject(c)&&$(a.parent).find("#"+b.guiid).css(c);!0!=jQuery.isEmptyObject(f)&&$(a.parent).find("#"+b.guiniid).css(f);return c}function N(b,e,c){O(b,e,c);$.when(function(){var b=
$.Deferred();return"undefined"!=typeof a.menuobj?(k.debug("Before init initMenuPattern"),$.when(a.menuobj.gui.initPattern()).done(function(){k.debug("After init pattern initMenuPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.header?(k.debug("Before init pattern initHeaderPattern"),$.when(a.header.gui.initPattern()).done(function(){k.debug("After init pattern initHeaderPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=
$.Deferred();return"undefined"!=typeof a.toolbaradvobj?(k.debug("Before init pattern initToolbarPattern"),$.when(a.toolbaradvobj.gui.initPattern()).done(function(){k.debug("After init pattern initToolbarPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.zoomobj?(k.debug("Before init pattern initZoomPattern"),$.when(a.zoomobj.gui.initPattern()).done(function(a){k.debug("After init pattern initZoomPattern");b.resolve()}),b.promise()):b.resolve()}(),
function(){var b=$.Deferred();return"undefined"!=typeof a.panels?(k.debug("Before init pattern initPanelsPattern"),$.when(a.panels.gui.initPattern()).done(function(){k.debug("After init pattern initPanelsPattern");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.drawobj?(k.debug("Before init pattern initDrawobjPattern"),$.when(a.drawobj.gui.initPattern()).done(function(){k.debug("After init pattern initDrawobjPattern");b.resolve()}),b.promise()):
b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.signals?($.when(a.signals.gui.initSignalsList()).done(function(a){k.debug("After init pattern initSignalList");b.resolve()}),b.promise()):b.resolve()}(),function(){var b=$.Deferred();return"undefined"!=typeof a.plugs?($.when(a.plugs.gui.initPattern()).done(function(a){k.debug("After init pattern initPlugsPattern");b.resolve()}),b.promise()):b.resolve()}(),P()).done(function(){k.debug("!!!Done read all Patterns");Q(b,e,c);"function"==
typeof a.events.layout.initComplete&&a.events.layout.initComplete();a.eventStatus.layoutInitComplete=!0;a.gui.createChart();a.eventStatus.chartCreateComplete=!0})}function O(h,e,w){k.debug("initChart_step1 ----- start ("+h+")");ProChart_InitMain(a);"undefined"!=typeof a.guiinit.cache&&(!0==a.guiinit.cache?a.init.debug.cache=!0:!1==a.guiinit.cache&&(a.init.debug.cache=!1));a.init.LayoutName=v;a.init.TemplateName="undefined"!=typeof B?B:b(a.init.TemplateName,c.TemplateName);z=a.init.TemplateName;A(a.init.TemplateName);
a.init.chartcontainer=$("#"+h);a.init.chartcontainerid=h;a.init.layoutuid=w;a.init.uuid=e;a.init.size.width=b(a.init.size.width,c.size.width);a.init.size.height=b(a.init.size.height,c.size.height);a.init.size.subheight=b(a.init.size.subheight,c.size.subheight);null==a.gui.size.mainWidth&&(a.gui.size.mainWidth=b(a.init.size.mainWidth,c.size.mainWidth));null==a.gui.size.mainHeight&&(a.gui.size.mainHeight=b(a.init.size.mainHeight,c.size.mainHeight));null==a.gui.size.mainPaddingTop&&(a.gui.size.mainPaddingTop=
b(a.init.size.mainPaddingTop,c.size.mainPaddingTop));null==a.gui.size.mainPaddingBottom&&(a.gui.size.mainPaddingBottom=b(a.init.size.mainPaddingBottom,c.size.mainPaddingBottom));null==a.gui.size.mainPaddingLeft&&(a.gui.size.mainPaddingLeft=b(a.init.size.mainPaddingLeft,c.size.mainPaddingLeft));null==a.gui.size.mainPaddingRight&&(a.gui.size.mainPaddingRight=b(a.init.size.mainPaddingRight,c.size.mainPaddingRight));null==a.gui.size.width&&(a.gui.size.width=b(a.init.size.width,c.size.width));null==a.gui.size.height&&
(a.gui.size.height=b(a.init.size.height,c.size.height));null==a.gui.size.subheight&&(a.gui.size.subheight=b(a.init.size.subheight,c.size.subheight));null==a.gui.size.paddingTop&&(a.gui.size.paddingTop=b(a.init.size.paddingTop,c.size.paddingTop));null==a.gui.size.paddingBottom&&(a.gui.size.paddingBottom=b(a.init.size.paddingBottom,c.size.paddingBottom));null==a.gui.size.paddingPriceBottom&&(a.gui.size.paddingPriceBottom=b(a.init.size.paddingPriceBottom,c.size.paddingPriceBottom));null==a.gui.size.paddingLeft&&
(a.gui.size.paddingLeft=b(a.init.size.paddingLeft,c.size.paddingLeft));null==a.gui.size.paddingRight&&(a.gui.size.paddingRight=b(a.init.size.paddingRight,c.size.paddingRight));null==a.gui.size.zoomWidth&&(a.gui.size.zoomWidth=b(a.init.size.zoomWidth,c.size.zoomWidth));null==a.gui.size.zoomWidthRangebutton&&(a.gui.size.zoomWidthRangebutton=b(a.init.size.zoomWidthRangebutton,c.size.zoomWidthRangebutton));null==a.gui.size.autoInnerWidth&&(a.gui.size.autoInnerWidth=b(a.init.size.autoInnerWidth,c.size.autoInnerWidth));
null==a.gui.size.autoInnerHeight&&(a.gui.size.autoInnerHeight=b(a.init.size.autoInnerHeight,c.size.autoInnerHeight));null==a.gui.size.fixedSize&&(a.gui.size.fixedSize=b(a.init.size.fixedSize,c.size.fixedSize));null==a.gui.size.fullpage&&(a.gui.size.fullpage=b(a.init.size.fullpage,c.size.fullpage));null==a.gui.size.fullscreen&&(a.gui.size.fullscreen=b(a.init.size.fullscreen,c.size.fullscreen));null==a.gui.size.fullPaddingTop&&(a.gui.size.fullPaddingTop=b(a.init.size.fullPaddingTop,c.size.fullPaddingTop));
null==a.gui.size.fullPaddingBottom&&(a.gui.size.fullPaddingBottom=b(a.init.size.fullPaddingBottom,c.size.fullPaddingBottom));null==a.gui.size.fullPaddingLeft&&(a.gui.size.fullPaddingLeft=b(a.init.size.fullPaddingLeft,c.size.fullPaddingLeft));null==a.gui.size.fullPaddingRight&&(a.gui.size.fullPaddingRight=b(a.init.size.fullPaddingRight,c.size.fullPaddingRight));if(null==a.gui.guiblock.header.visible||"undefined"==typeof a.gui.guiblock.header.visible)a.gui.guiblock.header.visible=b(a.init.guiblock.header.visible,
c.gui.header.visible);if("undefined"==typeof a.gui.guiblock.menu.visible||null==a.gui.guiblock.menu.visible)a.gui.guiblock.menu.visible=b(a.init.guiblock.menu.visible,c.gui.menu.visible);if("undefined"==typeof a.gui.guiblock.menu.majors.visible||null==a.gui.guiblock.menu.majors.visible)a.gui.guiblock.menu.majors.visible=b(a.init.guiblock.menu.majors.visible,c.gui.menu.majors.visible);if("undefined"==typeof a.gui.guiblock.menu.template.visible||null==a.gui.guiblock.menu.template.visible)a.gui.guiblock.menu.template.visible=
b(a.init.guiblock.menu.template.visible,c.gui.menu.template.visible);if("undefined"==typeof a.gui.guiblock.menu.charttype.visible||null==a.gui.guiblock.menu.charttype.visible)a.gui.guiblock.menu.charttype.visible=b(a.init.guiblock.menu.charttype.visible,c.gui.menu.charttype.visible);if("undefined"==typeof a.gui.guiblock.menu.timeframe.visible||null==a.gui.guiblock.menu.timeframe.visible)a.gui.guiblock.menu.timeframe.visible=b(a.init.guiblock.menu.timeframe.visible,c.gui.menu.timeframe.visible);if("undefined"==
typeof a.gui.guiblock.menu.studies.visible||null==a.gui.guiblock.menu.studies.visible)a.gui.guiblock.menu.studies.visible=b(a.init.guiblock.menu.studies.visible,c.gui.menu.studies.visible);if("undefined"==typeof a.gui.guiblock.menu.compares.visible||null==a.gui.guiblock.menu.compares.visible)a.gui.guiblock.menu.compares.visible=b(a.init.guiblock.menu.compares.visible,c.gui.menu.compares.visible);if("undefined"==typeof a.gui.guiblock.menu.localization.visible||null==a.gui.guiblock.menu.localization.visible)a.gui.guiblock.menu.localization.visible=
b(a.init.guiblock.menu.localization.visible,c.gui.menu.localization.visible);if("undefined"==typeof a.gui.guiblock.menu.help.visible||null==a.gui.guiblock.menu.help.visible)a.gui.guiblock.menu.help.visible=b(a.init.guiblock.menu.help.visible,c.gui.menu.help.visible);if("undefined"==typeof a.gui.guiblock.menu.about.visible||null==a.gui.guiblock.menu.about.visible)a.gui.guiblock.menu.about.visible=b(a.init.guiblock.menu.about.visible,c.gui.menu.about.visible);if("undefined"==typeof a.gui.guiblock.toolbar.visible||
null==a.gui.guiblock.toolbar.visible)a.gui.guiblock.toolbar.visible=b(a.init.guiblock.toolbar.visible,c.gui.toolbar.visible);if("undefined"==typeof a.gui.guiblock.toolbar.charttype.visible||null==a.gui.guiblock.toolbar.charttype.visible)a.gui.guiblock.toolbar.charttype.visible=b(a.init.guiblock.toolbar.charttype.visible,c.gui.toolbar.charttype.visible);if("undefined"==typeof a.gui.guiblock.toolbar.timeframe.visible||null==a.gui.guiblock.toolbar.timeframe.visible)a.gui.guiblock.toolbar.timeframe.visible=
b(a.init.guiblock.toolbar.timeframe.visible,c.gui.toolbar.timeframe.visible);if("undefined"==typeof a.gui.guiblock.toolbar.systems.visible||null==a.gui.guiblock.toolbar.systems.visible)a.gui.guiblock.toolbar.systems.visible=b(a.init.guiblock.toolbar.systems.visible,c.gui.toolbar.systems.visible);if("undefined"==typeof a.gui.guiblock.toolbar.other.visible||null==a.gui.guiblock.toolbar.other.visible)a.gui.guiblock.toolbar.other.visible=b(a.init.guiblock.toolbar.other.visible,c.gui.toolbar.other.visible);
if("undefined"==typeof a.gui.guiblock.zoom.visible||null==a.gui.guiblock.zoom.visible)a.gui.guiblock.zoom.visible=b(a.init.guiblock.zoom.visible,c.gui.zoom.visible);if("undefined"==typeof a.gui.guiblock.zoom.zoomtoolbar.visible||null==a.gui.guiblock.zoom.zoomtoolbar.visible)a.gui.guiblock.zoom.zoomtoolbar.visible=b(a.init.guiblock.zoom.zoomtoolbar.visible,c.gui.zoom.zoomtoolbar.visible);if("undefined"==typeof a.gui.size.panels.unit||null==a.gui.size.panels.unit)a.gui.size.panels.unit=b(a.init.size.panels.unit,
c.panels.unit);if("undefined"==typeof a.gui.size.panels.padding||null==a.gui.size.panels.padding)a.gui.size.panels.padding=b(a.init.size.panels.padding,c.panels.padding);if("undefined"==typeof a.gui.size.panels.spiltmargin||null==a.gui.size.panels.spiltmargin)a.gui.size.panels.spiltmargin=b(a.init.size.panels.spiltmargin,c.panels.spiltmargin);if("undefined"==typeof a.gui.size.panels.margin||null==a.gui.size.panels.margin)a.gui.size.panels.margin=b(a.init.size.panels.margin,c.panels.margin);if("undefined"==
typeof a.gui.size.panels.price.grow||null==a.gui.size.panels.price.grow)a.gui.size.panels.price.grow=b(a.init.size.panels.price.grow,c.panels.price.grow);if("undefined"==typeof a.gui.size.panels.price.axisy.view||null==a.gui.size.panels.price.axisy.view)a.gui.size.panels.price.axisy.view=b(a.init.size.panels.price.axisy.view,c.panels.price.axisy.view);if("undefined"==typeof a.gui.size.panels.price.axisy.width||null==a.gui.size.panels.price.axisy.width)a.gui.size.panels.price.axisy.width=b(a.init.size.panels.price.axisy.width,
c.panels.price.axisy.width);if("undefined"==typeof a.gui.size.panels.price.axisy.right||null==a.gui.size.panels.price.axisy.right)a.gui.size.panels.price.axisy.right=b(a.init.size.panels.price.axisy.right,c.panels.price.axisy.right);if("undefined"==typeof a.gui.size.panels.price.axisy.padding||null==a.gui.size.panels.price.axisy.padding)a.gui.size.panels.price.axisy.padding=b(a.init.size.panels.price.axisy.right,c.panels.price.axisy.padding);if("undefined"==typeof a.gui.size.panels.price.axisx.view||
null==a.gui.size.panels.price.axisx.view)a.gui.size.panels.price.axisx.view=b(a.init.size.panels.price.axisx.view,c.panels.price.axisx.view);if("undefined"==typeof a.gui.size.panels.price.axisx.height||null==a.gui.size.panels.price.axisx.height)a.gui.size.panels.price.axisx.height=b(a.init.size.panels.price.axisx.height,c.panels.price.axisx.height);if("undefined"==typeof a.gui.size.panels.price.axisx.bottom||null==a.gui.size.panels.price.axisx.bottom)a.gui.size.panels.price.axisx.bottom=b(a.init.size.panels.price.axisx.bottom,
c.panels.price.axisx.bottom);if("undefined"==typeof a.gui.size.panels.price.axisx.right||null==a.gui.size.panels.price.axisx.right)a.gui.size.panels.price.axisx.right=b(a.init.size.panels.price.axisx.right,c.panels.price.axisx.right);if("undefined"==typeof a.gui.size.panels.price.axisx.padding||null==a.gui.size.panels.price.axisx.padding)a.gui.size.panels.price.axisx.padding=b(a.init.size.panels.price.axisx.right,c.panels.price.axisx.padding);if("undefined"==typeof a.gui.size.panels.price.main.top||
null==a.gui.size.panels.price.main.top)a.gui.size.panels.price.main.top=b(a.init.size.panels.price.main.top,c.panels.price.main.top);if("undefined"==typeof a.gui.size.panels.price.main.left||null==a.gui.size.panels.price.main.left)a.gui.size.panels.price.main.left=b(a.init.size.panels.price.main.left,c.panels.price.main.left);if("undefined"==typeof a.gui.size.panels.price.main.bottom||null==a.gui.size.panels.price.main.bottom)a.gui.size.panels.price.main.bottom=b(a.init.size.panels.price.main.bottom,
c.panels.price.main.bottom);if("undefined"==typeof a.gui.size.panels.price.main.right||null==a.gui.size.panels.price.main.right)a.gui.size.panels.price.main.right=b(a.init.size.panels.price.main.right,c.panels.price.main.right);if("undefined"==typeof a.gui.size.panels.price.main.padding||null==a.gui.size.panels.price.main.padding)a.gui.size.panels.price.main.padding=b(a.init.size.panels.price.main.right,c.panels.price.main.padding);if("undefined"==typeof a.gui.size.panels.price.legend.top||null==
a.gui.size.panels.price.legend.top)a.gui.size.panels.price.legend.top=b(a.init.size.panels.price.legend.top,c.panels.price.legend.top);if("undefined"==typeof a.gui.size.panels.price.legend.left||null==a.gui.size.panels.price.legend.left)a.gui.size.panels.price.legend.left=b(a.init.size.panels.price.legend.left,c.panels.price.legend.left);if("undefined"==typeof a.gui.size.panels.price.legend.height||null==a.gui.size.panels.price.legend.height)a.gui.size.panels.price.legend.height=b(a.init.size.panels.price.legend.height,
c.panels.price.legend.height);if("undefined"==typeof a.gui.size.panels.price.legend.right||null==a.gui.size.panels.price.legend.right)a.gui.size.panels.price.legend.right=b(a.init.size.panels.price.legend.right,c.panels.price.legend.right);if("undefined"==typeof a.gui.size.panels.price.legend.view||null==a.gui.size.panels.price.legend.view)a.gui.size.panels.price.legend.view=b(a.init.size.panels.price.legend.view,c.panels.price.legend.view);if("undefined"==typeof a.gui.size.panels.price.legend.padding||
null==a.gui.size.panels.price.legend.padding)a.gui.size.panels.price.legend.padding=b(a.init.size.panels.price.legend.right,c.panels.price.legend.padding);if("undefined"==typeof a.gui.size.panels.price.controlpanel.top||null==a.gui.size.panels.price.controlpanel.top)a.gui.size.panels.price.controlpanel.top=b(a.init.size.panels.price.controlpanel.top,c.panels.price.controlpanel.top);if("undefined"==typeof a.gui.size.panels.price.controlpanel.view||null==a.gui.size.panels.price.controlpanel.view)a.gui.size.panels.price.controlpanel.view=
b(a.init.size.panels.price.controlpanel.view,c.panels.price.controlpanel.view);if("undefined"==typeof a.gui.size.panels.price.controlpanel.height||null==a.gui.size.panels.price.controlpanel.height)a.gui.size.panels.price.controlpanel.height=b(a.init.size.panels.price.controlpanel.height,c.panels.price.controlpanel.height);if("undefined"==typeof a.gui.size.panels.price.controlpanel.right||null==a.gui.size.panels.price.controlpanel.right)a.gui.size.panels.price.controlpanel.right=b(a.init.size.panels.price.controlpanel.right,
c.panels.price.controlpanel.right);if("undefined"==typeof a.gui.size.panels.price.controlpanel.width||null==a.gui.size.panels.price.controlpanel.width)a.gui.size.panels.price.controlpanel.width=b(a.init.size.panels.price.controlpanel.width,c.panels.price.controlpanel.width);if("undefined"==typeof a.gui.size.panels.price.zoom.bottom||null==a.gui.size.panels.price.zoom.bottom)a.gui.size.panels.price.zoom.bottom=b(a.init.size.panels.price.zoom.bottom,c.panels.price.zoom.bottom);if("undefined"==typeof a.gui.size.panels.price.zoom.left||
null==a.gui.size.panels.price.zoom.left)a.gui.size.panels.price.zoom.left=b(a.init.size.panels.price.zoom.left,c.panels.price.zoom.left);if("undefined"==typeof a.gui.size.panels.price.zoom.right||null==a.gui.size.panels.price.zoom.right)a.gui.size.panels.price.zoom.right=b(a.init.size.panels.price.zoom.right,c.panels.price.zoom.right);if("undefined"==typeof a.gui.size.panels.price.zoom.view||null==a.gui.size.panels.price.zoom.view)a.gui.size.panels.price.zoom.view=b(a.init.size.panels.price.zoom.view,
c.panels.price.zoom.view);if("undefined"==typeof a.gui.size.panels.price.zoom.height||null==a.gui.size.panels.price.zoom.height)a.gui.size.panels.price.zoom.height=b(a.init.size.panels.price.zoom.height,c.panels.price.zoom.height);if("undefined"==typeof a.gui.size.panels.price.zoom.width||null==a.gui.size.panels.price.zoom.width)a.gui.size.panels.price.zoom.width=b(a.init.size.panels.price.zoom.width,c.panels.price.zoom.width);if("undefined"==typeof a.gui.size.panels.price.zoom.padding||null==a.gui.size.panels.price.zoom.padding)a.gui.size.panels.price.zoom.padding=
b(a.init.size.panels.price.zoom.padding,c.panels.price.zoom.padding);if("undefined"==typeof a.gui.size.panels.study.grow||null==a.gui.size.panels.study.grow)a.gui.size.panels.study.grow=b(a.init.size.panels.study.grow,c.panels.study.grow);if("undefined"==typeof a.gui.size.panels.study.axisy.view||null==a.gui.size.panels.study.axisy.view)a.gui.size.panels.study.axisy.view=b(a.init.size.panels.study.axisy.view,c.panels.study.axisy.view);if("undefined"==typeof a.gui.size.panels.study.axisy.top||null==
a.gui.size.panels.study.axisy.top)a.gui.size.panels.study.axisy.top=b(a.init.size.panels.study.axisy.top,c.panels.study.axisy.top);if("undefined"==typeof a.gui.size.panels.study.axisy.width||null==a.gui.size.panels.study.axisy.width)a.gui.size.panels.study.axisy.width=b(a.init.size.panels.study.axisy.width,c.panels.study.axisy.width);if("undefined"==typeof a.gui.size.panels.study.axisy.right||null==a.gui.size.panels.study.axisy.right)a.gui.size.panels.study.axisy.right=b(a.init.size.panels.study.axisy.right,
c.panels.study.axisy.right);if("undefined"==typeof a.gui.size.panels.study.axisy.bottom||null==a.gui.size.panels.study.axisy.bottom)a.gui.size.panels.study.axisy.bottom=b(a.init.size.panels.study.axisy.bottom,c.panels.study.axisy.bottom);if("undefined"==typeof a.gui.size.panels.study.axisy.padding||null==a.gui.size.panels.study.axisy.padding)a.gui.size.panels.study.axisy.padding=b(a.init.size.panels.study.axisy.right,c.panels.study.axisy.padding);if("undefined"==typeof a.gui.size.panels.study.axisx.view||
null==a.gui.size.panels.study.axisx.view)a.gui.size.panels.study.axisx.view=b(a.init.size.panels.study.axisx.view,c.panels.study.axisx.view);if("undefined"==typeof a.gui.size.panels.study.axisx.height||null==a.gui.size.panels.study.axisx.height)a.gui.size.panels.study.axisx.height=b(a.init.size.panels.study.axisx.height,c.panels.study.axisx.height);if("undefined"==typeof a.gui.size.panels.study.axisx.bottom||null==a.gui.size.panels.study.axisx.bottom)a.gui.size.panels.study.axisx.bottom=b(a.init.size.panels.study.axisx.bottom,
c.panels.study.axisx.bottom);if("undefined"==typeof a.gui.size.panels.study.axisx.right||null==a.gui.size.panels.study.axisx.right)a.gui.size.panels.study.axisx.right=b(a.init.size.panels.study.axisx.right,c.panels.study.axisx.right);if("undefined"==typeof a.gui.size.panels.study.axisx.padding||null==a.gui.size.panels.study.axisx.padding)a.gui.size.panels.study.axisx.padding=b(a.init.size.panels.study.axisx.right,c.panels.study.axisx.padding);if("undefined"==typeof a.gui.size.panels.study.main.top||
null==a.gui.size.panels.study.main.top)a.gui.size.panels.study.main.top=b(a.init.size.panels.study.main.top,c.panels.study.main.top);if("undefined"==typeof a.gui.size.panels.study.main.left||null==a.gui.size.panels.study.main.left)a.gui.size.panels.study.main.left=b(a.init.size.panels.study.main.left,c.panels.study.main.left);if("undefined"==typeof a.gui.size.panels.study.main.bottom||null==a.gui.size.panels.study.main.bottom)a.gui.size.panels.study.main.bottom=b(a.init.size.panels.study.main.bottom,
c.panels.study.main.bottom);if("undefined"==typeof a.gui.size.panels.study.main.right||null==a.gui.size.panels.study.main.right)a.gui.size.panels.study.main.right=b(a.init.size.panels.study.main.right,c.panels.study.main.right);if("undefined"==typeof a.gui.size.panels.study.main.padding||null==a.gui.size.panels.study.main.padding)a.gui.size.panels.study.main.padding=b(a.init.size.panels.study.main.right,c.panels.study.main.padding);if("undefined"==typeof a.gui.size.panels.study.legend.top||null==
a.gui.size.panels.study.legend.top)a.gui.size.panels.study.legend.top=b(a.init.size.panels.study.legend.top,c.panels.study.legend.top);if("undefined"==typeof a.gui.size.panels.study.legend.left||null==a.gui.size.panels.study.legend.left)a.gui.size.panels.study.legend.left=b(a.init.size.panels.study.legend.left,c.panels.study.legend.left);if("undefined"==typeof a.gui.size.panels.study.legend.height||null==a.gui.size.panels.study.legend.height)a.gui.size.panels.study.legend.height=b(a.init.size.panels.study.legend.height,
c.panels.study.legend.height);if("undefined"==typeof a.gui.size.panels.study.legend.right||null==a.gui.size.panels.study.legend.right)a.gui.size.panels.study.legend.right=b(a.init.size.panels.study.legend.right,c.panels.study.legend.right);if("undefined"==typeof a.gui.size.panels.study.legend.view||null==a.gui.size.panels.study.legend.view)a.gui.size.panels.study.legend.view=b(a.init.size.panels.study.legend.view,c.panels.study.legend.view);if("undefined"==typeof a.gui.size.panels.study.legend.padding||
null==a.gui.size.panels.study.legend.padding)a.gui.size.panels.study.legend.padding=b(a.init.size.panels.study.legend.right,c.panels.study.legend.padding);if("undefined"==typeof a.gui.size.panels.study.controlpanel.view||null==a.gui.size.panels.study.controlpanel.view)a.gui.size.panels.study.controlpanel.view=b(a.init.size.panels.study.controlpanel.view,c.panels.study.controlpanel.view);if("undefined"==typeof a.gui.size.panels.study.controlpanel.top||null==a.gui.size.panels.study.controlpanel.top)a.gui.size.panels.study.controlpanel.top=
b(a.init.size.panels.study.controlpanel.top,c.panels.study.controlpanel.top);if("undefined"==typeof a.gui.size.panels.study.controlpanel.height||null==a.gui.size.panels.study.controlpanel.height)a.gui.size.panels.study.controlpanel.height=b(a.init.size.panels.study.controlpanel.height,c.panels.study.controlpanel.height);if("undefined"==typeof a.gui.size.panels.study.controlpanel.right||null==a.gui.size.panels.study.controlpanel.right)a.gui.size.panels.study.controlpanel.right=b(a.init.size.panels.study.controlpanel.right,
c.panels.study.controlpanel.right);if("undefined"==typeof a.gui.size.panels.study.controlpanel.width||null==a.gui.size.panels.study.controlpanel.width)a.gui.size.panels.study.controlpanel.width=b(a.init.size.panels.study.controlpanel.width,c.panels.study.controlpanel.width);if("undefined"==typeof a.gui.size.panels.splitterx.grow||null==a.gui.size.panels.splitterx.grow)a.gui.size.panels.splitterx.grow=b(a.init.size.panels.splitterx.grow,c.panels.splitterx.grow);if("undefined"==typeof a.gui.size.panels.splitterx.height||
null==a.gui.size.panels.splitterx.height)a.gui.size.panels.splitterx.height=b(a.init.size.panels.splitterx.height,c.panels.splitterx.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.top||null==a.gui.size.panels.splitterx.main.top)a.gui.size.panels.splitterx.main.top=b(a.init.size.panels.splitterx.main.top,c.panels.splitterx.main.top);if("undefined"==typeof a.gui.size.panels.splitterx.main.view||null==a.gui.size.panels.splitterx.main.view)a.gui.size.panels.splitterx.main.view=b(a.init.size.panels.splitterx.main.view,
c.panels.splitterx.main.view);if("undefined"==typeof a.gui.size.panels.splitterx.main.left||null==a.gui.size.panels.splitterx.main.left)a.gui.size.panels.splitterx.main.left=b(a.init.size.panels.splitterx.main.left,c.panels.splitterx.main.left);if("undefined"==typeof a.gui.size.panels.splitterx.main.bottom||null==a.gui.size.panels.splitterx.main.bottom)a.gui.size.panels.splitterx.main.bottom=b(a.init.size.panels.splitterx.main.bottom,c.panels.splitterx.main.bottom);if("undefined"==typeof a.gui.size.panels.splitterx.main.right||
null==a.gui.size.panels.splitterx.main.right)a.gui.size.panels.splitterx.main.right=b(a.init.size.panels.splitterx.main.right,c.panels.splitterx.main.right);if("undefined"==typeof a.gui.size.panels.splitterx.main.height||null==a.gui.size.panels.splitterx.main.height)a.gui.size.panels.splitterx.main.height=b(a.init.size.panels.splitterx.main.height,c.panels.splitterx.main.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.padding||null==a.gui.size.panels.splitterx.main.padding)a.gui.size.panels.splitterx.main.padding=
b(a.init.size.panels.splitterx.main.right,c.panels.splitterx.main.padding);if("undefined"==typeof a.gui.size.panels.signal.grow||null==a.gui.size.panels.signal.grow)a.gui.size.panels.signal.grow=b(a.init.size.panels.signal.grow,c.panels.signal.grow);if("undefined"==typeof a.gui.size.panels.signal.main.top||null==a.gui.size.panels.signal.main.top)a.gui.size.panels.signal.main.top=b(a.init.size.panels.signal.main.top,c.panels.signal.main.top);if("undefined"==typeof a.gui.size.panels.signal.main.left||
null==a.gui.size.panels.signal.main.left)a.gui.size.panels.signal.main.left=b(a.init.size.panels.signal.main.left,c.panels.signal.main.left);if("undefined"==typeof a.gui.size.panels.signal.main.bottom||null==a.gui.size.panels.signal.main.bottom)a.gui.size.panels.signal.main.bottom=b(a.init.size.panels.signal.main.bottom,c.panels.signal.main.bottom);if("undefined"==typeof a.gui.size.panels.signal.main.right||null==a.gui.size.panels.signal.main.right)a.gui.size.panels.signal.main.right=b(a.init.size.panels.signal.main.right,
c.panels.signal.main.right);if("undefined"==typeof a.gui.size.panels.signal.main.padding||null==a.gui.size.panels.signal.main.padding)a.gui.size.panels.signal.main.padding=b(a.init.size.panels.signal.main.right,c.panels.signal.main.padding);if("undefined"==typeof a.gui.size.panels.signal.legend.top||null==a.gui.size.panels.signal.legend.top)a.gui.size.panels.signal.legend.top=b(a.init.size.panels.signal.legend.top,c.panels.signal.legend.top);if("undefined"==typeof a.gui.size.panels.signal.legend.left||
null==a.gui.size.panels.signal.legend.left)a.gui.size.panels.signal.legend.left=b(a.init.size.panels.signal.legend.left,c.panels.signal.legend.left);if("undefined"==typeof a.gui.size.panels.signal.legend.height||null==a.gui.size.panels.signal.legend.height)a.gui.size.panels.signal.legend.height=b(a.init.size.panels.signal.legend.height,c.panels.signal.legend.height);if("undefined"==typeof a.gui.size.panels.signal.legend.right||null==a.gui.size.panels.signal.legend.right)a.gui.size.panels.signal.legend.right=
b(a.init.size.panels.signal.legend.right,c.panels.signal.legend.right);if("undefined"==typeof a.gui.size.panels.signal.legend.view||null==a.gui.size.panels.signal.legend.view)a.gui.size.panels.signal.legend.view=b(a.init.size.panels.signal.legend.view,c.panels.signal.legend.view);if("undefined"==typeof a.gui.size.panels.signal.legend.padding||null==a.gui.size.panels.signal.legend.padding)a.gui.size.panels.signal.legend.padding=b(a.init.size.panels.signal.legend.right,c.panels.signal.legend.padding);
if("undefined"==typeof a.gui.size.panels.signal.controlpanel.view||null==a.gui.size.panels.signal.controlpanel.view)a.gui.size.panels.signal.controlpanel.view=b(a.init.size.panels.signal.controlpanel.view,c.panels.signal.controlpanel.view);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.top||null==a.gui.size.panels.signal.controlpanel.top)a.gui.size.panels.signal.controlpanel.top=b(a.init.size.panels.signal.controlpanel.top,c.panels.signal.controlpanel.top);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.width||
null==a.gui.size.panels.signal.controlpanel.width)a.gui.size.panels.signal.controlpanel.width=b(a.init.size.panels.signal.controlpanel.width,c.panels.signal.controlpanel.width);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.height||null==a.gui.size.panels.signal.controlpanel.height)a.gui.size.panels.signal.controlpanel.height=b(a.init.size.panels.signal.controlpanel.height,c.panels.signal.controlpanel.height);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.right||null==
a.gui.size.panels.signal.controlpanel.right)a.gui.size.panels.signal.controlpanel.right=b(a.init.size.panels.signal.controlpanel.right,c.panels.signal.controlpanel.right);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.padding||null==a.gui.size.panels.signal.controlpanel.padding)a.gui.size.panels.signal.controlpanel.padding=b(a.init.size.panels.signal.controlpanel.right,c.panels.signal.controlpanel.padding);if("undefined"==typeof a.gui.size.panels.signal.alert.top||null==a.gui.size.panels.signal.alert.top)a.gui.size.panels.signal.alert.top=
b(a.init.size.panels.signal.alert.top,c.panels.signal.alert.top);if("undefined"==typeof a.gui.size.panels.signal.alert.left||null==a.gui.size.panels.signal.alert.left)a.gui.size.panels.signal.alert.left=b(a.init.size.panels.signal.alert.left,c.panels.signal.alert.left);if("undefined"==typeof a.gui.size.panels.signal.alert.bottom||null==a.gui.size.panels.signal.alert.bottom)a.gui.size.panels.signal.alert.bottom=b(a.init.size.panels.signal.alert.bottom,c.panels.signal.alert.bottom);if("undefined"==
typeof a.gui.size.panels.signal.alert.right||null==a.gui.size.panels.signal.alert.right)a.gui.size.panels.signal.alert.right=b(a.init.size.panels.signal.alert.right,c.panels.signal.alert.right);if("undefined"==typeof a.gui.size.panels.signal.alert.view||null==a.gui.size.panels.signal.alert.view)a.gui.size.panels.signal.alert.view=b(a.init.size.panels.signal.alert.view,c.panels.signal.alert.view);if("undefined"==typeof a.gui.size.panels.signal.alert.padding||null==a.gui.size.panels.signal.alert.padding)a.gui.size.panels.signal.alert.padding=
b(a.init.size.panels.signal.alert.right,c.panels.signal.alert.padding);null!=a.gui.init.majors&&(a.init.majors=jQuery.extend(!0,[],a.gui.init.majors));null!=a.gui.init.compares&&(a.init.compares=jQuery.extend(!0,[],a.gui.init.compares));null!=a.gui.init.majors2&&(a.init.majors2=jQuery.extend(!0,[],a.gui.init.majors2));null!=a.gui.init.localization?a.init.localization=jQuery.extend(!0,[],a.gui.init.localization):a.gui.init.localization=jQuery.extend(!0,[],a.init.localization);null!=a.gui.init.timeframe&&
(a.init.timeframe=jQuery.extend(!0,[],a.gui.init.timeframe));null!=a.gui.init.autotimescale&&(a.init.autotimescale=jQuery.extend(!0,[],a.gui.init.autotimescale));null!=a.gui.init.charttype&&(a.init.charttype=jQuery.extend(!0,[],a.gui.init.charttype));null!=a.gui.init.indicators&&(a.init.indicators=jQuery.extend(!0,[],a.gui.init.indicators));null!=a.gui.init.comparecharttype&&(a.init.comparecharttype=jQuery.extend(!0,[],a.gui.init.comparecharttype));!0==a.gui.size.fullpage&&(a.currenlayout.workmode.fullscreen=
!0,a.currenlayout.workmode.alwaysfullscreen=!0,G());x();h=b(a.init.localizationlang,a.gui.init.localizationlang);ProChart_InitLocalization(a,h);a.chart=AdvinionHtmlChart_Init();a.localizationobj&&(a.chart.LocalizationManager=a.localizationobj);a.chart.FixedSize=a.gui.size.fixedSize;a.actions=ProChart_InitActions(a);a.init.templates=b(a.init.templates,c.templates);a.chart.Symbol=b(a.init.chart.Symbol,c.chart.Symbol);a.chart.TimeScale=b(a.init.chart.TimeScale,c.chart.TimeScale);a.chart.PriceChartType=
b(a.init.chart.PriceChartType,c.chart.PriceChartType);a.chart.DefaultMarket=b(a.init.chart.DefaultMarket,c.chart.DefaultMarket);a.chart.ValueFieldType=b(a.init.chart.ValueFieldType,c.chart.ValueFieldType);a.chart.AllowChangingSymbols=b(a.init.chart.AllowChangingSymbols,c.chart.AllowChangingSymbols);a.chart.AllowChangingTimeScale=b(a.init.chart.AllowChangingTimeScale,c.chart.AllowChangingTimeScale);a.chart.ShowBarData=b(a.init.chart.ShowBarData,c.chart.ShowBarData);a.chart.MarkersCornerRadius=b(a.init.chart.MarkersCornerRadius,
c.chart.MarkersCornerRadius);a.chart.ShowSymbolAndUpdate=b(a.init.chart.ShowSymbolAndUpdate,c.chart.ShowSymbolAndUpdate);a.chart.NumVisibleBars=b(a.init.chart.NumVisibleBars,c.chart.NumVisibleBars);a.chart.NumBars=b(a.init.chart.NumBars,c.chart.NumBars);a.chart.DataServiceURL=b(a.init.chart.DataServiceURL,c.chart.DataServiceURL);a.chart.TemplatesServiceURL=b(a.init.chart.TemplatesServiceURL,c.chart.TemplatesServiceURL);a.chart.DisplayBarNumber=b(a.init.chart.DisplayBarNumber,c.chart.DisplayBarNumber);
a.chart.SymbolsServiceURL=b(a.init.chart.SymbolsServiceURL,c.chart.SymbolsServiceURL);a.chart.PanelPaddingLeft=a.gui.size.paddingLeft;a.chart.PanelPaddingRight=a.gui.size.paddingRight;a.chart.PanelPaddingTop=a.gui.size.paddingTop;a.chart.PanelPaddingBottom=a.gui.size.paddingBottom;a.chart.PricePaddingBottom=a.gui.size.paddingPriceBottom;!0==a.guiinit.menu&&(a.menuobj=ProChart_InitMenu(a));!0==a.guiinit.draw&&"undefined"!=typeof ProChart_InitDraw&&ProChart_InitDraw(a);!0==a.guiinit.indicators&&"undefined"!=
typeof ProChart_Initindicators&&ProChart_Initindicators(a);!0==a.guiinit.system&&"undefined"!=typeof ProChart_InitSystems&&ProChart_InitSystems(a);!0==a.guiinit.community&&"undefined"!=typeof ProChart_InitCommunity&&ProChart_InitCommunity(a);!0==a.guiinit.messages&&"undefined"!=typeof ProChart_InitMessages&&ProChart_InitMessages(a);!0==a.guiinit.compare&&"undefined"!=typeof ProChart_InitCompares&&ProChart_InitCompares(a);!0==a.guiinit.signals&&"undefined"!=typeof ProChart_InitSignals&&ProChart_InitSignals(a);
!0==a.guiinit.header&&(a.headerobj=ProChart_InitHeader(a));!0==a.guiinit.alert&&(a.alertobj=ProChart_InitAlert(a));!0==a.guiinit.msg&&(a.msgobj=ProChart_InitMsg(a));!0==a.guiinit.toolbaradv&&"undefined"!=typeof ProChart_InitToolbarAdv&&ProChart_InitToolbarAdv(a);!0==a.guiinit.plugs&&"undefined"!=typeof ProChart_InitPlugs&&ProChart_InitPlugs(a);!0==a.guiinit.props&&"undefined"!=typeof ProChart_InitProps&&ProChart_InitProps(a);"undefined"!=typeof ProChart_InitPanels&&(a.chart.UI.objPanelsCore=ProChart_InitPanels(a).core);
!0==a.guiinit.zoom&&"undefined"!=typeof ProChart_InitZoom&&ProChart_InitZoom(a);!0==a.guiinit.trade&&"undefined"!=typeof ProChart_InitTrade&&ProChart_InitTrade(a);ProChart_InitPreload(a);"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&R()}function R(){$("#"+a.guiinit.parentRelativeObjectID).resize(function(b){var e=null,c=null;"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?(e=$(b.srcElement).width(),
c=$(b.srcElement).height()):(e="undefined"!=typeof $(this).outerWidth()?$(this).outerWidth():$(this).width(),c="undefined"!=typeof $(this).outerHeight()?$(this).outerHeight():$(this).height());if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(e,c);else a.api.layout.changeSize(e,c,!1)})}function Q(h,e,w){k.debug("initChart_step2 ---- starts ("+h+")");"undefined"!=typeof a.menuobj&&a.menuobj.gui.viewMenu($("#layout"+e));"undefined"!=typeof a.headerobj&&
a.headerobj.gui.viewHeader($("#layout"+e));"undefined"!=typeof a.alertobj&&a.alertobj.gui.viewAlert($("#layout"+e));"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewToolbarTop($("#layout"+e));a.chart.UI.funcOnShapeSelectChange=S;a.chart.UI.funcOnStartDrawing=T;a.chart.UI.funcOnStopDrawing=U;a.chart.UI.funcOnShapeDelete=V;a.chart.UI.funcOnShapeChanged=W;a.chart.UI.funcOnShapeEndDrag=X;a.chart.UI.funcOnShapeEndSize=Y;a.chart.UI.funcOnStudyUpdated=Z;a.chart.UI.funcOnStudyAdded=aa;a.chart.UI.funcOnStudyDeleted=
ba;a.chart.UI.funcOnLastUpdateChange=ca;a.chart.UI.funcOnSymbolChange=da;a.chart.UI.funcOnTimeScaleChange=ea;a.chart.UI.funcOnCommChange=fa;a.chart.UI.funcOnChartSweepStart=ga;a.chart.UI.funcOnChartSweepEnd=ha;a.chart.UI.funcOnWait=ia;a.chart.UI.funcOnLogin=ja;a.chart.UI.funcOnTemplatesList=ka;a.chart.UI.funcOnTemplatesLoaded=la;a.chart.UI.funcOnTemplatesSaved=ma;a.chart.UI.funcOnTemplatesDeleted=na;a.chart.UI.funcOnTemplatesError=oa;a.chart.UI.funcOnPriceEdit=pa;a.chart.UI.funcOnTimeChange=qa;a.chart.UI.funcOnPriceTypeChange=
ra;a.chart.UI.funcOnTimeZoneChanged=sa;a.chart.UI.funcOnCompareEdit=ta;a.chart.UI.funcOnCompareSymbolDelete=ua;a.chart.UI.funcOnVolumeEdit=va;a.chart.UI.funcOnSignalMouseIn=wa;a.chart.UI.funcOnSignalMouseOut=xa;a.chart.UI.funcOnSignalMouseClick=ya;a.chart.UI.funcOnNewSignal=za;a.chart.UI.funcOnSignalRemoved=Aa;a.chart.UI.funcOnSignalFullRefresh=Ba;a.chart.UI.funcOnWaitForSignals=Ca;a.chart.UI.funcOnGotSignals=Da;a.chart.UI.funcOnFindSymbols=Ea;a.chart.UI.funcOnSymbolsByGroup=Fa;a.chart.UI.funcOnGetMarkets=
Ga;a.chart.UI.funcOnGetExchanges=Ha;a.chart.UI.funcOnGetCountries=Ia;a.chart.UI.funcOnDisablePanelUI=Ja;a.chart.UI.funcOnPluginContentUpdate=Ka;a.chart.UI.funcOnPluginEnableChanged=La;a.chart.UI.funcOnProSignalUpdateDisplay=Ma;a.localizationobj.funcOnChangeLocalication=Na;a.events.layout.onResizeParentRelative=Oa;a.chart.UI.funcOnCanSaveTA=Pa;a.chart.UI.funcOnCanLoadTA=Qa;a.chart.UI.funcOnEditOrder=function(b,d){"undefined"!=typeof a.tradeobj&&a.tradeobj.gui.openTradeDialog(b,d,a.chart)};a.chart.StudiesToLoad=
b(a.init.chart.StudiesToLoad,c.chart.StudiesToLoad);x()}function Pa(b,e,c){if(typeof a.events.chart.onCanSaveTA==typeof Function)a.events.chart.onCanSaveTA(e,c)}function Qa(b,e,c){if(typeof a.events.chart.onCanLoadTA==typeof Function)a.events.chart.onCanLoadTA(e,c)}function Oa(b,e){"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&a.api.layout.changeSize(b,e)}function Ra(a,b){var c=this;c.wait=!1;c.delta=200;c.end=a;c.trigger=function(a){c.wait||(c.wait=
!0,setTimeout(function(){c.end&&c.end.call(a);c.wait=!1},c.delta))}}function G(){var b=$(a.parent);b.append("<div id='chart-full-page-div-modal'  ><div></div></div>");b.append("<div id='chart-full-page-div-modal-bg'></div>");b=$(a.parent).find("prochart").detach();$("#chart-full-page-div-modal > div").append(b);x();H();var e=new Ra(function(){"undefined"!=typeof a.chart&&!0==a.currenlayout.workmode.fullscreen&&(x(),H())},600);$(window).resize().off();$(window).resize(function(){e.trigger()})}function H(){var a=
p();$("#chart-full-page-div-modal > div").css(a)}function T(b,e,c){$("#"+a.init.chartcontainerid).addClass("cursor-draw");if(typeof a.events.chart.onStartDrawing==typeof Function)a.events.chart.onStartDrawing(e,c);if(typeof a.events.shape.onStartDrawing==typeof Function)a.events.shape.onStartDrawing()}function U(b){$("#"+a.init.chartcontainerid).removeClass("cursor-draw");if(typeof a.events.chart.onStopDrawing==typeof Function)a.events.chart.onStopDrawing();if(typeof a.events.shape.onStopDrawing==
typeof Function)a.events.shape.onStopDrawing()}function S(b,e,c){c&&$("#"+a.init.chartcontainerid).focus();if(typeof a.events.chart.onShapeSelectChange==typeof Function)a.events.chart.onShapeSelectChange(e,c);if(typeof a.events.shape.onSelectChange==typeof Function)a.events.shape.onSelectChange()}function V(){if(typeof a.events.shape.onDelete==typeof Function)a.events.shape.onDelete()}function W(){if(typeof a.events.shape.onChanged==typeof Function)a.events.shape.onChanged()}function X(){if(typeof a.events.shape.onEndDrag==
typeof Function)a.events.shape.onEndDrag()}function Y(){if(typeof a.events.shape.onEndSize==typeof Function)a.events.shape.onEndSize()}function Z(){if(typeof a.events.study.onUpdated==typeof Function)a.events.study.onUpdated()}function aa(){if(typeof a.events.study.onAdded==typeof Function)a.events.study.onAdded()}function ba(){if(typeof a.events.study.onDeleted==typeof Function)a.events.study.onDeleted()}function ka(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.systemsList(b,e,c);if(typeof a.events.chart.onTemplatesList==
typeof Function)a.events.chart.onTemplatesList(e,c)}function la(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loadedSystem(b,e);if(typeof a.events.chart.onTemplatesLoaded==typeof Function)a.events.chart.onTemplatesLoaded(e)}function ja(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loginInSystems(b,e);if(typeof a.events.chart.onSystemLogin==typeof Function)a.events.chart.onSystemLogin(e)}function ma(b,e){"undefined"!=typeof a.systems&&a.systems.gui.savedSystem(b,e);if(typeof a.events.chart.onTemplatesSaved==
typeof Function)a.events.chart.onTemplatesSaved(e)}function na(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.deletedSystem(b,e,c);if(typeof a.events.chart.onTemplatesDeleted==typeof Function)a.events.chart.onTemplatesDeleted(e,c)}function oa(b,e,c){"undefined"!=typeof a.systems&&a.systems.gui.errorSystem(b,e,c);if(typeof a.events.chart.onTemplatesError==typeof Function)a.events.chart.onTemplatesError(e,c)}function pa(b,e){"undefined"!=typeof a.props&&a.props.gui.viewPriceOnly(b,e);if(typeof a.events.chart.onPriceEdit==
typeof Function)a.events.chart.onPriceEdit(e)}function ta(b,e){"undefined"!=typeof a.compares&&a.compares.gui.openCompareSymbol(b,e);if(typeof a.events.chart.onCompareEdit==typeof Function)a.events.chart.onCompareEdit(e)}function ua(a,b){}function va(b,e){"undefined"!=typeof a.props&&a.props.gui.viewVolumeOnly(b,e);if(typeof a.events.chart.onVolumeEdit==typeof Function)a.events.chart.onVolumeEdit(e)}function qa(b,e,c){if(typeof a.events.chart.onTimeChange==typeof Function)a.events.chart.onTimeChange(e,
c)}function ra(b,e){"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedChartTypeButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedChartTypeButton(e);if(typeof a.events.chart.onPriceTypeChange==typeof Function)a.events.chart.onPriceTypeChange(a.parent,e)}function sa(b,e){if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onTimeZoneChange();if(typeof a.events.chart.onTimeZoneChanged==typeof Function)a.events.chart.onTimeZoneChanged(a.parent,e)}function ca(b,e){if("undefined"!=
typeof a.headerobj)a.headerobj.gui.onLastUpdateChange(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onLastUpdateChange(b,e);if(typeof a.events.chart.onLastUpdateChange==typeof Function){var c=a.chart.GetLastBidAsk();a.events.chart.onLastUpdateChange(a.parent,e,c)}}function da(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeSymbol(b,e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.updateTimesScale(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.updateTimesScale(e);
"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale(e);if(typeof a.events.chart.onChangeSymbol==typeof Function)a.events.chart.onChangeSymbol(a.parent,e)}function ea(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeTimeframe(b,e);"undefined"!=typeof a.chart&&(a.chart.TimeFrame=e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedTimeFrameButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedTimeFrameButton(e);if(typeof a.events.chart.onChangeTimeframe==
typeof Function)a.events.chart.onChangeTimeframe(a.parent,e)}function fa(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onCommunication(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onCommunication(b,e);if(typeof a.events.chart.onCommunication==typeof Function)a.events.chart.onCommunication(a.parent,e)}function ga(b){if(typeof a.events.chart.onChartSweepStart==typeof Function)a.events.chart.onChartSweepStart()}function ha(b){if(typeof a.events.chart.onChartSweepEnd==typeof Function)a.events.chart.onChartSweepEnd()}
function ia(b,e,c){if("undefined"!=typeof a.preloadobj){switch(e){case !0:a.preloadobj.startPreload();break;case !1:a.preloadobj.endPreload()}if(typeof a.events.chart.onWait==typeof Function)a.events.chart.onWait(e,c)}}function b(a,b){return"undefined"!=typeof b&&null!=b?b:a}function xa(a,b){}function ya(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callfuncOnSignalMouseClick(b,e),typeof a.events.chart.onSignalMouseClick==typeof Function))a.events.chart.onSignalMouseClick(e)}function za(b,
e){if("undefined"!=typeof a.signals&&(a.signals.gui.callNewsignal(b,e),typeof a.events.chart.onNewSignal==typeof Function))a.events.chart.onNewSignal(e)}function Aa(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callRemovesignal(b,e),typeof a.events.chart.onSignalRemoved==typeof Function))a.events.chart.onSignalRemoved(e)}function Ba(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callFullRefreshsignals(b,e),typeof a.events.chart.onSignalFullRefresh==typeof Function))a.events.chart.onSignalFullRefresh(e)}
function wa(b,e){if("undefined"!=typeof a.signals&&typeof a.events.chart.onSignalMouseIn==typeof Function)a.events.chart.onSignalMouseIn(e)}function Ca(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.startWaitSignal(e),typeof a.events.chart.onWaitForSignals==typeof Function))a.events.chart.onWaitForSignals(e)}function Da(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal(e),typeof a.events.chart.onGotSignals==typeof Function))a.events.chart.onGotSignals(e)}
function Ea(b,e,c){if("undefined"!=typeof e.guiparent)switch(e.guiparent){case "header":"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,c);break;case "dialogcompares":"undefined"!=typeof a.compares&&a.compares.gui.callbackonFindSymbols(b,e,c);break;default:"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,c)}}function Fa(b,e,c){b="majors";"undefined"!=typeof e.guigroup&&(b=e.guigroup);switch(b){case "majors2":"undefined"!=typeof a.init&&a.init.gui.majors2Update(c.data);
"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajors2();break;case "majors":e=!0;try{null!=a.api.localstorage.getMajorsFavorites()&&(e=!1)}catch(f){}if(!0==e){"undefined"!=typeof a.init&&a.init.gui.majorsUpdate(c.data);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites();break}case "compares":e=!0;try{null!=a.api.localstorage.getCompareFavorites()&&(e=!1)}catch(d){}!0==e&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(c.data),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites())}}
function Ga(b,e,c){"undefined"!=typeof a.init&&a.init.gui.marketsUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.marketsUpdate()}function Ha(b,e,c){"undefined"!=typeof a.init&&a.init.gui.exchangesUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.exchangesUpdate()}function Ia(b,e,c){"undefined"!=typeof a.init&&a.init.gui.countriesUpdate(c.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.countriesUpdate()}function Ja(b,e){"undefined"!=typeof a.panels&&a.panels.gui.disablePanelEvents(b,
e)}function Ka(b,e,c,f){"undefined"!=typeof a.signals&&a.signals.gui.pluginContentUpdate(b,e,c,f)}function Ma(b,e,c){"undefined"!=typeof a.plugs&&a.plugs.gui.updateContent(b,e,c)}function La(b,e,c){"undefined"!=typeof a.signals&&a.signals.gui.pluginEnableChanged(b,e,c)}function Na(b,e){"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.changeLocalization(b,e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeLocalization(b,e);"undefined"!=typeof a.panels&&a.panels.gui.changeLocalization(b,
e);if(typeof a.events.localization.onChange==typeof Function)a.events.localization.onChange(a.parent,b,e)}function A(b,e,c){"undefined"==typeof c&&(c=!0);if(null!=a.parent&&""!=b){var f=$(a.parent).find(".htmlchart");0<f.length&&($(f).hasClass(b)||$(f).addClass(b),"default"!=b&&$(f).removeClass("default"),"undefined"!=typeof e?$(f).hasClass(e)&&b!=e&&$(f).removeClass(e):$(f).hasClass(z)&&b!=z&&$(f).removeClass(z),z=b,!0==a.gui.size.fullpage&&Sa(b),e=a.guiinit.cache,!0==e&&!1==c&&(e=!1),c=!1==e?"?"+
(new Date).getTime():"","undefined"!=typeof a.chart&&(e=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+b+"/chart.css.json.js"+c,""!=a.guiinit.customJsonCssFile&&(e=a.guiinit.customJsonCssFile+c),$.when(Ta(e)).then(function(a){}).done(function(){a.init.TemplateName=b;"undefined"!=typeof a.preloadobj&&a.preloadobj.endPreload()})))}}function Ta(b){if(a.navigator.XMLHttpRequest()){var c=new XMLHttpRequest,k=$.Deferred();c.open("get",b);c.onload=function(){var b=$.parseJSON(c.responseText);$.parseJSON(c.responseText);
a.chart.StyleObject=b;a.chart.SetStyleObject(b);k.resolve(b)};c.send();return k}return $.ajax({url:b,contentType:"application/javascript",dataType:"json",data:{},success:function(b){a.chart.StyleObject=b;a.chart.SetStyleObject(b)},async:!0,error:function(a,b){}})}function Sa(a){var b=$("#chart-full-page-div-modal");if("undefined"!=typeof b){$(b).hasClass(a)||$(b).addClass(a);"default"!=a&&$(b).removeClass("default");for(var c="",f=1;10>=f;f++)c="template"+f,$(b).hasClass(c)&&a!=c&&$(b).removeClass(c)}}
function Ua(a){if("undefined"==typeof a)return!1;a=a.toLowerCase();for(var b=0;b<document.styleSheets.length;b++)if("undefined"!=typeof document.styleSheets[b].href&&null!=document.styleSheets[b].href&&-1<document.styleSheets[b].href.toLowerCase().indexOf(a))return!0;return!1}function P(){var b=$.Deferred(),c=a.init.TemplateName,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+c+"/chart.css.json.js"+k;""!=a.guiinit.customJsonCssFile&&(c=a.guiinit.customJsonCssFile+
k);if(a.navigator.XMLHttpRequest()){var f=new XMLHttpRequest;f.open("get",c);f.onload=function(){var c=$.parseJSON(f.responseText);a.chart.StyleObject=c;b.resolve(c)};f.send()}else return $.ajax({type:"GET",async:!0,contentType:"application/javascript",dataType:"json",url:c,data:{}}).done(function(c){a.chart.StyleObject=c;b.resolve(c)});return b.promise()}function m(a,b){var c="",f=a.indexOf("<"+b+">"),d=("<"+b+">").length,g=a.indexOf("</"+b+">");-1!=f&&-1!=g&&g>f+d&&(c=a.substring(f+d,g));return c}
function Va(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1}var a={},c={},I=".min",n=/=""/g;a.parent=J;a.layoutlevelinit=c;a.templates=[];a.version={gui:{name:"",build:0,custom:0}};var z="";a.eventStatus={layoutreadyComplete:!1,layoutInitComplete:!1,
chartCreateComplete:!1};var y={resizelayout:!1};a.gui={loadLayout:function(){a.navigator.properties.detectIE=Va();"undefined"!=typeof a.guiinit.minifier&&!1==a.guiinit.minifier&&(I="");"undefined"!=typeof a.guiinit.cache&&!1==a.guiinit.cache&&(C="?"+(new Date).getTime());$.when(K(),L(),D()).done(function(){M();k.debug("Loadded loadJsonIni(), loadVersion(), loadLayoutJson()")})},createChart:function(){var b=$(a.parent).find("#"+a.init.chartcontainerid)[0];CreateAdvinionHtmlChart(a.chart,a.init.chartcontainerid,
null,null,null,null);adv_hook_event.ADVINION_Internal_HookEvent(b,"mousewheel",adv_hook_event.ADVINION_Internal_CancelEvent);"undefined"!=typeof a.zoomobj&&(a.zoomobj.gui.viewZoom($("#layout"+a.init.uuid)),a.zoomobj.gui.viewZoomToolbox());try{var c=$("#"+a.guiinit.parentRelativeObjectID),k=b=null,b="undefined"!=typeof $(c).outerWidth()?$(c).outerWidth():$(c).width(),k="undefined"!=typeof $(c).outerHeight()?$(c).outerHeight():$(c).height();if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(b,
k);else a.api.layout.changeSize(b,k,!1)}catch(f){}"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.changeLocalization();"function"==typeof a.events.chart.createComplete&&a.events.chart.createComplete()},changeTemplate:A,loadchangeTemplate:function(b){if(""!=b){var c=a.version.gui.name,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+v+"/templates/"+b+"/template"+I+".css",c="css!"+f+(""==k?"?"+c:k+c);"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload();
Ua(f)?A(b):(yepnope.errorTimeout=a.init.debug.yeapTimeout,yepnope({load:{loadtempl:c},complete:function(a,c,e){A(b)}}))}},fullScreen:function(b){if(a.currenlayout.workmode.alwaysfullscreen)a.apiinit.fullpageHideScroll&&$("body").css("overflow","hidden");else switch(a.currenlayout.workmode.fullscreen){case !1:a.currenlayout.workmode.fullscreen=!0;G();a.apiinit.fullpageHideScroll&&$("body").css("overflow","hidden");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!0);
break;case !0:a.currenlayout.workmode.fullscreen=!1;b=$(a.parent);a.currenlayout.workmode.fullscreen=!1;var c=$(a.parent).find("prochart").detach();b.html("");b.append(c);if("undefined"!=typeof a.zoomobj&!1==a.gui.size.fixedSize)a.zoomobj.gui.onZoomBottomFixed(!1);$(window).resize().off();x();a.apiinit.fullpageHideScroll&&$("body").css("overflow","inherit");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!1)}},adjustResize:x,resizeLayout:x,changeLayout:function(){$.when(D()).done(function(){k.debug("changeLayout")})}};
a.navigator={properties:{detectIE:!1,xdrMinIE:10,alvaysXMLHttpRequest:!1},XMLHttpRequest:function(){return"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest&&a.navigator.properties.detectIE<=a.navigator.properties.xdrMinIE||a.navigator.properties.alvaysXMLHttpRequest}};a.events=ProChart_InitApiEvents(a);a.api=ProChart_InitApi(a);a.apiinit=ProChart_InitApiInit(a);a.apiactions=ProChart_InitApiActions(a);a.apicommondata=ProChart_InitApiCommonDataInit(a);
a.apibi=ProChart_InitApiBI(a);var k=a.api.debug.getLogger("prochart.gui.layout"),C="";return a};
