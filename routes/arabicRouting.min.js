const express=require("express"),router=express.Router(),sgMail=require("@sendgrid/mail");sgMail.setApiKey(process.env.SENDGRID_API_KEY);const butter=require("buttercms")(process.env.BUTTER_KEY),fetch=require("node-fetch");router.get("/",(e,t)=>{butter.page.retrieve("*","homepage-ar").then(function(e){var r=e.data.data;t.render("ar/index",{page:r})})}),router.get("/"+encodeURIComponent("أكاديمية-التداول")+"/:loginStatus",(e,t)=>{var r={fields:{seo:{meta_description:"أكاديمية التداول هي اكاديمية تعليمية تعمل على ارشاد وتعليم في الاستثمار بأسواق المال العالمية والمحلية,يتم تجديد الفيديوهات",meta_keyword:"أكاديمية التداول",page_title:"أكاديمية التداول - Evest تعلم تداول الأسهم, استثمر في الأسهم العالمية 100% بدون عمولة"}}};"true"==e.params.loginStatus?t.render("ar/tradingAcademyLogedin",{page:r}):t.render("ar/tradingAcademy",{page:r})}),router.get("/"+encodeURIComponent("أكاديمية-التداول"),(e,t)=>{var r={fields:{seo:{meta_description:"أكاديمية التداول هي اكاديمية تعليمية تعمل على ارشاد وتعليم في الاستثمار بأسواق المال العالمية والمحلية,يتم تجديد الفيديوهات",meta_keyword:"أكاديمية التداول",page_title:"أكاديمية التداول - Evest تعلم تداول الأسهم, استثمر في الأسهم العالمية 100% بدون عمولة"}}};t.render("ar/tradingAcademy",{page:r})}),router.get("/"+encodeURIComponent("أسئلة-شائعة"),(e,t)=>{butter.page.retrieve("*","faq-ar").then(function(e){var r=e.data.data;t.render("ar/faq",{page:r})})}),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("انواع-الحسابات"),function(e,t){butter.page.retrieve("*","accounttypes-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/accountTypes",{page:r})})}),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("الوثائق-و-السياسات"),function(e,t){butter.page.retrieve("*","documentspolicies-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/documentsPolicies",{page:r})})}),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("الإيداع-و-السحب"),(e,t)=>butter.page.retrieve("*","depositandwithdrawal-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/depositAndWithdrawal",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("رسوم-ايفست"),(e,t)=>butter.page.retrieve("*","tradingfees-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/tradingFees",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("اوقات-التداول"),(e,t)=>butter.page.retrieve("*","tradinghours-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/tradingHours",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("حاسبات-التداول"),(e,t)=>butter.page.retrieve("*","tradingcalculator-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/tradingCalculator",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("تداول-الاسهم-0-عمولة"),(e,t)=>butter.page.retrieve("*","zerocommission-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/zeroCommission",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("حساب-تداول-تجريبي"),(e,t)=>butter.page.retrieve("*","demoaccount-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/demoAccount",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("حساب-تداول-إسلامي"),(e,t)=>butter.page.retrieve("*","islamic-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/islamic",{page:r})})),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("العملات-الرقمية"),(e,t)=>{butter.page.retrieve("*","crypto-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/crypto",{page:r})})}),router.get("/"+encodeURIComponent("ابدا-التداول")+"/"+encodeURIComponent("سَلاَّت-تداول-استثمارية"),(e,t)=>{butter.page.retrieve("*","eib-ar").then(function(e){var r=e.data.data;t.render("ar/StartTrading/EIBS",{page:r})})}),router.get("/"+encodeURIComponent("التداول-من-الجوال"),(e,t)=>{butter.page.retrieve("*","mobile-ar").then(function(e){var r=e.data.data;t.render("ar/Platforms/mobile",{page:r})})}),router.get("/"+encodeURIComponent("تداول-من-المتصفح"),(e,t)=>{butter.page.retrieve("*","web-ar").then(function(e){var r=e.data.data;t.render("ar/Platforms/web",{page:r})})}),router.get("/"+encodeURIComponent("ميتاتريدر-5"),(e,t)=>{butter.page.retrieve("*","metatrader-ar").then(function(e){var r=e.data.data;t.render("ar/Platforms/metatrader",{page:r})})}),router.get("/"+encodeURIComponent("تطبيق-تداول-ايفست"),(e,t)=>{butter.page.retrieve("*","tradingapp-ar").then(function(e){var r=e.data.data;t.render("ar/Platforms/tradingApp",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست"),(e,t)=>{butter.page.retrieve("*","evest-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/evest",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("لماذا-إيڤست"),(e,t)=>{butter.page.retrieve("*","whyevest-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/whyevest",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("اتصل-بنا"),(e,t)=>{butter.page.retrieve("*","contactus-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/contactUs",{page:r,message:""})})}),router.post("/sendArabic",(e,t)=>{const r={to:"support@evest.com",from:"no-replay@customers-evest.com",subject:"New Message from the CEO website page",html:`  <h1>You Got New Message</h1>\n    <p>EMAIL: ${e.body.email}.<br><br>\n    FULL NAME: ${e.body.fullName}.<br><br>\n    SUBJECT: ${e.body.subject}.<br><br>\n    MESSAGE: ${e.body.message}.<br></p>`,replyTo:`${e.body.email}`};sgMail.send(r).then(()=>{},e=>{console.error(e),e.response&&console.error(e.response.body)}),butter.page.retrieve("*","contactus-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/contactUs",{page:r,message:"تم ارسال الرسالة بنجاح , سوف نقوم بتواصل معك باقرب وقت"})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("وظائف-إيڤست"),(e,t)=>{butter.page.retrieve("*","career-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/careers",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("مركز-المساعدة"),(e,t)=>{butter.page.retrieve("*","helpdesk-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/helpdesk",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("تراخيص-التداول"),(e,t)=>{butter.page.retrieve("*","regulatoryauthorisation-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/regulatoryAuthorisation",{page:r})})}),router.get("/"+encodeURIComponent("إيڤست")+"/"+encodeURIComponent("سفير-إيڤست"),(e,t)=>{butter.page.retrieve("*","ambassador-ar").then(function(e){var r=e.data.data;t.render("ar/Evest/ambassador",{page:r})})}),router.get("/"+encodeURIComponent("المدير-التنفيذي"),(e,t)=>{butter.page.retrieve("*","ceo-ar").then(function(e){var r=e.data.data;t.render("ar/ceo",{page:r})})}),router.post("/"+encodeURIComponent("المدير-التنفيذي"),(e,t)=>{const r={to:"ceo@evest.com",from:"no-replay@customers-evest.com",subject:"New Message from the CEO website page",html:`  <h1>You Got New Message</h1>\n    <p>EMAIL: ${e.body.email}.<br><br>\n    FULL NAME: ${e.body.fullName}.<br><br>\n    SUBJECT: ${e.body.subject}.<br><br>\n    MESSAGE: ${e.body.message}.<br></p>`,replyTo:`${e.body.email}`,autoReply:"testttt"};sgMail.send(r).then(()=>{},e=>{console.error(e),e.response&&console.error(e.response.body)}),butter.page.retrieve("*","ceo-ar").then(function(e){var r=e.data.data;t.render("ar/ceo",{page:r})})}),router.get("/"+encodeURIComponent("منتجات-التداول"),(e,t)=>{butter.page.retrieve("*","tools-ar").then(function(e){var r=e.data.data;t.render("ar/TradingProducts/products",{page:r})})}),module.exports=router;